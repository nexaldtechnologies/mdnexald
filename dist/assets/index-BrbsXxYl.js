function _v(a,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in a)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function fl(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Nv(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var c=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(r,i,c.get?c:{enumerable:!0,get:function(){return a[i]}})}),r}var dd={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Ev(){if(fg)return Qi;fg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,c,u){var d=null;if(u!==void 0&&(d=""+u),c.key!==void 0&&(d=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:a,type:i,key:d,ref:c!==void 0?c:null,props:u}}return Qi.Fragment=n,Qi.jsx=r,Qi.jsxs=r,Qi}var mg;function Cv(){return mg||(mg=1,dd.exports=Ev()),dd.exports}var l=Cv(),hd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Tv(){if(gg)return Ee;gg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function E(T,M,j){this.props=T,this.context=M,this.refs=A,this.updater=j||S}E.prototype.isReactComponent={},E.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},E.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=E.prototype;function O(T,M,j){this.props=T,this.context=M,this.refs=A,this.updater=j||S}var Y=O.prototype=new q;Y.constructor=O,_(Y,E.prototype),Y.isPureReactComponent=!0;var I=Array.isArray;function D(){}var G={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function le(T,M,j){var U=j.ref;return{$$typeof:a,type:T,key:M,ref:U!==void 0?U:null,props:j}}function re(T,M){return le(T.type,M,T.props)}function oe(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function W(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(j){return M[j]})}var he=/\/+/g;function de(T,M){return typeof T=="object"&&T!==null&&T.key!=null?W(""+T.key):M.toString(36)}function te(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(D,D):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function L(T,M,j,U,Q){var se=typeof T;(se==="undefined"||se==="boolean")&&(T=null);var je=!1;if(T===null)je=!0;else switch(se){case"bigint":case"string":case"number":je=!0;break;case"object":switch(T.$$typeof){case a:case n:je=!0;break;case x:return je=T._init,L(je(T._payload),M,j,U,Q)}}if(je)return Q=Q(T),je=U===""?"."+de(T,0):U,I(Q)?(j="",je!=null&&(j=je.replace(he,"$&/")+"/"),L(Q,M,j,"",function(gt){return gt})):Q!=null&&(oe(Q)&&(Q=re(Q,j+(Q.key==null||T&&T.key===Q.key?"":(""+Q.key).replace(he,"$&/")+"/")+je)),M.push(Q)),1;je=0;var _e=U===""?".":U+":";if(I(T))for(var Oe=0;Oe<T.length;Oe++)U=T[Oe],se=_e+de(U,Oe),je+=L(U,M,j,se,Q);else if(Oe=v(T),typeof Oe=="function")for(T=Oe.call(T),Oe=0;!(U=T.next()).done;)U=U.value,se=_e+de(U,Oe++),je+=L(U,M,j,se,Q);else if(se==="object"){if(typeof T.then=="function")return L(te(T),M,j,U,Q);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return je}function V(T,M,j){if(T==null)return T;var U=[],Q=0;return L(T,U,"","",function(se){return M.call(j,se,Q++)}),U}function ee(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(j){(T._status===0||T._status===-1)&&(T._status=1,T._result=j)},function(j){(T._status===0||T._status===-1)&&(T._status=2,T._result=j)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var fe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},N={map:V,forEach:function(T,M,j){V(T,function(){M.apply(this,arguments)},j)},count:function(T){var M=0;return V(T,function(){M++}),M},toArray:function(T){return V(T,function(M){return M})||[]},only:function(T){if(!oe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ee.Activity=b,Ee.Children=N,Ee.Component=E,Ee.Fragment=r,Ee.Profiler=c,Ee.PureComponent=O,Ee.StrictMode=i,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(T){return G.H.useMemoCache(T)}},Ee.cache=function(T){return function(){return T.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(T,M,j){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var U=_({},T.props),Q=T.key;if(M!=null)for(se in M.key!==void 0&&(Q=""+M.key),M)!Z.call(M,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&M.ref===void 0||(U[se]=M[se]);var se=arguments.length-2;if(se===1)U.children=j;else if(1<se){for(var je=Array(se),_e=0;_e<se;_e++)je[_e]=arguments[_e+2];U.children=je}return le(T.type,Q,U)},Ee.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ee.createElement=function(T,M,j){var U,Q={},se=null;if(M!=null)for(U in M.key!==void 0&&(se=""+M.key),M)Z.call(M,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Q[U]=M[U]);var je=arguments.length-2;if(je===1)Q.children=j;else if(1<je){for(var _e=Array(je),Oe=0;Oe<je;Oe++)_e[Oe]=arguments[Oe+2];Q.children=_e}if(T&&T.defaultProps)for(U in je=T.defaultProps,je)Q[U]===void 0&&(Q[U]=je[U]);return le(T,se,Q)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(T){return{$$typeof:m,render:T}},Ee.isValidElement=oe,Ee.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:ee}},Ee.memo=function(T,M){return{$$typeof:g,type:T,compare:M===void 0?null:M}},Ee.startTransition=function(T){var M=G.T,j={};G.T=j;try{var U=T(),Q=G.S;Q!==null&&Q(j,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(D,fe)}catch(se){fe(se)}finally{M!==null&&j.types!==null&&(M.types=j.types),G.T=M}},Ee.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ee.use=function(T){return G.H.use(T)},Ee.useActionState=function(T,M,j){return G.H.useActionState(T,M,j)},Ee.useCallback=function(T,M){return G.H.useCallback(T,M)},Ee.useContext=function(T){return G.H.useContext(T)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(T,M){return G.H.useDeferredValue(T,M)},Ee.useEffect=function(T,M){return G.H.useEffect(T,M)},Ee.useEffectEvent=function(T){return G.H.useEffectEvent(T)},Ee.useId=function(){return G.H.useId()},Ee.useImperativeHandle=function(T,M,j){return G.H.useImperativeHandle(T,M,j)},Ee.useInsertionEffect=function(T,M){return G.H.useInsertionEffect(T,M)},Ee.useLayoutEffect=function(T,M){return G.H.useLayoutEffect(T,M)},Ee.useMemo=function(T,M){return G.H.useMemo(T,M)},Ee.useOptimistic=function(T,M){return G.H.useOptimistic(T,M)},Ee.useReducer=function(T,M,j){return G.H.useReducer(T,M,j)},Ee.useRef=function(T){return G.H.useRef(T)},Ee.useState=function(T){return G.H.useState(T)},Ee.useSyncExternalStore=function(T,M,j){return G.H.useSyncExternalStore(T,M,j)},Ee.useTransition=function(){return G.H.useTransition()},Ee.version="19.2.0",Ee}var pg;function uh(){return pg||(pg=1,hd.exports=Tv()),hd.exports}var z=uh();const La=fl(z);var fd={exports:{}},Wi={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function Av(){return xg||(xg=1,(function(a){function n(L,V){var ee=L.length;L.push(V);e:for(;0<ee;){var fe=ee-1>>>1,N=L[fe];if(0<c(N,V))L[fe]=V,L[ee]=N,ee=fe;else break e}}function r(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],ee=L.pop();if(ee!==V){L[0]=ee;e:for(var fe=0,N=L.length,T=N>>>1;fe<T;){var M=2*(fe+1)-1,j=L[M],U=M+1,Q=L[U];if(0>c(j,ee))U<N&&0>c(Q,j)?(L[fe]=Q,L[U]=ee,fe=U):(L[fe]=j,L[M]=ee,fe=M);else if(U<N&&0>c(Q,ee))L[fe]=Q,L[U]=ee,fe=U;else break e}}return V}function c(L,V){var ee=L.sortIndex-V.sortIndex;return ee!==0?ee:L.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,b=null,w=3,v=!1,S=!1,_=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function Y(L){for(var V=r(g);V!==null;){if(V.callback===null)i(g);else if(V.startTime<=L)i(g),V.sortIndex=V.expirationTime,n(p,V);else break;V=r(g)}}function I(L){if(_=!1,Y(L),!S)if(r(p)!==null)S=!0,D||(D=!0,W());else{var V=r(g);V!==null&&te(I,V.startTime-L)}}var D=!1,G=-1,Z=5,le=-1;function re(){return A?!0:!(a.unstable_now()-le<Z)}function oe(){if(A=!1,D){var L=a.unstable_now();le=L;var V=!0;try{e:{S=!1,_&&(_=!1,q(G),G=-1),v=!0;var ee=w;try{t:{for(Y(L),b=r(p);b!==null&&!(b.expirationTime>L&&re());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,w=b.priorityLevel;var N=fe(b.expirationTime<=L);if(L=a.unstable_now(),typeof N=="function"){b.callback=N,Y(L),V=!0;break t}b===r(p)&&i(p),Y(L)}else i(p);b=r(p)}if(b!==null)V=!0;else{var T=r(g);T!==null&&te(I,T.startTime-L),V=!1}}break e}finally{b=null,w=ee,v=!1}V=void 0}}finally{V?W():D=!1}}}var W;if(typeof O=="function")W=function(){O(oe)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,de=he.port2;he.port1.onmessage=oe,W=function(){de.postMessage(null)}}else W=function(){E(oe,0)};function te(L,V){G=E(function(){L(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(L){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var ee=w;w=V;try{return L()}finally{w=ee}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=w;w=L;try{return V()}finally{w=ee}},a.unstable_scheduleCallback=function(L,V,ee){var fe=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,L){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ee+N,L={id:x++,callback:V,priorityLevel:L,startTime:ee,expirationTime:N,sortIndex:-1},ee>fe?(L.sortIndex=ee,n(g,L),r(p)===null&&L===r(g)&&(_?(q(G),G=-1):_=!0,te(I,ee-fe))):(L.sortIndex=N,n(p,L),S||v||(S=!0,D||(D=!0,W()))),L},a.unstable_shouldYield=re,a.unstable_wrapCallback=function(L){var V=w;return function(){var ee=w;w=V;try{return L.apply(this,arguments)}finally{w=ee}}}})(gd)),gd}var bg;function Ov(){return bg||(bg=1,md.exports=Av()),md.exports}var pd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function Rv(){if(yg)return Gt;yg=1;var a=uh();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:p,containerInfo:g,implementation:x}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gt.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(p,g,null,x)},Gt.flushSync=function(p){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=x,i.d.f()}},Gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Gt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,b=m(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,v=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:v}):x==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:v,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=m(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Gt.requestFormReset=function(p){i.d.r(p)},Gt.unstable_batchedUpdates=function(p,g){return p(g)},Gt.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},Gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gt.version="19.2.0",Gt}var vg;function Dv(){if(vg)return pd.exports;vg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),pd.exports=Rv(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Mv(){if(wg)return Wi;wg=1;var a=Ov(),n=uh(),r=Dv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,o=t;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),t;f=f.sibling}throw Error(i(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,k=h.child;k;){if(k===s){y=!0,s=h,o=f;break}if(k===o){y=!0,o=h,s=f;break}k=k.sibling}if(!y){for(k=f.child;k;){if(k===s){y=!0,s=f,o=h;break}if(k===o){y=!0,o=f,s=h;break}k=k.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case O:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var te=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],N=-1;function T(e){return{current:e}}function M(e){0>N||(e.current=fe[N],fe[N]=null,N--)}function j(e,t){N++,fe[N]=e.current,e.current=t}var U=T(null),Q=T(null),se=T(null),je=T(null);function _e(e,t){switch(j(se,t),j(Q,e),j(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=Bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(U),j(U,e)}function Oe(){M(U),M(Q),M(se)}function gt(e){e.memoizedState!==null&&j(je,e);var t=U.current,s=Bm(t,e.type);t!==s&&(j(Q,e),j(U,s))}function cn(e){Q.current===e&&(M(U),M(Q)),je.current===e&&(M(je),Vi._currentValue=ee)}var ht,Bn;function Et(e){if(ht===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ht=t&&t[1]||"",Bn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+e+Bn}var Un=!1;function ia(e,t){if(!e||Un)return"";Un=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(F){var $=F}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(F){$=F}e.call(ae.prototype)}}else{try{throw Error()}catch(F){$=F}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(F){if(F&&$&&typeof F.stack=="string")return[F.stack,$.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],k=f[1];if(y&&k){var C=y.split(`
`),H=k.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===H.length)for(o=C.length-1,h=H.length-1;1<=o&&0<=h&&C[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==H[h]){var J=`
`+C[o].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=o&&0<=h);break}}}finally{Un=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Et(s):""}function yr(e,t){switch(e.tag){case 26:case 27:case 5:return Et(e.type);case 16:return Et("Lazy");case 13:return e.child!==t&&t!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return Et("Activity");default:return""}}function _n(e){try{var t="",s=null;do t+=yr(e,s),s=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Kt=Object.prototype.hasOwnProperty,Lt=a.unstable_scheduleCallback,za=a.unstable_cancelCallback,un=a.unstable_shouldYield,Nn=a.unstable_requestPaint,tt=a.unstable_now,la=a.unstable_getCurrentPriorityLevel,K=a.unstable_ImmediatePriority,ce=a.unstable_UserBlockingPriority,ve=a.unstable_NormalPriority,Ne=a.unstable_LowPriority,He=a.unstable_IdlePriority,Ot=a.log,In=a.unstable_setDisableYieldValue,Rt=null,pt=null;function Dt(e){if(typeof Ot=="function"&&In(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Rt,e)}catch{}}var Fe=Math.clz32?Math.clz32:ti,Pn=Math.log,qt=Math.LN2;function ti(e){return e>>>=0,e===0?32:31-(Pn(e)/qt|0)|0}var Xr=256,Zr=262144,vr=4194304;function oa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wr(e,t,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var k=o&134217727;return k!==0?(o=k&~f,o!==0?h=oa(o):(y&=k,y!==0?h=oa(y):s||(s=k&~e,s!==0&&(h=oa(s))))):(k=o&~f,k!==0?h=oa(k):y!==0?h=oa(y):s||(s=o&~e,s!==0&&(h=oa(s)))),h===0?0:t!==0&&t!==h&&(t&f)===0&&(f=h&-h,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:h}function Ba(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var e=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),e}function es(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ca(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ni(e,t,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var k=e.entanglements,C=e.expirationTimes,H=e.hiddenUpdates;for(s=y&~s;0<s;){var J=31-Fe(s),ae=1<<J;k[J]=0,C[J]=-1;var $=H[J];if($!==null)for(H[J]=null,J=0;J<$.length;J++){var F=$[J];F!==null&&(F.lane&=-536870913)}s&=~ae}o!==0&&Ia(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Ia(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Fe(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ai(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var o=31-Fe(s),h=1<<o;h&t|e[o]&t&&(e[o]|=t),s&=~h}}function kr(e,t){var s=t&-t;return s=(s&42)!==0?1:jr(s),(s&(e.suspendedLanes|t))!==0?0:s}function jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xl(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function ic(e,t){var s=V.p;try{return V.p=e,t()}finally{V.p=s}}var Hn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Hn,zt="__reactProps$"+Hn,ua="__reactContainer$"+Hn,ri="__reactEvents$"+Hn,si="__reactListeners$"+Hn,bl="__reactHandles$"+Hn,yl="__reactResources$"+Hn,Ha="__reactMarker$"+Hn;function da(e){delete e[vt],delete e[zt],delete e[ri],delete e[si],delete e[bl]}function ha(e){var t=e[vt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ua]||s[vt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Gm(e);e!==null;){if(s=e[vt])return s;e=Gm(e)}return t}e=s,s=e.parentNode}return null}function Jt(e){if(e=e[vt]||e[ua]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Xt(e){var t=e[yl];return t||(t=e[yl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Ha]=!0}var ii=new Set,vl={};function Wn(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(vl[e]=t,e=0;e<t.length;e++)ii.add(t[e])}var Sr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},ts={};function lc(e){return Kt.call(ts,e)?!0:Kt.call(wl,e)?!1:Sr.test(e)?ts[e]=!0:(wl[e]=!0,!1)}function ga(e,t,s){if(lc(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function qa(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function qn(e,t,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+o)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $a(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kl(e,t,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){if(!e._valueTracker){var t=$a(e)?"checked":"value";e._valueTracker=kl(e,t,""+e[t])}}function li(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),o="";return e&&(o=$a(e)?e.checked?"true":"false":e.value),e=o,e!==s?(t.setValue(e),!0):!1}function _r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var X=/[\n"\\]/g;function ue(e){return e.replace(X,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function be(e,t,s,o,h,f,y,k){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?ct(e,y,$t(t)):s!=null?ct(e,y,$t(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+$t(k):e.removeAttribute("name")}function Le(e,t,s,o,h,f,y,k){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){ns(e);return}s=s!=null?""+$t(s):"",t=t!=null?""+$t(t):s,k||t===e.value||(e.value=t),e.defaultValue=t}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=k?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ns(e)}function ct(e,t,s){t==="number"&&_r(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Pe(e,t,s,o){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+$t(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function We(e,t,s){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+$t(s):""}function Ye(e,t,s,o){if(t==null){if(o!=null){if(s!=null)throw Error(i(92));if(te(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),t=s}s=$t(t),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ns(e)}function Ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Jn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function En(e,t,s){var o=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,s):typeof s!="number"||s===0||Jn.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Re(e,t,s){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in t)o=t[h],t.hasOwnProperty(h)&&s[h]!==o&&En(e,h,o)}else for(var f in t)t.hasOwnProperty(f)&&En(e,f,t[f])}function Ct(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return as.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pa(){}var oc=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rs=null,ss=null;function Mh(e){var t=Jt(e);if(t&&(e=t.stateNode)){var s=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(be(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ue(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var o=s[t];if(o!==e&&o.form===e.form){var h=o[zt]||null;if(!h)throw Error(i(90));be(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(t=0;t<s.length;t++)o=s[t],o.form===e.form&&li(o)}break e;case"textarea":We(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Pe(e,!!s.multiple,t,!1)}}}var uc=!1;function Lh(e,t,s){if(uc)return e(t,s);uc=!0;try{var o=e(t);return o}finally{if(uc=!1,(rs!==null||ss!==null)&&(co(),rs&&(t=rs,e=ss,ss=rs=null,Mh(t),e)))for(t=0;t<e.length;t++)Mh(e[t])}}function oi(e,t){var s=e.stateNode;if(s===null)return null;var o=s[zt]||null;if(o===null)return null;s=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=!1;if(xa)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){dc=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{dc=!1}var Ga=null,hc=null,jl=null;function zh(){if(jl)return jl;var e,t=hc,s=t.length,o,h="value"in Ga?Ga.value:Ga.textContent,f=h.length;for(e=0;e<s&&t[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&t[s-o]===h[f-o];o++);return jl=h.slice(e,1<o?1-o:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Bh(){return!1}function Zt(e){function t(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(s=e[k],this[k]=s?s(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_l:Bh,this.isPropagationStopped=Bh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Zt(Nr),ui=b({},Nr,{view:0,detail:0}),jb=Zt(ui),fc,mc,di,El=b({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(fc=e.screenX-di.screenX,mc=e.screenY-di.screenY):mc=fc=0,di=e),fc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Uh=Zt(El),Sb=b({},El,{dataTransfer:0}),_b=Zt(Sb),Nb=b({},ui,{relatedTarget:0}),gc=Zt(Nb),Eb=b({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=Zt(Eb),Tb=b({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ab=Zt(Tb),Ob=b({},Nr,{data:0}),Ih=Zt(Ob),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mb[e])?!!t[e]:!1}function pc(){return Lb}var zb=b({},ui,{key:function(e){if(e.key){var t=Rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bb=Zt(zb),Ub=b({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=Zt(Ub),Ib=b({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Pb=Zt(Ib),Hb=b({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qb=Zt(Hb),$b=b({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=Zt($b),Vb=b({},Nr,{newState:0,oldState:0}),Fb=Zt(Vb),Yb=[9,13,27,32],xc=xa&&"CompositionEvent"in window,hi=null;xa&&"documentMode"in document&&(hi=document.documentMode);var Kb=xa&&"TextEvent"in window&&!hi,Hh=xa&&(!xc||hi&&8<hi&&11>=hi),qh=" ",$h=!1;function Gh(e,t){switch(e){case"keyup":return Yb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function Qb(e,t){switch(e){case"compositionend":return Vh(t);case"keypress":return t.which!==32?null:($h=!0,qh);case"textInput":return e=t.data,e===qh&&$h?null:e;default:return null}}function Wb(e,t){if(is)return e==="compositionend"||!xc&&Gh(e,t)?(e=zh(),jl=hc=Ga=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hh&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function Yh(e,t,s,o){rs?ss?ss.push(o):ss=[o]:rs=o,t=xo(t,"onChange"),0<t.length&&(s=new Nl("onChange","change",null,s,o),e.push({event:s,listeners:t}))}var fi=null,mi=null;function Xb(e){Am(e,0)}function Cl(e){var t=fa(e);if(li(t))return e}function Kh(e,t){if(e==="change")return t}var Qh=!1;if(xa){var bc;if(xa){var yc="oninput"in document;if(!yc){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),yc=typeof Wh.oninput=="function"}bc=yc}else bc=!1;Qh=bc&&(!document.documentMode||9<document.documentMode)}function Jh(){fi&&(fi.detachEvent("onpropertychange",Xh),mi=fi=null)}function Xh(e){if(e.propertyName==="value"&&Cl(mi)){var t=[];Yh(t,mi,e,cc(e)),Lh(Xb,t)}}function Zb(e,t,s){e==="focusin"?(Jh(),fi=t,mi=s,fi.attachEvent("onpropertychange",Xh)):e==="focusout"&&Jh()}function ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(mi)}function ty(e,t){if(e==="click")return Cl(t)}function ny(e,t){if(e==="input"||e==="change")return Cl(t)}function ay(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:ay;function gi(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Kt.call(t,h)||!hn(e[h],t[h]))return!1}return!0}function Zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ef(e,t){var s=Zh(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=t&&o>=t)return{node:s,offset:t-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zh(s)}}function tf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_r(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=_r(e.document)}return t}function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ry=xa&&"documentMode"in document&&11>=document.documentMode,ls=null,wc=null,pi=null,kc=!1;function af(e,t,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kc||ls==null||ls!==_r(o)||(o=ls,"selectionStart"in o&&vc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),pi&&gi(pi,o)||(pi=o,o=xo(wc,"onSelect"),0<o.length&&(t=new Nl("onSelect","select",null,t,s),e.push({event:t,listeners:o}),t.target=ls)))}function Er(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var os={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},jc={},rf={};xa&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Cr(e){if(jc[e])return jc[e];if(!os[e])return e;var t=os[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in rf)return jc[e]=t[s];return e}var sf=Cr("animationend"),lf=Cr("animationiteration"),of=Cr("animationstart"),sy=Cr("transitionrun"),iy=Cr("transitionstart"),ly=Cr("transitioncancel"),cf=Cr("transitionend"),uf=new Map,Sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sc.push("scrollEnd");function $n(e,t){uf.set(e,t),Wn(t,[e])}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],cs=0,_c=0;function Al(){for(var e=cs,t=_c=cs=0;t<e;){var s=Cn[t];Cn[t++]=null;var o=Cn[t];Cn[t++]=null;var h=Cn[t];Cn[t++]=null;var f=Cn[t];if(Cn[t++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&df(s,h,f)}}function Ol(e,t,s,o){Cn[cs++]=e,Cn[cs++]=t,Cn[cs++]=s,Cn[cs++]=o,_c|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nc(e,t,s,o){return Ol(e,t,s,o),Rl(e)}function Tr(e,t){return Ol(e,null,null,t),Rl(e)}function df(e,t,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&t!==null&&(h=31-Fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[t]:o.push(t),t.lane=s|536870912),f):null}function Rl(e){if(50<Ui)throw Ui=0,Lu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var us={};function oy(e,t,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,s,o){return new oy(e,t,s,o)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var s=e.alternate;return s===null?(s=fn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function hf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dl(e,t,s,o,h,f){var y=0;if(o=e,typeof e=="function")Ec(e)&&(y=1);else if(typeof e=="string")y=fv(e,s,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=fn(31,s,t,h),e.elementType=le,e.lanes=f,e;case _:return Ar(s.children,h,f,t);case A:y=8,h|=24;break;case E:return e=fn(12,s,t,h|2),e.elementType=E,e.lanes=f,e;case I:return e=fn(13,s,t,h),e.elementType=I,e.lanes=f,e;case D:return e=fn(19,s,t,h),e.elementType=D,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:y=10;break e;case q:y=9;break e;case Y:y=11;break e;case G:y=14;break e;case Z:y=16,o=null;break e}y=29,s=Error(i(130,e===null?"null":typeof e,"")),o=null}return t=fn(y,s,t,h),t.elementType=e,t.type=o,t.lanes=f,t}function Ar(e,t,s,o){return e=fn(7,e,o,t),e.lanes=s,e}function Cc(e,t,s){return e=fn(6,e,null,t),e.lanes=s,e}function ff(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function Tc(e,t,s){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mf=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var s=mf.get(e);return s!==void 0?s:(t={value:e,source:t,stack:_n(t)},mf.set(e,t),t)}return{value:e,source:t,stack:_n(t)}}var ds=[],hs=0,Ml=null,xi=0,An=[],On=0,Va=null,Zn=1,ea="";function ya(e,t){ds[hs++]=xi,ds[hs++]=Ml,Ml=e,xi=t}function gf(e,t,s){An[On++]=Zn,An[On++]=ea,An[On++]=Va,Va=e;var o=Zn;e=ea;var h=32-Fe(o)-1;o&=~(1<<h),s+=1;var f=32-Fe(t)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Zn=1<<32-Fe(t)+h|s<<h|o,ea=f+e}else Zn=1<<f|s<<h|o,ea=e}function Ac(e){e.return!==null&&(ya(e,1),gf(e,1,0))}function Oc(e){for(;e===Ml;)Ml=ds[--hs],ds[hs]=null,xi=ds[--hs],ds[hs]=null;for(;e===Va;)Va=An[--On],An[On]=null,ea=An[--On],An[On]=null,Zn=An[--On],An[On]=null}function pf(e,t){An[On++]=Zn,An[On++]=ea,An[On++]=Va,Zn=t.id,ea=t.overflow,Va=e}var Bt=null,st=null,Ie=!1,Fa=null,Rn=!1,Rc=Error(i(519));function Ya(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(Tn(t,e)),Rc}function xf(e){var t=e.stateNode,s=e.type,o=e.memoizedProps;switch(t[vt]=e,t[zt]=o,s){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(s=0;s<Pi.length;s++)Me(Pi[s],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Le(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Ye(t,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||o.suppressHydrationWarning===!0||Mm(t.textContent,s)?(o.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),o.onScroll!=null&&Me("scroll",t),o.onScrollEnd!=null&&Me("scrollend",t),o.onClick!=null&&(t.onclick=pa),t=!0):t=!1,t||Ya(e,!0)}function bf(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Bt=Bt.return}}function fs(e){if(e!==Bt)return!1;if(!Ie)return bf(e),Ie=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Wu(e.type,e.memoizedProps)),s=!s),s&&st&&Ya(e),bf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));st=$m(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));st=$m(e)}else t===27?(t=st,lr(e.type)?(e=td,td=null,st=e):st=t):st=Bt?Mn(e.stateNode.nextSibling):null;return!0}function Or(){st=Bt=null,Ie=!1}function Dc(){var e=Fa;return e!==null&&(an===null?an=e:an.push.apply(an,e),Fa=null),e}function bi(e){Fa===null?Fa=[e]:Fa.push(e)}var Mc=T(null),Rr=null,va=null;function Ka(e,t,s){j(Mc,t._currentValue),t._currentValue=s}function wa(e){e._currentValue=Mc.current,M(Mc)}function Lc(e,t,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===s)break;e=e.return}}function zc(e,t,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var k=f;f=h;for(var C=0;C<t.length;C++)if(k.context===t[C]){f.lanes|=s,k=f.alternate,k!==null&&(k.lanes|=s),Lc(f.return,s,e),o||(y=null);break e}f=k.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(i(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Lc(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ms(e,t,s,o){e=null;for(var h=t,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var k=h.type;hn(h.pendingProps.value,y.value)||(e!==null?e.push(k):e=[k])}}else if(h===je.current){if(y=h.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}h=h.return}e!==null&&zc(t,e,s,o),t.flags|=262144}function Ll(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Rr=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return yf(Rr,e)}function zl(e,t){return Rr===null&&Dr(e),yf(e,t)}function yf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},va===null){if(e===null)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return s}var cy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},uy=a.unstable_scheduleCallback,dy=a.unstable_NormalPriority,wt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new cy,data:new Map,refCount:0}}function yi(e){e.refCount--,e.refCount===0&&uy(dy,function(){e.controller.abort()})}var vi=null,Uc=0,gs=0,ps=null;function hy(e,t){if(vi===null){var s=vi=[];Uc=0,gs=Hu(),ps={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Uc++,t.then(vf,vf),t}function vf(){if(--Uc===0&&vi!==null){ps!==null&&(ps.status="fulfilled");var e=vi;vi=null,gs=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fy(e,t){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var h=0;h<s.length;h++)(0,s[h])(t)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var wf=L.S;L.S=function(e,t){rm=tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hy(e,t),wf!==null&&wf(e,t)};var Mr=T(null);function Ic(){var e=Mr.current;return e!==null?e:et.pooledCache}function Bl(e,t){t===null?j(Mr,Mr.current):j(Mr,t.pool)}function kf(){var e=Ic();return e===null?null:{parent:wt._currentValue,pool:e}}var xs=Error(i(460)),Pc=Error(i(474)),Ul=Error(i(542)),Il={then:function(){}};function jf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(pa,pa),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nf(e),e;default:if(typeof t.status=="string")t.then(pa,pa);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var h=t;h.status="fulfilled",h.value=o}},function(o){if(t.status==="pending"){var h=t;h.status="rejected",h.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nf(e),e}throw zr=t,xs}}function Lr(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,xs):s}}var zr=null;function _f(){if(zr===null)throw Error(i(459));var e=zr;return zr=null,e}function Nf(e){if(e===xs||e===Ul)throw Error(i(483))}var bs=null,wi=0;function Pl(e){var t=wi;return wi+=1,bs===null&&(bs=[]),Sf(bs,e,t)}function ki(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hl(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ef(e){function t(B,R){if(e){var P=B.deletions;P===null?(B.deletions=[R],B.flags|=16):P.push(R)}}function s(B,R){if(!e)return null;for(;R!==null;)t(B,R),R=R.sibling;return null}function o(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function h(B,R){return B=ba(B,R),B.index=0,B.sibling=null,B}function f(B,R,P){return B.index=P,e?(P=B.alternate,P!==null?(P=P.index,P<R?(B.flags|=67108866,R):P):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function y(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function k(B,R,P,ne){return R===null||R.tag!==6?(R=Cc(P,B.mode,ne),R.return=B,R):(R=h(R,P),R.return=B,R)}function C(B,R,P,ne){var ye=P.type;return ye===_?J(B,R,P.props.children,ne,P.key):R!==null&&(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Lr(ye)===R.type)?(R=h(R,P.props),ki(R,P),R.return=B,R):(R=Dl(P.type,P.key,P.props,null,B.mode,ne),ki(R,P),R.return=B,R)}function H(B,R,P,ne){return R===null||R.tag!==4||R.stateNode.containerInfo!==P.containerInfo||R.stateNode.implementation!==P.implementation?(R=Tc(P,B.mode,ne),R.return=B,R):(R=h(R,P.children||[]),R.return=B,R)}function J(B,R,P,ne,ye){return R===null||R.tag!==7?(R=Ar(P,B.mode,ne,ye),R.return=B,R):(R=h(R,P),R.return=B,R)}function ae(B,R,P){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Cc(""+R,B.mode,P),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return P=Dl(R.type,R.key,R.props,null,B.mode,P),ki(P,R),P.return=B,P;case S:return R=Tc(R,B.mode,P),R.return=B,R;case Z:return R=Lr(R),ae(B,R,P)}if(te(R)||W(R))return R=Ar(R,B.mode,P,null),R.return=B,R;if(typeof R.then=="function")return ae(B,Pl(R),P);if(R.$$typeof===O)return ae(B,zl(B,R),P);Hl(B,R)}return null}function $(B,R,P,ne){var ye=R!==null?R.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:k(B,R,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===ye?C(B,R,P,ne):null;case S:return P.key===ye?H(B,R,P,ne):null;case Z:return P=Lr(P),$(B,R,P,ne)}if(te(P)||W(P))return ye!==null?null:J(B,R,P,ne,null);if(typeof P.then=="function")return $(B,R,Pl(P),ne);if(P.$$typeof===O)return $(B,R,zl(B,P),ne);Hl(B,P)}return null}function F(B,R,P,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(P)||null,k(R,B,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return B=B.get(ne.key===null?P:ne.key)||null,C(R,B,ne,ye);case S:return B=B.get(ne.key===null?P:ne.key)||null,H(R,B,ne,ye);case Z:return ne=Lr(ne),F(B,R,P,ne,ye)}if(te(ne)||W(ne))return B=B.get(P)||null,J(R,B,ne,ye,null);if(typeof ne.then=="function")return F(B,R,P,Pl(ne),ye);if(ne.$$typeof===O)return F(B,R,P,zl(R,ne),ye);Hl(R,ne)}return null}function me(B,R,P,ne){for(var ye=null,qe=null,pe=R,Te=R=0,Be=null;pe!==null&&Te<P.length;Te++){pe.index>Te?(Be=pe,pe=null):Be=pe.sibling;var $e=$(B,pe,P[Te],ne);if($e===null){pe===null&&(pe=Be);break}e&&pe&&$e.alternate===null&&t(B,pe),R=f($e,R,Te),qe===null?ye=$e:qe.sibling=$e,qe=$e,pe=Be}if(Te===P.length)return s(B,pe),Ie&&ya(B,Te),ye;if(pe===null){for(;Te<P.length;Te++)pe=ae(B,P[Te],ne),pe!==null&&(R=f(pe,R,Te),qe===null?ye=pe:qe.sibling=pe,qe=pe);return Ie&&ya(B,Te),ye}for(pe=o(pe);Te<P.length;Te++)Be=F(pe,B,Te,P[Te],ne),Be!==null&&(e&&Be.alternate!==null&&pe.delete(Be.key===null?Te:Be.key),R=f(Be,R,Te),qe===null?ye=Be:qe.sibling=Be,qe=Be);return e&&pe.forEach(function(hr){return t(B,hr)}),Ie&&ya(B,Te),ye}function we(B,R,P,ne){if(P==null)throw Error(i(151));for(var ye=null,qe=null,pe=R,Te=R=0,Be=null,$e=P.next();pe!==null&&!$e.done;Te++,$e=P.next()){pe.index>Te?(Be=pe,pe=null):Be=pe.sibling;var hr=$(B,pe,$e.value,ne);if(hr===null){pe===null&&(pe=Be);break}e&&pe&&hr.alternate===null&&t(B,pe),R=f(hr,R,Te),qe===null?ye=hr:qe.sibling=hr,qe=hr,pe=Be}if($e.done)return s(B,pe),Ie&&ya(B,Te),ye;if(pe===null){for(;!$e.done;Te++,$e=P.next())$e=ae(B,$e.value,ne),$e!==null&&(R=f($e,R,Te),qe===null?ye=$e:qe.sibling=$e,qe=$e);return Ie&&ya(B,Te),ye}for(pe=o(pe);!$e.done;Te++,$e=P.next())$e=F(pe,B,Te,$e.value,ne),$e!==null&&(e&&$e.alternate!==null&&pe.delete($e.key===null?Te:$e.key),R=f($e,R,Te),qe===null?ye=$e:qe.sibling=$e,qe=$e);return e&&pe.forEach(function(Sv){return t(B,Sv)}),Ie&&ya(B,Te),ye}function Ze(B,R,P,ne){if(typeof P=="object"&&P!==null&&P.type===_&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:e:{for(var ye=P.key;R!==null;){if(R.key===ye){if(ye=P.type,ye===_){if(R.tag===7){s(B,R.sibling),ne=h(R,P.props.children),ne.return=B,B=ne;break e}}else if(R.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Z&&Lr(ye)===R.type){s(B,R.sibling),ne=h(R,P.props),ki(ne,P),ne.return=B,B=ne;break e}s(B,R);break}else t(B,R);R=R.sibling}P.type===_?(ne=Ar(P.props.children,B.mode,ne,P.key),ne.return=B,B=ne):(ne=Dl(P.type,P.key,P.props,null,B.mode,ne),ki(ne,P),ne.return=B,B=ne)}return y(B);case S:e:{for(ye=P.key;R!==null;){if(R.key===ye)if(R.tag===4&&R.stateNode.containerInfo===P.containerInfo&&R.stateNode.implementation===P.implementation){s(B,R.sibling),ne=h(R,P.children||[]),ne.return=B,B=ne;break e}else{s(B,R);break}else t(B,R);R=R.sibling}ne=Tc(P,B.mode,ne),ne.return=B,B=ne}return y(B);case Z:return P=Lr(P),Ze(B,R,P,ne)}if(te(P))return me(B,R,P,ne);if(W(P)){if(ye=W(P),typeof ye!="function")throw Error(i(150));return P=ye.call(P),we(B,R,P,ne)}if(typeof P.then=="function")return Ze(B,R,Pl(P),ne);if(P.$$typeof===O)return Ze(B,R,zl(B,P),ne);Hl(B,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,R!==null&&R.tag===6?(s(B,R.sibling),ne=h(R,P),ne.return=B,B=ne):(s(B,R),ne=Cc(P,B.mode,ne),ne.return=B,B=ne),y(B)):s(B,R)}return function(B,R,P,ne){try{wi=0;var ye=Ze(B,R,P,ne);return bs=null,ye}catch(pe){if(pe===xs||pe===Ul)throw pe;var qe=fn(29,pe,null,B.mode);return qe.lanes=ne,qe.return=B,qe}finally{}}}var Br=Ef(!0),Cf=Ef(!1),Qa=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),o.pending=t,t=Rl(e),df(e,null,s),t}return Ol(e,o,t,s),Rl(e)}function ji(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,ai(e,s)}}function $c(e,t){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=t:f=f.next=t}else h=f=t;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Gc=!1;function Si(){if(Gc){var e=ps;if(e!==null)throw e}}function _i(e,t,s,o){Gc=!1;var h=e.updateQueue;Qa=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var C=k,H=C.next;C.next=null,y===null?f=H:y.next=H,y=C;var J=e.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==y&&(k===null?J.firstBaseUpdate=H:k.next=H,J.lastBaseUpdate=C))}if(f!==null){var ae=h.baseState;y=0,J=H=C=null,k=f;do{var $=k.lane&-536870913,F=$!==k.lane;if(F?(ze&$)===$:(o&$)===$){$!==0&&$===gs&&(Gc=!0),J!==null&&(J=J.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var me=e,we=k;$=t;var Ze=s;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ae=me.call(Ze,ae,$);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,$=typeof me=="function"?me.call(Ze,ae,$):me,$==null)break e;ae=b({},ae,$);break e;case 2:Qa=!0}}$=k.callback,$!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[$]:F.push($))}else F={lane:$,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(H=J=F,C=ae):J=J.next=F,y|=$;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;F=k,k=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);J===null&&(C=ae),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),nr|=y,e.lanes=y,e.memoizedState=ae}}function Tf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Af(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Tf(s[e],t)}var ys=T(null),ql=T(0);function Of(e,t){e=Aa,j(ql,e),j(ys,t),Aa=e|t.baseLanes}function Vc(){j(ql,Aa),j(ys,ys.current)}function Fc(){Aa=ql.current,M(ys),M(ql)}var mn=T(null),Dn=null;function Xa(e){var t=e.alternate;j(xt,xt.current&1),j(mn,e),Dn===null&&(t===null||ys.current!==null||t.memoizedState!==null)&&(Dn=e)}function Yc(e){j(xt,xt.current),j(mn,e),Dn===null&&(Dn=e)}function Rf(e){e.tag===22?(j(xt,xt.current),j(mn,e),Dn===null&&(Dn=e)):Za()}function Za(){j(xt,xt.current),j(mn,mn.current)}function gn(e){M(mn),Dn===e&&(Dn=null),M(xt)}var xt=T(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Zu(s)||ed(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,Ce=null,Je=null,kt=null,Gl=!1,vs=!1,Ur=!1,Vl=0,Ni=0,ws=null,my=0;function ft(){throw Error(i(321))}function Kc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!hn(e[s],t[s]))return!1;return!0}function Qc(e,t,s,o,h,f){return ka=f,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?g0:uu,Ur=!1,f=s(o,h),Ur=!1,vs&&(f=Mf(t,s,o,h)),Df(e),f}function Df(e){L.H=Ti;var t=Je!==null&&Je.next!==null;if(ka=0,kt=Je=Ce=null,Gl=!1,Ni=0,ws=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Ll(e)&&(jt=!0))}function Mf(e,t,s,o){Ce=e;var h=0;do{if(vs&&(ws=null),Ni=0,vs=!1,25<=h)throw Error(i(301));if(h+=1,kt=Je=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=p0,f=t(s,o)}while(vs);return f}function gy(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Ei(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Wc(){var e=Vl!==0;return Vl=0,e}function Jc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Xc(e){if(Gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gl=!1}ka=0,kt=Je=Ce=null,vs=!1,Ni=Vl=0,ws=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ce.memoizedState=kt=e:kt=kt.next=e,kt}function bt(){if(Je===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=kt===null?Ce.memoizedState:kt.next;if(t!==null)kt=t,Je=e;else{if(e===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},kt===null?Ce.memoizedState=kt=e:kt=kt.next=e}return kt}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(e){var t=Ni;return Ni+=1,ws===null&&(ws=[]),e=Sf(ws,e,t),t=Ce,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?g0:uu),e}function Yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ei(e);if(e.$$typeof===O)return Ut(e)}throw Error(i(438,String(e)))}function Zc(e){var t=null,s=Ce.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(h){return h.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Fl(),Ce.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),o=0;o<e;o++)s[o]=re;return t.index++,s}function ja(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=bt();return eu(t,Je,e)}function eu(e,t,s){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}t.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{t=h.next;var k=y=null,C=null,H=t,J=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(ze&ae)===ae:(ka&ae)===ae){var $=H.revertLane;if($===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===gs&&(J=!0);else if((ka&$)===$){H=H.next,$===gs&&(J=!0);continue}else ae={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(k=C=ae,y=f):C=C.next=ae,Ce.lanes|=$,nr|=$;ae=H.action,Ur&&s(f,ae),f=H.hasEagerState?H.eagerState:s(f,ae)}else $={lane:ae,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(k=C=$,y=f):C=C.next=$,Ce.lanes|=ae,nr|=ae;H=H.next}while(H!==null&&H!==t);if(C===null?y=f:C.next=k,!hn(f,e.memoizedState)&&(jt=!0,J&&(s=ps,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function tu(e){var t=bt(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=t.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);hn(f,t.memoizedState)||(jt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,o]}function Lf(e,t,s){var o=Ce,h=bt(),f=Ie;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=t();var y=!hn((Je||h).memoizedState,s);if(y&&(h.memoizedState=s,jt=!0),h=h.queue,ru(Uf.bind(null,o,h,e),[e]),h.getSnapshot!==t||y||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,ks(9,{destroy:void 0},Bf.bind(null,o,h,s,t),null),et===null)throw Error(i(349));f||(ka&127)!==0||zf(o,t,s)}return s}function zf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ce.updateQueue,t===null?(t=Fl(),Ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Bf(e,t,s,o){t.value=s,t.getSnapshot=o,If(t)&&Pf(e)}function Uf(e,t,s){return s(function(){If(t)&&Pf(e)})}function If(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!hn(e,s)}catch{return!0}}function Pf(e){var t=Tr(e,2);t!==null&&rn(t,e,2)}function nu(e){var t=Qt();if(typeof e=="function"){var s=e;if(e=s(),Ur){Dt(!0);try{s()}finally{Dt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function Hf(e,t,s,o){return e.baseState=s,eu(e,Je,typeof o=="function"?o:ja)}function py(e,t,s,o,h){if(Jl(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};L.T!==null?s(!0):f.isTransition=!1,o(f),s=t.pending,s===null?(f.next=t.pending=f,qf(t,f)):(f.next=s.next,t.pending=s.next=f)}}function qf(e,t){var s=t.action,o=t.payload,h=e.state;if(t.isTransition){var f=L.T,y={};L.T=y;try{var k=s(h,o),C=L.S;C!==null&&C(y,k),$f(e,t,k)}catch(H){au(e,t,H)}finally{f!==null&&y.types!==null&&(f.types=y.types),L.T=f}}else try{f=s(h,o),$f(e,t,f)}catch(H){au(e,t,H)}}function $f(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gf(e,t,o)},function(o){return au(e,t,o)}):Gf(e,t,s)}function Gf(e,t,s){t.status="fulfilled",t.value=s,Vf(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,qf(e,s)))}function au(e,t,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=s,Vf(t),t=t.next;while(t!==o)}e.action=null}function Vf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ff(e,t){return t}function Yf(e,t){if(Ie){var s=et.formState;if(s!==null){e:{var o=Ce;if(Ie){if(st){t:{for(var h=st,f=Rn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=Mn(h.nextSibling),o=h.data==="F!";break e}}Ya(o)}o=!1}o&&(t=s[0])}}return s=Qt(),s.memoizedState=s.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:t},s.queue=o,s=h0.bind(null,Ce,o),o.dispatch=s,o=nu(!1),f=cu.bind(null,Ce,!1,o.queue),o=Qt(),h={state:t,dispatch:null,action:e,pending:null},o.queue=h,s=py.bind(null,Ce,h,f,s),h.dispatch=s,o.memoizedState=e,[t,s,!1]}function Kf(e){var t=bt();return Qf(t,Je,e)}function Qf(e,t,s){if(t=eu(e,t,Ff)[0],e=Kl(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ei(t)}catch(y){throw y===xs?Ul:y}else o=t;t=bt();var h=t.queue,f=h.dispatch;return s!==t.memoizedState&&(Ce.flags|=2048,ks(9,{destroy:void 0},xy.bind(null,h,s),null)),[o,f,e]}function xy(e,t){e.action=t}function Wf(e){var t=bt(),s=Je;if(s!==null)return Qf(t,s,e);bt(),t=t.memoizedState,s=bt();var o=s.queue.dispatch;return s.memoizedState=e,[t,o,!1]}function ks(e,t,s,o){return e={tag:e,create:s,deps:o,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Fl(),Ce.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,t.lastEffect=e),e}function Jf(){return bt().memoizedState}function Ql(e,t,s,o){var h=Qt();Ce.flags|=e,h.memoizedState=ks(1|t,{destroy:void 0},s,o===void 0?null:o)}function Wl(e,t,s,o){var h=bt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&Kc(o,Je.memoizedState.deps)?h.memoizedState=ks(t,f,s,o):(Ce.flags|=e,h.memoizedState=ks(1|t,f,s,o))}function Xf(e,t){Ql(8390656,8,e,t)}function ru(e,t){Wl(2048,8,e,t)}function by(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Fl(),Ce.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Zf(e){var t=bt().memoizedState;return by({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function e0(e,t){return Wl(4,2,e,t)}function t0(e,t){return Wl(4,4,e,t)}function n0(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a0(e,t,s){s=s!=null?s.concat([e]):null,Wl(4,4,n0.bind(null,t,e),s)}function su(){}function r0(e,t){var s=bt();t=t===void 0?null:t;var o=s.memoizedState;return t!==null&&Kc(t,o[1])?o[0]:(s.memoizedState=[e,t],e)}function s0(e,t){var s=bt();t=t===void 0?null:t;var o=s.memoizedState;if(t!==null&&Kc(t,o[1]))return o[0];if(o=e(),Ur){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[o,t],o}function iu(e,t,s){return s===void 0||(ka&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=im(),Ce.lanes|=e,nr|=e,s)}function i0(e,t,s,o){return hn(s,t)?s:ys.current!==null?(e=iu(e,s,o),hn(e,t)||(jt=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(ze&261930)===0?(jt=!0,e.memoizedState=s):(e=im(),Ce.lanes|=e,nr|=e,t)}function l0(e,t,s,o,h){var f=V.p;V.p=f!==0&&8>f?f:8;var y=L.T,k={};L.T=k,cu(e,!1,t,s);try{var C=h(),H=L.S;if(H!==null&&H(k,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=fy(C,o);Ci(e,t,J,bn(e))}else Ci(e,t,o,bn(e))}catch(ae){Ci(e,t,{then:function(){},status:"rejected",reason:ae},bn())}finally{V.p=f,y!==null&&k.types!==null&&(y.types=k.types),L.T=y}}function yy(){}function lu(e,t,s,o){if(e.tag!==5)throw Error(i(476));var h=o0(e).queue;l0(e,h,t,ee,s===null?yy:function(){return c0(e),s(o)})}function o0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ee},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function c0(e){var t=o0(e);t.next===null&&(t=e.alternate.memoizedState),Ci(e,t.next.queue,{},bn())}function ou(){return Ut(Vi)}function u0(){return bt().memoizedState}function d0(){return bt().memoizedState}function vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=bn();e=Wa(s);var o=Ja(t,e,s);o!==null&&(rn(o,t,s),ji(o,t,s)),t={cache:Bc()},e.payload=t;return}t=t.return}}function wy(e,t,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jl(e)?f0(t,s):(s=Nc(e,t,s,o),s!==null&&(rn(s,e,o),m0(s,t,o)))}function h0(e,t,s){var o=bn();Ci(e,t,s,o)}function Ci(e,t,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))f0(t,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,k=f(y,s);if(h.hasEagerState=!0,h.eagerState=k,hn(k,y))return Ol(e,t,h,0),et===null&&Al(),!1}catch{}finally{}if(s=Nc(e,t,h,o),s!==null)return rn(s,e,o),m0(s,t,o),!0}return!1}function cu(e,t,s,o){if(o={lane:2,revertLane:Hu(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jl(e)){if(t)throw Error(i(479))}else t=Nc(e,s,o,2),t!==null&&rn(t,e,2)}function Jl(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function f0(e,t){vs=Gl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function m0(e,t,s){if((s&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,ai(e,s)}}var Ti={readContext:Ut,use:Yl,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Ti.useEffectEvent=ft;var g0={readContext:Ut,use:Yl,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Xf,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Ql(4194308,4,n0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){Ql(4,2,e,t)},useMemo:function(e,t){var s=Qt();t=t===void 0?null:t;var o=e();if(Ur){Dt(!0);try{e()}finally{Dt(!1)}}return s.memoizedState=[o,t],o},useReducer:function(e,t,s){var o=Qt();if(s!==void 0){var h=s(t);if(Ur){Dt(!0);try{s(t)}finally{Dt(!1)}}}else h=t;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=wy.bind(null,Ce,e),[o.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=nu(e);var t=e.queue,s=h0.bind(null,Ce,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:su,useDeferredValue:function(e,t){var s=Qt();return iu(s,e,t)},useTransition:function(){var e=nu(!1);return e=l0.bind(null,Ce,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var o=Ce,h=Qt();if(Ie){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),et===null)throw Error(i(349));(ze&127)!==0||zf(o,t,s)}h.memoizedState=s;var f={value:s,getSnapshot:t};return h.queue=f,Xf(Uf.bind(null,o,f,e),[e]),o.flags|=2048,ks(9,{destroy:void 0},Bf.bind(null,o,f,s,t),null),s},useId:function(){var e=Qt(),t=et.identifierPrefix;if(Ie){var s=ea,o=Zn;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Vl++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=my++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Yf,useActionState:Yf,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=cu.bind(null,Ce,!0,s),s.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return Qt().memoizedState=vy.bind(null,Ce)},useEffectEvent:function(e){var t=Qt(),s={impl:e};return t.memoizedState=s,function(){if((Ge&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},uu={readContext:Ut,use:Yl,useCallback:r0,useContext:Ut,useEffect:ru,useImperativeHandle:a0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:Kl,useRef:Jf,useState:function(){return Kl(ja)},useDebugValue:su,useDeferredValue:function(e,t){var s=bt();return i0(s,Je.memoizedState,e,t)},useTransition:function(){var e=Kl(ja)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Lf,useId:u0,useHostTransitionStatus:ou,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,t){var s=bt();return Hf(s,Je,e,t)},useMemoCache:Zc,useCacheRefresh:d0};uu.useEffectEvent=Zf;var p0={readContext:Ut,use:Yl,useCallback:r0,useContext:Ut,useEffect:ru,useImperativeHandle:a0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:tu,useRef:Jf,useState:function(){return tu(ja)},useDebugValue:su,useDeferredValue:function(e,t){var s=bt();return Je===null?iu(s,e,t):i0(s,Je.memoizedState,e,t)},useTransition:function(){var e=tu(ja)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Lf,useId:u0,useHostTransitionStatus:ou,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,t){var s=bt();return Je!==null?Hf(s,Je,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:d0};p0.useEffectEvent=Zf;function du(e,t,s,o){t=e.memoizedState,s=s(o,t),s=s==null?t:b({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var hu={enqueueSetState:function(e,t,s){e=e._reactInternals;var o=bn(),h=Wa(o);h.payload=t,s!=null&&(h.callback=s),t=Ja(e,h,o),t!==null&&(rn(t,e,o),ji(t,e,o))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var o=bn(),h=Wa(o);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=Ja(e,h,o),t!==null&&(rn(t,e,o),ji(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=bn(),o=Wa(s);o.tag=2,t!=null&&(o.callback=t),t=Ja(e,o,s),t!==null&&(rn(t,e,s),ji(t,e,s))}};function x0(e,t,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):t.prototype&&t.prototype.isPureReactComponent?!gi(s,o)||!gi(h,f):!0}function b0(e,t,s,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,o),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function Ir(e,t){var s=t;if("ref"in t){s={};for(var o in t)o!=="ref"&&(s[o]=t[o])}if(e=e.defaultProps){s===t&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function y0(e){Tl(e)}function v0(e){console.error(e)}function w0(e){Tl(e)}function Xl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function k0(e,t,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fu(e,t,s){return s=Wa(s),s.tag=3,s.payload={element:null},s.callback=function(){Xl(e,t)},s}function j0(e){return e=Wa(e),e.tag=3,e}function S0(e,t,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){k0(t,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){k0(t,s,o),typeof h!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})})}function ky(e,t,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=s.alternate,t!==null&&ms(t,s,h,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?uo():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Il?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([o]):t.add(o),Uu(e,o,h)),!1;case 22:return s.flags|=65536,o===Il?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([o]):s.add(o)),Uu(e,o,h)),!1}throw Error(i(435,s.tag))}return Uu(e,o,h),uo(),!1}if(Ie)return t=mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=h,o!==Rc&&(e=Error(i(422),{cause:o}),bi(Tn(e,s)))):(o!==Rc&&(t=Error(i(423),{cause:o}),bi(Tn(t,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Tn(o,s),h=fu(e.stateNode,o,h),$c(e,h),mt!==4&&(mt=2)),!1;var f=Error(i(520),{cause:o});if(f=Tn(f,s),Bi===null?Bi=[f]:Bi.push(f),mt!==4&&(mt=2),t===null)return!0;o=Tn(o,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=fu(s.stateNode,o,e),$c(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=j0(h),S0(h,e,s,o),$c(s,h),!1}s=s.return}while(s!==null);return!1}var mu=Error(i(461)),jt=!1;function It(e,t,s,o){t.child=e===null?Cf(t,null,s,o):Br(t,e.child,s,o)}function _0(e,t,s,o,h){s=s.render;var f=t.ref;if("ref"in o){var y={};for(var k in o)k!=="ref"&&(y[k]=o[k])}else y=o;return Dr(t),o=Qc(e,t,s,y,f,h),k=Wc(),e!==null&&!jt?(Jc(e,t,h),Sa(e,t,h)):(Ie&&k&&Ac(t),t.flags|=1,It(e,t,o,h),t.child)}function N0(e,t,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ec(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,E0(e,t,f,o,h)):(e=Dl(s.type,null,o,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ku(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:gi,s(y,o)&&e.ref===t.ref)return Sa(e,t,h)}return t.flags|=1,e=ba(f,o),e.ref=t.ref,e.return=t,t.child=e}function E0(e,t,s,o,h){if(e!==null){var f=e.memoizedProps;if(gi(f,o)&&e.ref===t.ref)if(jt=!1,t.pendingProps=o=f,ku(e,h))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,Sa(e,t,h)}return gu(e,t,s,o,h)}function C0(e,t,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=t.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,t.child=null;return T0(e,t,f,s,o)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bl(t,f!==null?f.cachePool:null),f!==null?Of(t,f):Vc(),Rf(t);else return o=t.lanes=536870912,T0(e,t,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Bl(t,f.cachePool),Of(t,f),Za(),t.memoizedState=null):(e!==null&&Bl(t,null),Vc(),Za());return It(e,t,h,s),t.child}function Ai(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function T0(e,t,s,o,h){var f=Ic();return f=f===null?null:{parent:wt._currentValue,pool:f},t.memoizedState={baseLanes:s,cachePool:f},e!==null&&Bl(t,null),Vc(),Rf(t),e!==null&&ms(e,t,o,!0),t.childLanes=h,null}function Zl(e,t){return t=to({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function A0(e,t,s){return Br(t,e.child,null,s),e=Zl(t,t.pendingProps),e.flags|=2,gn(t),t.memoizedState=null,e}function jy(e,t,s){var o=t.pendingProps,h=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(o.mode==="hidden")return e=Zl(t,o),t.lanes=536870912,Ai(null,e);if(Yc(t),(e=st)?(e=qm(e,Rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:Zn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},s=ff(e),s.return=t,t.child=s,Bt=t,st=null)):e=null,e===null)throw Ya(t);return t.lanes=536870912,null}return Zl(t,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Yc(t),h)if(t.flags&256)t.flags&=-257,t=A0(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||ms(e,t,s,!1),h=(s&e.childLanes)!==0,jt||h){if(o=et,o!==null&&(y=kr(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Tr(e,y),rn(o,e,y),mu;uo(),t=A0(e,t,s)}else e=f.treeContext,st=Mn(y.nextSibling),Bt=t,Ie=!0,Fa=null,Rn=!1,e!==null&&pf(t,e),t=Zl(t,o),t.flags|=4096;return t}return e=ba(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function eo(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function gu(e,t,s,o,h){return Dr(t),s=Qc(e,t,s,o,void 0,h),o=Wc(),e!==null&&!jt?(Jc(e,t,h),Sa(e,t,h)):(Ie&&o&&Ac(t),t.flags|=1,It(e,t,s,h),t.child)}function O0(e,t,s,o,h,f){return Dr(t),t.updateQueue=null,s=Mf(t,o,s,h),Df(e),o=Wc(),e!==null&&!jt?(Jc(e,t,f),Sa(e,t,f)):(Ie&&o&&Ac(t),t.flags|=1,It(e,t,s,f),t.child)}function R0(e,t,s,o,h){if(Dr(t),t.stateNode===null){var f=us,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ut(y)),f=new s(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},Hc(t),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ut(y):us,f.state=t.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(du(t,s,y,o),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&hu.enqueueReplaceState(f,f.state,null),_i(t,o,f,h),Si(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var k=t.memoizedProps,C=Ir(s,k);f.props=C;var H=f.context,J=s.contextType;y=us,typeof J=="object"&&J!==null&&(y=Ut(J));var ae=s.getDerivedStateFromProps;J=typeof ae=="function"||typeof f.getSnapshotBeforeUpdate=="function",k=t.pendingProps!==k,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k||H!==y)&&b0(t,f,o,y),Qa=!1;var $=t.memoizedState;f.state=$,_i(t,o,f,h),Si(),H=t.memoizedState,k||$!==H||Qa?(typeof ae=="function"&&(du(t,s,ae,o),H=t.memoizedState),(C=Qa||x0(t,s,C,o,$,H,y))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=H),f.props=o,f.state=H,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,qc(e,t),y=t.memoizedProps,J=Ir(s,y),f.props=J,ae=t.pendingProps,$=f.context,H=s.contextType,C=us,typeof H=="object"&&H!==null&&(C=Ut(H)),k=s.getDerivedStateFromProps,(H=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ae||$!==C)&&b0(t,f,o,C),Qa=!1,$=t.memoizedState,f.state=$,_i(t,o,f,h),Si();var F=t.memoizedState;y!==ae||$!==F||Qa||e!==null&&e.dependencies!==null&&Ll(e.dependencies)?(typeof k=="function"&&(du(t,s,k,o),F=t.memoizedState),(J=Qa||x0(t,s,J,o,$,F,C)||e!==null&&e.dependencies!==null&&Ll(e.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=F),f.props=o,f.state=F,f.context=C,o=J):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,eo(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=Br(t,e.child,null,h),t.child=Br(t,null,s,h)):It(e,t,s,h),t.memoizedState=f.state,e=t.child):e=Sa(e,t,h),e}function D0(e,t,s,o){return Or(),t.flags|=256,It(e,t,s,o),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(e){return{baseLanes:e,cachePool:kf()}}function bu(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=xn),e}function M0(e,t,s){var o=t.pendingProps,h=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),y&&(h=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(h?Xa(t):Za(),(e=st)?(e=qm(e,Rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:Zn,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},s=ff(e),s.return=t,t.child=s,Bt=t,st=null)):e=null,e===null)throw Ya(t);return ed(e)?t.lanes=32:t.lanes=536870912,null}var k=o.children;return o=o.fallback,h?(Za(),h=t.mode,k=to({mode:"hidden",children:k},h),o=Ar(o,h,s,null),k.return=t,o.return=t,k.sibling=o,t.child=k,o=t.child,o.memoizedState=xu(s),o.childLanes=bu(e,y,s),t.memoizedState=pu,Ai(null,o)):(Xa(t),yu(t,k))}var C=e.memoizedState;if(C!==null&&(k=C.dehydrated,k!==null)){if(f)t.flags&256?(Xa(t),t.flags&=-257,t=vu(e,t,s)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),k=o.fallback,h=t.mode,o=to({mode:"visible",children:o.children},h),k=Ar(k,h,s,null),k.flags|=2,o.return=t,k.return=t,o.sibling=k,t.child=o,Br(t,e.child,null,s),o=t.child,o.memoizedState=xu(s),o.childLanes=bu(e,y,s),t.memoizedState=pu,t=Ai(null,o));else if(Xa(t),ed(k)){if(y=k.nextSibling&&k.nextSibling.dataset,y)var H=y.dgst;y=H,o=Error(i(419)),o.stack="",o.digest=y,bi({value:o,source:null,stack:null}),t=vu(e,t,s)}else if(jt||ms(e,t,s,!1),y=(s&e.childLanes)!==0,jt||y){if(y=et,y!==null&&(o=kr(y,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Tr(e,o),rn(y,e,o),mu;Zu(k)||uo(),t=vu(e,t,s)}else Zu(k)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,st=Mn(k.nextSibling),Bt=t,Ie=!0,Fa=null,Rn=!1,e!==null&&pf(t,e),t=yu(t,o.children),t.flags|=4096);return t}return h?(Za(),k=o.fallback,h=t.mode,C=e.child,H=C.sibling,o=ba(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,H!==null?k=ba(H,k):(k=Ar(k,h,s,null),k.flags|=2),k.return=t,o.return=t,o.sibling=k,t.child=o,Ai(null,o),o=t.child,k=e.child.memoizedState,k===null?k=xu(s):(h=k.cachePool,h!==null?(C=wt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=kf(),k={baseLanes:k.baseLanes|s,cachePool:h}),o.memoizedState=k,o.childLanes=bu(e,y,s),t.memoizedState=pu,Ai(e.child,o)):(Xa(t),s=e.child,e=s.sibling,s=ba(s,{mode:"visible",children:o.children}),s.return=t,s.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=s,t.memoizedState=null,s)}function yu(e,t){return t=to({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function to(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function vu(e,t,s){return Br(t,e.child,null,s),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L0(e,t,s){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Lc(e.return,t,s)}function wu(e,t,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function z0(e,t,s){var o=t.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=xt.current,k=(y&2)!==0;if(k?(y=y&1|2,t.flags|=128):y&=1,j(xt,y),It(e,t,o,s),o=Ie?xi:0,!k&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L0(e,s,t);else if(e.tag===19)L0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&$l(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),wu(t,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&$l(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}wu(t,!0,s,null,f,o);break;case"together":wu(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Sa(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(ms(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=ba(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ba(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ku(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ll(e)))}function Sy(e,t,s){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Ka(t,wt,e.memoizedState.cache),Or();break;case 27:case 5:gt(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Ka(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Xa(t),t.flags|=128,null):(s&t.child.childLanes)!==0?M0(e,t,s):(Xa(t),e=Sa(e,t,s),e!==null?e.sibling:null);Xa(t);break;case 19:var h=(e.flags&128)!==0;if(o=(s&t.childLanes)!==0,o||(ms(e,t,s,!1),o=(s&t.childLanes)!==0),h){if(o)return z0(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),j(xt,xt.current),o)break;return null;case 22:return t.lanes=0,C0(e,t,s,t.pendingProps);case 24:Ka(t,wt,e.memoizedState.cache)}return Sa(e,t,s)}function B0(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!ku(e,s)&&(t.flags&128)===0)return jt=!1,Sy(e,t,s);jt=(e.flags&131072)!==0}else jt=!1,Ie&&(t.flags&1048576)!==0&&gf(t,xi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=Lr(t.elementType),t.type=e,typeof e=="function")Ec(e)?(o=Ir(e,o),t.tag=1,t=R0(null,t,e,o,s)):(t.tag=0,t=gu(null,t,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Y){t.tag=11,t=_0(null,t,e,o,s);break e}else if(h===G){t.tag=14,t=N0(null,t,e,o,s);break e}}throw t=de(e)||e,Error(i(306,t,""))}}return t;case 0:return gu(e,t,t.type,t.pendingProps,s);case 1:return o=t.type,h=Ir(o,t.pendingProps),R0(e,t,o,h,s);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(i(387));o=t.pendingProps;var f=t.memoizedState;h=f.element,qc(e,t),_i(t,o,null,s);var y=t.memoizedState;if(o=y.cache,Ka(t,wt,o),o!==f.cache&&zc(t,[wt],s,!0),Si(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=D0(e,t,o,s);break e}else if(o!==h){h=Tn(Error(i(424)),t),bi(h),t=D0(e,t,o,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Mn(e.firstChild),Bt=t,Ie=!0,Fa=null,Rn=!0,s=Cf(t,null,o,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Or(),o===h){t=Sa(e,t,s);break e}It(e,t,o,s)}t=t.child}return t;case 26:return eo(e,t),e===null?(s=Km(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ie||(s=t.type,e=t.pendingProps,o=bo(se.current).createElement(s),o[vt]=t,o[zt]=e,Pt(o,s,e),ot(o),t.stateNode=o):t.memoizedState=Km(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gt(t),e===null&&Ie&&(o=t.stateNode=Vm(t.type,t.pendingProps,se.current),Bt=t,Rn=!0,h=st,lr(t.type)?(td=h,st=Mn(o.firstChild)):st=h),It(e,t,t.pendingProps.children,s),eo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((h=o=st)&&(o=ev(o,t.type,t.pendingProps,Rn),o!==null?(t.stateNode=o,Bt=t,st=Mn(o.firstChild),Rn=!1,h=!0):h=!1),h||Ya(t)),gt(t),h=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Wu(h,f)?o=null:y!==null&&Wu(h,y)&&(t.flags|=32),t.memoizedState!==null&&(h=Qc(e,t,gy,null,null,s),Vi._currentValue=h),eo(e,t),It(e,t,o,s),t.child;case 6:return e===null&&Ie&&((e=s=st)&&(s=tv(s,t.pendingProps,Rn),s!==null?(t.stateNode=s,Bt=t,st=null,e=!0):e=!1),e||Ya(t)),null;case 13:return M0(e,t,s);case 4:return _e(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Br(t,null,o,s):It(e,t,o,s),t.child;case 11:return _0(e,t,t.type,t.pendingProps,s);case 7:return It(e,t,t.pendingProps,s),t.child;case 8:return It(e,t,t.pendingProps.children,s),t.child;case 12:return It(e,t,t.pendingProps.children,s),t.child;case 10:return o=t.pendingProps,Ka(t,t.type,o.value),It(e,t,o.children,s),t.child;case 9:return h=t.type._context,o=t.pendingProps.children,Dr(t),h=Ut(h),o=o(h),t.flags|=1,It(e,t,o,s),t.child;case 14:return N0(e,t,t.type,t.pendingProps,s);case 15:return E0(e,t,t.type,t.pendingProps,s);case 19:return z0(e,t,s);case 31:return jy(e,t,s);case 22:return C0(e,t,s,t.pendingProps);case 24:return Dr(t),o=Ut(wt),e===null?(h=Ic(),h===null&&(h=et,f=Bc(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),t.memoizedState={parent:o,cache:h},Hc(t),Ka(t,wt,h)):((e.lanes&s)!==0&&(qc(e,t),_i(t,null,null,s),Si()),h=e.memoizedState,f=t.memoizedState,h.parent!==o?(h={parent:o,cache:o},t.memoizedState=h,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=h),Ka(t,wt,o)):(o=f.cache,Ka(t,wt,o),o!==h.cache&&zc(t,[wt],s,!0))),It(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function _a(e){e.flags|=4}function ju(e,t,s,o,h){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(um())e.flags|=8192;else throw zr=Il,Pc}else e.flags&=-16777217}function U0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zm(t))if(um())e.flags|=8192;else throw zr=Il,Pc}function no(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ua():536870912,e.lanes|=t,Ns|=t)}function Oi(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,t}function _y(e,t,s){var o=t.pendingProps;switch(Oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return s=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),wa(wt),Oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fs(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),it(t),null;case 26:var h=t.type,f=t.memoizedState;return e===null?(_a(t),f!==null?(it(t),U0(t,f)):(it(t),ju(t,h,null,o,s))):f?f!==e.memoizedState?(_a(t),it(t),U0(t,f)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&_a(t),it(t),ju(t,h,e,o,s)),null;case 27:if(cn(t),s=se.current,h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&_a(t);else{if(!o){if(t.stateNode===null)throw Error(i(166));return it(t),null}e=U.current,fs(t)?xf(t):(e=Vm(h,o,s),t.stateNode=e,_a(t))}return it(t),null;case 5:if(cn(t),h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&_a(t);else{if(!o){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(f=U.current,fs(t))xf(t);else{var y=bo(se.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[vt]=t,f[zt]=o;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(Pt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&_a(t)}}return it(t),ju(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&_a(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(e=se.current,fs(t)){if(e=t.stateNode,s=t.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[vt]=t,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Mm(e.nodeValue,s)),e||Ya(t,!0)}else e=bo(e).createTextNode(o),e[vt]=t,t.stateNode=e}return it(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(o=fs(t),s!==null){if(e===null){if(!o)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[vt]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else s=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(gn(t),t):(gn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return it(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[vt]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),h=!1}else h=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return t.flags&256?(gn(t),t):(gn(t),null)}return gn(t),(t.flags&128)!==0?(t.lanes=s,t):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=t.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),no(t,t.updateQueue),it(t),null);case 4:return Oe(),e===null&&Vu(t.stateNode.containerInfo),it(t),null;case 10:return wa(t.type),it(t),null;case 19:if(M(xt),o=t.memoizedState,o===null)return it(t),null;if(h=(t.flags&128)!==0,f=o.rendering,f===null)if(h)Oi(o,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=$l(e),f!==null){for(t.flags|=128,Oi(o,!1),e=f.updateQueue,t.updateQueue=e,no(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)hf(s,e),s=s.sibling;return j(xt,xt.current&1|2),Ie&&ya(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&tt()>lo&&(t.flags|=128,h=!0,Oi(o,!1),t.lanes=4194304)}else{if(!h)if(e=$l(f),e!==null){if(t.flags|=128,h=!0,e=e.updateQueue,t.updateQueue=e,no(t,e),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ie)return it(t),null}else 2*tt()-o.renderingStartTime>lo&&s!==536870912&&(t.flags|=128,h=!0,Oi(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tt(),e.sibling=null,s=xt.current,j(xt,h?s&1|2:s&1),Ie&&ya(t,o.treeForkCount),e):(it(t),null);case 22:case 23:return gn(t),Fc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(s&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),s=t.updateQueue,s!==null&&no(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==s&&(t.flags|=2048),e!==null&&M(Mr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),wa(wt),it(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Ny(e,t){switch(Oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(wt),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cn(t),null;case 31:if(t.memoizedState!==null){if(gn(t),t.alternate===null)throw Error(i(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(xt),null;case 4:return Oe(),null;case 10:return wa(t.type),null;case 22:case 23:return gn(t),Fc(),e!==null&&M(Mr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(wt),null;case 25:return null;default:return null}}function I0(e,t){switch(Oc(t),t.tag){case 3:wa(wt),Oe();break;case 26:case 27:case 5:cn(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&gn(t);break;case 13:gn(t);break;case 19:M(xt);break;case 10:wa(t.type);break;case 22:case 23:gn(t),Fc(),e!==null&&M(Mr);break;case 24:wa(wt)}}function Ri(e,t){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(k){Qe(t,t.return,k)}}function er(e,t,s){try{var o=t.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,k=y.destroy;if(k!==void 0){y.destroy=void 0,h=t;var C=s,H=k;try{H()}catch(J){Qe(h,C,J)}}}o=o.next}while(o!==f)}}catch(J){Qe(t,t.return,J)}}function P0(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Af(t,s)}catch(o){Qe(e,e.return,o)}}}function H0(e,t,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qe(e,t,o)}}function Di(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qe(e,t,h)}}function ta(e,t){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qe(e,t,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qe(e,t,h)}else s.current=null}function q0(e){var t=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qe(e,e.return,h)}}function Su(e,t,s){try{var o=e.stateNode;Ky(o,e.type,s,t),o[zt]=t}catch(h){Qe(e,e.return,h)}}function $0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lr(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=pa));else if(o!==4&&(o===27&&lr(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Nu(e,t,s),e=e.sibling;e!==null;)Nu(e,t,s),e=e.sibling}function ao(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(o!==4&&(o===27&&lr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ao(e,t,s),e=e.sibling;e!==null;)ao(e,t,s),e=e.sibling}function G0(e){var t=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=t.attributes;h.length;)t.removeAttributeNode(h[0]);Pt(t,o,s),t[vt]=e,t[zt]=s}catch(f){Qe(e,e.return,f)}}var Na=!1,St=!1,Eu=!1,V0=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Ey(e,t){if(e=e.containerInfo,Ku=_o,e=nf(e),vc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,k=-1,C=-1,H=0,J=0,ae=e,$=null;t:for(;;){for(var F;ae!==s||h!==0&&ae.nodeType!==3||(k=y+h),ae!==f||o!==0&&ae.nodeType!==3||(C=y+o),ae.nodeType===3&&(y+=ae.nodeValue.length),(F=ae.firstChild)!==null;)$=ae,ae=F;for(;;){if(ae===e)break t;if($===s&&++H===h&&(k=y),$===f&&++J===o&&(C=y),(F=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=F}s=k===-1||C===-1?null:{start:k,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qu={focusedElem:e,selectionRange:s},_o=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var me=Ir(s.type,h);e=o.getSnapshotBeforeUpdate(me,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(we){Qe(s,s.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Xu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function F0(e,t,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ca(e,s),o&4&&Ri(5,s);break;case 1:if(Ca(e,s),o&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(y){Qe(s,s.return,y)}else{var h=Ir(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(h,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qe(s,s.return,y)}}o&64&&P0(s),o&512&&Di(s,s.return);break;case 3:if(Ca(e,s),o&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Af(e,t)}catch(y){Qe(s,s.return,y)}}break;case 27:t===null&&o&4&&G0(s);case 26:case 5:Ca(e,s),t===null&&o&4&&q0(s),o&512&&Di(s,s.return);break;case 12:Ca(e,s);break;case 31:Ca(e,s),o&4&&Q0(e,s);break;case 13:Ca(e,s),o&4&&W0(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zy.bind(null,s),nv(e,s))));break;case 22:if(o=s.memoizedState!==null||Na,!o){t=t!==null&&t.memoizedState!==null||St,h=Na;var f=St;Na=o,(St=t)&&!f?Ta(e,s,(s.subtreeFlags&8772)!==0):Ca(e,s),Na=h,St=f}break;case 30:break;default:Ca(e,s)}}function Y0(e){var t=e.alternate;t!==null&&(e.alternate=null,Y0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&da(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,en=!1;function Ea(e,t,s){for(s=s.child;s!==null;)K0(e,t,s),s=s.sibling}function K0(e,t,s){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Rt,s)}catch{}switch(s.tag){case 26:St||ta(s,t),Ea(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||ta(s,t);var o=ut,h=en;lr(s.type)&&(ut=s.stateNode,en=!1),Ea(e,t,s),qi(s.stateNode),ut=o,en=h;break;case 5:St||ta(s,t);case 6:if(o=ut,h=en,ut=null,Ea(e,t,s),ut=o,en=h,ut!==null)if(en)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(f){Qe(s,t,f)}else try{ut.removeChild(s.stateNode)}catch(f){Qe(s,t,f)}break;case 18:ut!==null&&(en?(e=ut,Pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ms(e)):Pm(ut,s.stateNode));break;case 4:o=ut,h=en,ut=s.stateNode.containerInfo,en=!0,Ea(e,t,s),ut=o,en=h;break;case 0:case 11:case 14:case 15:er(2,s,t),St||er(4,s,t),Ea(e,t,s);break;case 1:St||(ta(s,t),o=s.stateNode,typeof o.componentWillUnmount=="function"&&H0(s,t,o)),Ea(e,t,s);break;case 21:Ea(e,t,s);break;case 22:St=(o=St)||s.memoizedState!==null,Ea(e,t,s),St=o;break;default:Ea(e,t,s)}}function Q0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ms(e)}catch(s){Qe(t,t.return,s)}}}function W0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ms(e)}catch(s){Qe(t,t.return,s)}}function Cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new V0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new V0),t;default:throw Error(i(435,e.tag))}}function ro(e,t){var s=Cy(e);t.forEach(function(o){if(!s.has(o)){s.add(o);var h=By.bind(null,e,o);o.then(h,h)}})}function tn(e,t){var s=t.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=t,k=y;e:for(;k!==null;){switch(k.tag){case 27:if(lr(k.type)){ut=k.stateNode,en=!1;break e}break;case 5:ut=k.stateNode,en=!1;break e;case 3:case 4:ut=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(ut===null)throw Error(i(160));K0(f,y,h),ut=null,en=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}var Gn=null;function J0(e,t){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tn(t,e),nn(e),o&4&&(er(3,e,e.return),Ri(3,e),er(5,e,e.return));break;case 1:tn(t,e),nn(e),o&512&&(St||s===null||ta(s,s.return)),o&64&&Na&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Gn;if(tn(t,e),nn(e),o&512&&(St||s===null||ta(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ha]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Pt(f,o,s),f[vt]=e,ot(f),o=f;break e;case"link":var y=Jm("link","href",h).get(o+(s.href||""));if(y){for(var k=0;k<y.length;k++)if(f=y[k],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(k,1);break t}}f=h.createElement(o),Pt(f,o,s),h.head.appendChild(f);break;case"meta":if(y=Jm("meta","content",h).get(o+(s.content||""))){for(k=0;k<y.length;k++)if(f=y[k],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(k,1);break t}}f=h.createElement(o),Pt(f,o,s),h.head.appendChild(f);break;default:throw Error(i(468,o))}f[vt]=e,ot(f),o=f}e.stateNode=o}else Xm(h,e.type,e.stateNode);else e.stateNode=Wm(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Xm(h,e.type,e.stateNode):Wm(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Su(e,e.memoizedProps,s.memoizedProps)}break;case 27:tn(t,e),nn(e),o&512&&(St||s===null||ta(s,s.return)),s!==null&&o&4&&Su(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tn(t,e),nn(e),o&512&&(St||s===null||ta(s,s.return)),e.flags&32){h=e.stateNode;try{Ue(h,"")}catch(me){Qe(e,e.return,me)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Su(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Eu=!0);break;case 6:if(tn(t,e),nn(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(me){Qe(e,e.return,me)}}break;case 3:if(wo=null,h=Gn,Gn=yo(t.containerInfo),tn(t,e),Gn=h,nn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ms(t.containerInfo)}catch(me){Qe(e,e.return,me)}Eu&&(Eu=!1,X0(e));break;case 4:o=Gn,Gn=yo(e.stateNode.containerInfo),tn(t,e),nn(e),Gn=o;break;case 12:tn(t,e),nn(e);break;case 31:tn(t,e),nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ro(e,o)));break;case 13:tn(t,e),nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(io=tt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ro(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,H=Na,J=St;if(Na=H||h,St=J||C,tn(t,e),St=J,Na=H,nn(e),o&8192)e:for(t=e.stateNode,t._visibility=h?t._visibility&-2:t._visibility|1,h&&(s===null||C||Na||St||Pr(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){C=s=t;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{k=C.stateNode;var ae=C.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;k.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(me){Qe(C,C.return,me)}}}else if(t.tag===6){if(s===null){C=t;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(me){Qe(C,C.return,me)}}}else if(t.tag===18){if(s===null){C=t;try{var F=C.stateNode;h?Hm(F,!0):Hm(C.stateNode,!1)}catch(me){Qe(C,C.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ro(e,s))));break;case 19:tn(t,e),nn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ro(e,o)));break;case 30:break;case 21:break;default:tn(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{for(var s,o=e.return;o!==null;){if($0(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,f=_u(e);ao(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(Ue(y,""),s.flags&=-33);var k=_u(e);ao(e,k,y);break;case 3:case 4:var C=s.stateNode.containerInfo,H=_u(e);Nu(e,H,C);break;default:throw Error(i(161))}}catch(J){Qe(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;X0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)F0(e,t.alternate,t),t=t.sibling}function Pr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:er(4,t,t.return),Pr(t);break;case 1:ta(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&H0(t,t.return,s),Pr(t);break;case 27:qi(t.stateNode);case 26:case 5:ta(t,t.return),Pr(t);break;case 22:t.memoizedState===null&&Pr(t);break;case 30:Pr(t);break;default:Pr(t)}e=e.sibling}}function Ta(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,h=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ta(h,f,s),Ri(4,f);break;case 1:if(Ta(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Qe(o,o.return,H)}if(o=f,h=o.updateQueue,h!==null){var k=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tf(C[h],k)}catch(H){Qe(o,o.return,H)}}s&&y&64&&P0(f),Di(f,f.return);break;case 27:G0(f);case 26:case 5:Ta(h,f,s),s&&o===null&&y&4&&q0(f),Di(f,f.return);break;case 12:Ta(h,f,s);break;case 31:Ta(h,f,s),s&&y&4&&Q0(h,f);break;case 13:Ta(h,f,s),s&&y&4&&W0(h,f);break;case 22:f.memoizedState===null&&Ta(h,f,s),Di(f,f.return);break;case 30:break;default:Ta(h,f,s)}t=t.sibling}}function Cu(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&yi(s))}function Tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e))}function Vn(e,t,s,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z0(e,t,s,o),t=t.sibling}function Z0(e,t,s,o){var h=t.flags;switch(t.tag){case 0:case 11:case 15:Vn(e,t,s,o),h&2048&&Ri(9,t);break;case 1:Vn(e,t,s,o);break;case 3:Vn(e,t,s,o),h&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e)));break;case 12:if(h&2048){Vn(e,t,s,o),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,k=f.onPostCommit;typeof k=="function"&&k(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qe(t,t.return,C)}}else Vn(e,t,s,o);break;case 31:Vn(e,t,s,o);break;case 13:Vn(e,t,s,o);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Vn(e,t,s,o):Mi(e,t):f._visibility&2?Vn(e,t,s,o):(f._visibility|=2,js(e,t,s,o,(t.subtreeFlags&10256)!==0||!1)),h&2048&&Cu(y,t);break;case 24:Vn(e,t,s,o),h&2048&&Tu(t.alternate,t);break;default:Vn(e,t,s,o)}}function js(e,t,s,o,h){for(h=h&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,k=s,C=o,H=y.flags;switch(y.tag){case 0:case 11:case 15:js(f,y,k,C,h),Ri(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?js(f,y,k,C,h):Mi(f,y):(J._visibility|=2,js(f,y,k,C,h)),h&&H&2048&&Cu(y.alternate,y);break;case 24:js(f,y,k,C,h),h&&H&2048&&Tu(y.alternate,y);break;default:js(f,y,k,C,h)}t=t.sibling}}function Mi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,o=t,h=o.flags;switch(o.tag){case 22:Mi(s,o),h&2048&&Cu(o.alternate,o);break;case 24:Mi(s,o),h&2048&&Tu(o.alternate,o);break;default:Mi(s,o)}t=t.sibling}}var Li=8192;function Ss(e,t,s){if(e.subtreeFlags&Li)for(e=e.child;e!==null;)em(e,t,s),e=e.sibling}function em(e,t,s){switch(e.tag){case 26:Ss(e,t,s),e.flags&Li&&e.memoizedState!==null&&mv(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:Ss(e,t,s);break;case 3:case 4:var o=Gn;Gn=yo(e.stateNode.containerInfo),Ss(e,t,s),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Li,Li=16777216,Ss(e,t,s),Li=o):Ss(e,t,s));break;default:Ss(e,t,s)}}function tm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var o=t[s];Mt=o,am(o,e)}tm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nm(e),e=e.sibling}function nm(e){switch(e.tag){case 0:case 11:case 15:zi(e),e.flags&2048&&er(9,e,e.return);break;case 3:zi(e);break;case 12:zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,so(e)):zi(e);break;default:zi(e)}}function so(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var o=t[s];Mt=o,am(o,e)}tm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:er(8,t,t.return),so(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,so(t));break;default:so(t)}e=e.sibling}}function am(e,t){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:er(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yi(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Mt=o;else e:for(s=e;Mt!==null;){o=Mt;var h=o.sibling,f=o.return;if(Y0(o),o===s){Mt=null;break e}if(h!==null){h.return=f,Mt=h;break e}Mt=f}}}var Ty={getCacheForType:function(e){var t=Ut(wt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Ut(wt).controller.signal}},Ay=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,ze=0,Ke=0,pn=null,tr=!1,_s=!1,Au=!1,Aa=0,mt=0,nr=0,Hr=0,Ou=0,xn=0,Ns=0,Bi=null,an=null,Ru=!1,io=0,rm=0,lo=1/0,oo=null,ar=null,Tt=0,rr=null,Es=null,Oa=0,Du=0,Mu=null,sm=null,Ui=0,Lu=null;function bn(){return(Ge&2)!==0&&ze!==0?ze&-ze:L.T!==null?Hu():xl()}function im(){if(xn===0)if((ze&536870912)===0||Ie){var e=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),xn=e}else xn=536870912;return e=mn.current,e!==null&&(e.flags|=32),xn}function rn(e,t,s){(e===et&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Cs(e,0),sr(e,ze,xn,!1)),ca(e,s),((Ge&2)===0||e!==et)&&(e===et&&((Ge&2)===0&&(Hr|=s),mt===4&&sr(e,ze,xn,!1)),na(e))}function lm(e,t,s){if((Ge&6)!==0)throw Error(i(327));var o=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Ba(e,t),h=o?Dy(e,t):Bu(e,t,!0),f=o;do{if(h===0){_s&&!o&&sr(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Oy(s)){h=Bu(e,t,!1),f=!1;continue}if(h===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var k=e;h=Bi;var C=k.current.memoizedState.isDehydrated;if(C&&(Cs(k,y).flags|=256),y=Bu(k,y,!1),y!==2){if(Au&&!C){k.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break e}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Cs(e,0),sr(e,t,0,!0);break}e:{switch(o=e,f=h,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:sr(o,t,xn,!tr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(h=io+300-tt(),10<h)){if(sr(o,t,xn,!tr),wr(o,0,!0)!==0)break e;Oa=t,o.timeoutHandle=Um(om.bind(null,o,s,an,oo,Ru,t,xn,Hr,Ns,tr,f,"Throttled",-0,0),h);break e}om(o,s,an,oo,Ru,t,xn,Hr,Ns,tr,f,null,-0,0)}}break}while(!0);na(e)}function om(e,t,s,o,h,f,y,k,C,H,J,ae,$,F){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},em(t,f,ae);var me=(f&62914560)===f?io-tt():(f&4194048)===f?rm-tt():0;if(me=gv(ae,me),me!==null){Oa=f,e.cancelPendingCommit=me(pm.bind(null,e,t,f,s,o,h,y,k,C,J,ae,null,$,F)),sr(e,f,y,!H);return}}pm(e,t,f,s,o,h,y,k,C)}function Oy(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sr(e,t,s,o){t&=~Ou,t&=~Hr,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var h=t;0<h;){var f=31-Fe(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&Ia(e,s,t)}function co(){return(Ge&6)===0?(Ii(0),!1):!0}function zu(){if(De!==null){if(Ke===0)var e=De.return;else e=De,va=Rr=null,Xc(e),bs=null,wi=0,e=De;for(;e!==null;)I0(e.alternate,e),e=e.return;De=null}}function Cs(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Jy(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Oa=0,zu(),et=e,De=s=ba(e.current,null),ze=t,Ke=0,pn=null,tr=!1,_s=Ba(e,t),Au=!1,Ns=xn=Ou=Hr=nr=mt=0,an=Bi=null,Ru=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var h=31-Fe(o),f=1<<h;t|=e[h],o&=~f}return Aa=t,Al(),s}function cm(e,t){Ce=null,L.H=Ti,t===xs||t===Ul?(t=_f(),Ke=3):t===Pc?(t=_f(),Ke=4):Ke=t===mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pn=t,De===null&&(mt=1,Xl(e,Tn(t,e.current)))}function um(){var e=mn.current;return e===null?!0:(ze&4194048)===ze?Dn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===Dn:!1}function dm(){var e=L.H;return L.H=Ti,e===null?Ti:e}function hm(){var e=L.A;return L.A=Ty,e}function uo(){mt=4,tr||(ze&4194048)!==ze&&mn.current!==null||(_s=!0),(nr&134217727)===0&&(Hr&134217727)===0||et===null||sr(et,ze,xn,!1)}function Bu(e,t,s){var o=Ge;Ge|=2;var h=dm(),f=hm();(et!==e||ze!==t)&&(oo=null,Cs(e,t)),t=!1;var y=mt;e:do try{if(Ke!==0&&De!==null){var k=De,C=pn;switch(Ke){case 8:zu(),y=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var H=Ke;if(Ke=0,pn=null,Ts(e,k,C,H),s&&_s){y=0;break e}break;default:H=Ke,Ke=0,pn=null,Ts(e,k,C,H)}}Ry(),y=mt;break}catch(J){cm(e,J)}while(!0);return t&&e.shellSuspendCounter++,va=Rr=null,Ge=o,L.H=h,L.A=f,De===null&&(et=null,ze=0,Al()),y}function Ry(){for(;De!==null;)fm(De)}function Dy(e,t){var s=Ge;Ge|=2;var o=dm(),h=hm();et!==e||ze!==t?(oo=null,lo=tt()+500,Cs(e,t)):_s=Ba(e,t);e:do try{if(Ke!==0&&De!==null){t=De;var f=pn;t:switch(Ke){case 1:Ke=0,pn=null,Ts(e,t,f,1);break;case 2:case 9:if(jf(f)){Ke=0,pn=null,mm(t);break}t=function(){Ke!==2&&Ke!==9||et!==e||(Ke=7),na(e)},f.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:jf(f)?(Ke=0,pn=null,mm(t)):(Ke=0,pn=null,Ts(e,t,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var k=De;if(y?Zm(y):k.stateNode.complete){Ke=0,pn=null;var C=k.sibling;if(C!==null)De=C;else{var H=k.return;H!==null?(De=H,ho(H)):De=null}break t}}Ke=0,pn=null,Ts(e,t,f,5);break;case 6:Ke=0,pn=null,Ts(e,t,f,6);break;case 8:zu(),mt=6;break e;default:throw Error(i(462))}}My();break}catch(J){cm(e,J)}while(!0);return va=Rr=null,L.H=o,L.A=h,Ge=s,De!==null?0:(et=null,ze=0,Al(),mt)}function My(){for(;De!==null&&!un();)fm(De)}function fm(e){var t=B0(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?ho(e):De=t}function mm(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=O0(s,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=O0(s,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:Xc(t);default:I0(s,t),t=De=hf(t,Aa),t=B0(s,t,Aa)}e.memoizedProps=e.pendingProps,t===null?ho(e):De=t}function Ts(e,t,s,o){va=Rr=null,Xc(t),bs=null,wi=0;var h=t.return;try{if(ky(e,h,t,s,ze)){mt=1,Xl(e,Tn(s,e.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;mt=1,Xl(e,Tn(s,e.current)),De=null;return}t.flags&32768?(Ie||o===1?e=!0:_s||(ze&536870912)!==0?e=!1:(tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gm(t,e)):ho(t)}function ho(e){var t=e;do{if((t.flags&32768)!==0){gm(t,tr);return}e=t.return;var s=_y(t.alternate,t,Aa);if(s!==null){De=s;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);mt===0&&(mt=5)}function gm(e,t){do{var s=Ny(e.alternate,e);if(s!==null){s.flags&=32767,De=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=s}while(e!==null);mt=6,De=null}function pm(e,t,s,o,h,f,y,k,C){e.cancelPendingCommit=null;do fo();while(Tt!==0);if((Ge&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=_c,ni(e,s,f,y,k,C),e===et&&(De=et=null,ze=0),Es=t,rr=e,Oa=s,Du=f,Mu=h,sm=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Uy(ve,function(){return wm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=V.p,V.p=2,y=Ge,Ge|=4;try{Ey(e,t,s)}finally{Ge=y,V.p=h,L.T=o}}Tt=1,xm(),bm(),ym()}}function xm(){if(Tt===1){Tt=0;var e=rr,t=Es,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var o=V.p;V.p=2;var h=Ge;Ge|=4;try{J0(t,e);var f=Qu,y=nf(e.containerInfo),k=f.focusedElem,C=f.selectionRange;if(y!==k&&k&&k.ownerDocument&&tf(k.ownerDocument.documentElement,k)){if(C!==null&&vc(k)){var H=C.start,J=C.end;if(J===void 0&&(J=H),"selectionStart"in k)k.selectionStart=H,k.selectionEnd=Math.min(J,k.value.length);else{var ae=k.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var F=$.getSelection(),me=k.textContent.length,we=Math.min(C.start,me),Ze=C.end===void 0?we:Math.min(C.end,me);!F.extend&&we>Ze&&(y=Ze,Ze=we,we=y);var B=ef(k,we),R=ef(k,Ze);if(B&&R&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==R.node||F.focusOffset!==R.offset)){var P=ae.createRange();P.setStart(B.node,B.offset),F.removeAllRanges(),we>Ze?(F.addRange(P),F.extend(R.node,R.offset)):(P.setEnd(R.node,R.offset),F.addRange(P))}}}}for(ae=[],F=k;F=F.parentNode;)F.nodeType===1&&ae.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ae.length;k++){var ne=ae[k];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}_o=!!Ku,Qu=Ku=null}finally{Ge=h,V.p=o,L.T=s}}e.current=t,Tt=2}}function bm(){if(Tt===2){Tt=0;var e=rr,t=Es,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var o=V.p;V.p=2;var h=Ge;Ge|=4;try{F0(e,t.alternate,t)}finally{Ge=h,V.p=o,L.T=s}}Tt=3}}function ym(){if(Tt===4||Tt===3){Tt=0,Nn();var e=rr,t=Es,s=Oa,o=sm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Es=rr=null,vm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ar=null),Pa(s),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Rt,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=L.T,h=V.p,V.p=2,L.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var k=o[y];f(k.value,{componentStack:k.stack})}}finally{L.T=t,V.p=h}}(Oa&3)!==0&&fo(),na(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Lu?Ui++:(Ui=0,Lu=e):Ui=0,Ii(0)}}function vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yi(t)))}function fo(){return xm(),bm(),ym(),wm()}function wm(){if(Tt!==5)return!1;var e=rr,t=Du;Du=0;var s=Pa(Oa),o=L.T,h=V.p;try{V.p=32>s?32:s,L.T=null,s=Mu,Mu=null;var f=rr,y=Oa;if(Tt=0,Es=rr=null,Oa=0,(Ge&6)!==0)throw Error(i(331));var k=Ge;if(Ge|=4,nm(f.current),Z0(f,f.current,y,s),Ge=k,Ii(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Rt,f)}catch{}return!0}finally{V.p=h,L.T=o,vm(e,t)}}function km(e,t,s){t=Tn(s,t),t=fu(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(ca(e,2),na(e))}function Qe(e,t,s){if(e.tag===3)km(e,e,s);else for(;t!==null;){if(t.tag===3){km(t,e,s);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ar===null||!ar.has(o))){e=Tn(s,e),s=j0(2),o=Ja(t,s,2),o!==null&&(S0(s,o,t,e),ca(o,2),na(o));break}}t=t.return}}function Uu(e,t,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Ay;var h=new Set;o.set(t,h)}else h=o.get(t),h===void 0&&(h=new Set,o.set(t,h));h.has(s)||(Au=!0,h.add(s),e=Ly.bind(null,e,t,s),t.then(e,e))}function Ly(e,t,s){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,et===e&&(ze&s)===s&&(mt===4||mt===3&&(ze&62914560)===ze&&300>tt()-io?(Ge&2)===0&&Cs(e,0):Ou|=s,Ns===ze&&(Ns=0)),na(e)}function jm(e,t){t===0&&(t=Ua()),e=Tr(e,t),e!==null&&(ca(e,t),na(e))}function zy(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),jm(e,s)}function By(e,t){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(t),jm(e,s)}function Uy(e,t){return Lt(e,t)}var mo=null,As=null,Iu=!1,go=!1,Pu=!1,ir=0;function na(e){e!==As&&e.next===null&&(As===null?mo=As=e:As=As.next=e),go=!0,Iu||(Iu=!0,Py())}function Ii(e,t){if(!Pu&&go){Pu=!0;do for(var s=!1,o=mo;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,k=o.pingedLanes;f=(1<<31-Fe(42|e)+1)-1,f&=h&~(y&~k),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Em(o,f))}else f=ze,f=wr(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ba(o,f)||(s=!0,Em(o,f));o=o.next}while(s);Pu=!1}}function Iy(){Sm()}function Sm(){go=Iu=!1;var e=0;ir!==0&&Wy()&&(e=ir);for(var t=tt(),s=null,o=mo;o!==null;){var h=o.next,f=_m(o,t);f===0?(o.next=null,s===null?mo=h:s.next=h,h===null&&(As=s)):(s=o,(e!==0||(f&3)!==0)&&(go=!0)),o=h}Tt!==0&&Tt!==5||Ii(e),ir!==0&&(ir=0)}function _m(e,t){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Fe(f),k=1<<y,C=h[y];C===-1?((k&s)===0||(k&o)!==0)&&(h[y]=yt(k,t)):C<=t&&(e.expiredLanes|=k),f&=~k}if(t=et,s=ze,s=wr(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&za(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ba(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(o!==null&&za(o),Pa(s)){case 2:case 8:s=ce;break;case 32:s=ve;break;case 268435456:s=He;break;default:s=ve}return o=Nm.bind(null,e),s=Lt(s,o),e.callbackPriority=t,e.callbackNode=s,t}return o!==null&&o!==null&&za(o),e.callbackPriority=2,e.callbackNode=null,2}function Nm(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(fo()&&e.callbackNode!==s)return null;var o=ze;return o=wr(e,e===et?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(lm(e,o,t),_m(e,tt()),e.callbackNode!=null&&e.callbackNode===s?Nm.bind(null,e):null)}function Em(e,t){if(fo())return null;lm(e,t,!0)}function Py(){Xy(function(){(Ge&6)!==0?Lt(K,Iy):Sm()})}function Hu(){if(ir===0){var e=gs;e===0&&(e=Xr,Xr<<=1,(Xr&261888)===0&&(Xr=256)),ir=e}return ir}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function Tm(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Hy(e,t,s,o,h){if(t==="submit"&&s&&s.stateNode===h){var f=Cm((h[zt]||null).action),y=o.submitter;y&&(t=(t=y[zt]||null)?Cm(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var k=new Nl("action","action",null,o,h);e.push({event:k,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ir!==0){var C=y?Tm(h,y):new FormData(h);lu(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(k.preventDefault(),C=y?Tm(h,y):new FormData(h),lu(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var qu=0;qu<Sc.length;qu++){var $u=Sc[qu],qy=$u.toLowerCase(),$y=$u[0].toUpperCase()+$u.slice(1);$n(qy,"on"+$y)}$n(sf,"onAnimationEnd"),$n(lf,"onAnimationIteration"),$n(of,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(sy,"onTransitionRun"),$n(iy,"onTransitionStart"),$n(ly,"onTransitionCancel"),$n(cf,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function Am(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var y=o.length-1;0<=y;y--){var k=o[y],C=k.instance,H=k.currentTarget;if(k=k.listener,C!==f&&h.isPropagationStopped())break e;f=k,h.currentTarget=H;try{f(h)}catch(J){Tl(J)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(k=o[y],C=k.instance,H=k.currentTarget,k=k.listener,C!==f&&h.isPropagationStopped())break e;f=k,h.currentTarget=H;try{f(h)}catch(J){Tl(J)}h.currentTarget=null,f=C}}}}function Me(e,t){var s=t[ri];s===void 0&&(s=t[ri]=new Set);var o=e+"__bubble";s.has(o)||(Om(t,e,2,!1),s.add(o))}function Gu(e,t,s){var o=0;t&&(o|=4),Om(s,e,o,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[po]){e[po]=!0,ii.forEach(function(s){s!=="selectionchange"&&(Gy.has(s)||Gu(s,!1,e),Gu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,Gu("selectionchange",!1,t))}}function Om(e,t,s,o){switch(ig(t)){case 2:var h=bv;break;case 8:h=yv;break;default:h=id}s=h.bind(null,t,s,e),h=void 0,!dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function Fu(e,t,s,o,h){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var k=o.stateNode.containerInfo;if(k===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;k!==null;){if(y=ha(k),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}k=k.parentNode}}o=o.return}Lh(function(){var H=f,J=cc(s),ae=[];e:{var $=uf.get(e);if($!==void 0){var F=Nl,me=e;switch(e){case"keypress":if(Sl(s)===0)break e;case"keydown":case"keyup":F=Bb;break;case"focusin":me="focus",F=gc;break;case"focusout":me="blur",F=gc;break;case"beforeblur":case"afterblur":F=gc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Pb;break;case sf:case lf:case of:F=Cb;break;case cf:F=qb;break;case"scroll":case"scrollend":F=jb;break;case"wheel":F=Gb;break;case"copy":case"cut":case"paste":F=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ph;break;case"toggle":case"beforetoggle":F=Fb}var we=(t&4)!==0,Ze=!we&&(e==="scroll"||e==="scrollend"),B=we?$!==null?$+"Capture":null:$;we=[];for(var R=H,P;R!==null;){var ne=R;if(P=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||P===null||B===null||(ne=oi(R,B),ne!=null&&we.push(Hi(R,ne,P))),Ze)break;R=R.return}0<we.length&&($=new F($,me,null,s,J),ae.push({event:$,listeners:we}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",$&&s!==oc&&(me=s.relatedTarget||s.fromElement)&&(ha(me)||me[ua]))break e;if((F||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,F?(me=s.relatedTarget||s.toElement,F=H,me=me?ha(me):null,me!==null&&(Ze=u(me),we=me.tag,me!==Ze||we!==5&&we!==27&&we!==6)&&(me=null)):(F=null,me=H),F!==me)){if(we=Uh,ne="onMouseLeave",B="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(we=Ph,ne="onPointerLeave",B="onPointerEnter",R="pointer"),Ze=F==null?$:fa(F),P=me==null?$:fa(me),$=new we(ne,R+"leave",F,s,J),$.target=Ze,$.relatedTarget=P,ne=null,ha(J)===H&&(we=new we(B,R+"enter",me,s,J),we.target=P,we.relatedTarget=Ze,ne=we),Ze=ne,F&&me)t:{for(we=Vy,B=F,R=me,P=0,ne=B;ne;ne=we(ne))P++;ne=0;for(var ye=R;ye;ye=we(ye))ne++;for(;0<P-ne;)B=we(B),P--;for(;0<ne-P;)R=we(R),ne--;for(;P--;){if(B===R||R!==null&&B===R.alternate){we=B;break t}B=we(B),R=we(R)}we=null}else we=null;F!==null&&Rm(ae,$,F,we,!1),me!==null&&Ze!==null&&Rm(ae,Ze,me,we,!0)}}e:{if($=H?fa(H):window,F=$.nodeName&&$.nodeName.toLowerCase(),F==="select"||F==="input"&&$.type==="file")var qe=Kh;else if(Fh($))if(Qh)qe=ny;else{qe=ey;var pe=Zb}else F=$.nodeName,!F||F.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Ct(H.elementType)&&(qe=Kh):qe=ty;if(qe&&(qe=qe(e,H))){Yh(ae,qe,s,J);break e}pe&&pe(e,$,H),e==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&ct($,"number",$.value)}switch(pe=H?fa(H):window,e){case"focusin":(Fh(pe)||pe.contentEditable==="true")&&(ls=pe,wc=H,pi=null);break;case"focusout":pi=wc=ls=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,af(ae,s,J);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":af(ae,s,J)}var Te;if(xc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else is?Gh(e,s)&&(Be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(Hh&&s.locale!=="ko"&&(is||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&is&&(Te=zh()):(Ga=J,hc="value"in Ga?Ga.value:Ga.textContent,is=!0)),pe=xo(H,Be),0<pe.length&&(Be=new Ih(Be,e,null,s,J),ae.push({event:Be,listeners:pe}),Te?Be.data=Te:(Te=Vh(s),Te!==null&&(Be.data=Te)))),(Te=Kb?Qb(e,s):Wb(e,s))&&(Be=xo(H,"onBeforeInput"),0<Be.length&&(pe=new Ih("onBeforeInput","beforeinput",null,s,J),ae.push({event:pe,listeners:Be}),pe.data=Te)),Hy(ae,e,H,s,J)}Am(ae,t)})}function Hi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function xo(e,t){for(var s=t+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(e,s),h!=null&&o.unshift(Hi(e,h,f)),h=oi(e,t),h!=null&&o.push(Hi(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rm(e,t,s,o,h){for(var f=t._reactName,y=[];s!==null&&s!==o;){var k=s,C=k.alternate,H=k.stateNode;if(k=k.tag,C!==null&&C===o)break;k!==5&&k!==26&&k!==27||H===null||(C=H,h?(H=oi(s,f),H!=null&&y.unshift(Hi(s,H,C))):h||(H=oi(s,f),H!=null&&y.push(Hi(s,H,C)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var Fy=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(Fy,`
`).replace(Yy,"")}function Mm(e,t){return t=Dm(t),Dm(e)===t}function Xe(e,t,s,o,h,f){switch(s){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||Ue(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&Ue(e,""+o);break;case"className":qa(e,"class",o);break;case"tabIndex":qa(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(e,s,o);break;case"style":Re(e,o,f);break;case"data":if(t!=="object"){qa(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Xn(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&Xe(e,t,"name",h.name,h,null),Xe(e,t,"formEncType",h.formEncType,h,null),Xe(e,t,"formMethod",h.formMethod,h,null),Xe(e,t,"formTarget",h.formTarget,h,null)):(Xe(e,t,"encType",h.encType,h,null),Xe(e,t,"method",h.method,h,null),Xe(e,t,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Xn(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=pa);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Xn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Me("beforetoggle",e),Me("toggle",e),ga(e,"popover",o);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=dn.get(s)||s,ga(e,s,o))}}function Yu(e,t,s,o,h,f){switch(s){case"style":Re(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Ue(e,o):(typeof o=="number"||typeof o=="bigint")&&Ue(e,""+o);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"onClick":o!=null&&(e.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),t=s.slice(2,h?s.length-7:void 0),f=e[zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,o,h);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ga(e,s,o)}}}function Pt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xe(e,t,f,y,s,null)}}h&&Xe(e,t,"srcSet",s.srcSet,s,null),o&&Xe(e,t,"src",s.src,s,null);return;case"input":Me("invalid",e);var k=f=y=h=null,C=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var J=s[o];if(J!=null)switch(o){case"name":h=J;break;case"type":y=J;break;case"checked":C=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,t));break;default:Xe(e,t,o,J,s,null)}}Le(e,f,k,C,H,y,h,!1);return;case"select":Me("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(k=s[h],k!=null))switch(h){case"value":f=k;break;case"defaultValue":y=k;break;case"multiple":o=k;default:Xe(e,t,h,k,s,null)}t=f,s=y,e.multiple=!!o,t!=null?Pe(e,!!o,t,!1):s!=null&&Pe(e,!!o,s,!0);return;case"textarea":Me("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(k=s[y],k!=null))switch(y){case"value":o=k;break;case"defaultValue":h=k;break;case"children":f=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Xe(e,t,y,k,s,null)}Ye(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xe(e,t,C,o,s,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(o=0;o<Pi.length;o++)Me(Pi[o],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xe(e,t,H,o,s,null)}return;default:if(Ct(t)){for(J in s)s.hasOwnProperty(J)&&(o=s[J],o!==void 0&&Yu(e,t,J,o,s,void 0));return}}for(k in s)s.hasOwnProperty(k)&&(o=s[k],o!=null&&Xe(e,t,k,o,s,null))}function Ky(e,t,s,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,k=null,C=null,H=null,J=null;for(F in s){var ae=s[F];if(s.hasOwnProperty(F)&&ae!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=ae;default:o.hasOwnProperty(F)||Xe(e,t,F,null,o,ae)}}for(var $ in o){var F=o[$];if(ae=s[$],o.hasOwnProperty($)&&(F!=null||ae!=null))switch($){case"type":f=F;break;case"name":h=F;break;case"checked":H=F;break;case"defaultChecked":J=F;break;case"value":y=F;break;case"defaultValue":k=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,t));break;default:F!==ae&&Xe(e,t,$,F,o,ae)}}be(e,y,k,C,H,J,f,h);return;case"select":F=y=k=$=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||Xe(e,t,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":$=f;break;case"defaultValue":k=f;break;case"multiple":y=f;default:f!==C&&Xe(e,t,h,f,o,C)}t=k,s=y,o=F,$!=null?Pe(e,!!s,$,!1):!!o!=!!s&&(t!=null?Pe(e,!!s,t,!0):Pe(e,!!s,s?[]:"",!1));return;case"textarea":F=$=null;for(k in s)if(h=s[k],s.hasOwnProperty(k)&&h!=null&&!o.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Xe(e,t,k,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":$=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==f&&Xe(e,t,y,h,o,f)}We(e,$,F);return;case"option":for(var me in s)if($=s[me],s.hasOwnProperty(me)&&$!=null&&!o.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:Xe(e,t,me,null,o,$)}for(C in o)if($=o[C],F=s[C],o.hasOwnProperty(C)&&$!==F&&($!=null||F!=null))switch(C){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(e,t,C,$,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)$=s[we],s.hasOwnProperty(we)&&$!=null&&!o.hasOwnProperty(we)&&Xe(e,t,we,null,o,$);for(H in o)if($=o[H],F=s[H],o.hasOwnProperty(H)&&$!==F&&($!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:Xe(e,t,H,$,o,F)}return;default:if(Ct(t)){for(var Ze in s)$=s[Ze],s.hasOwnProperty(Ze)&&$!==void 0&&!o.hasOwnProperty(Ze)&&Yu(e,t,Ze,void 0,o,$);for(J in o)$=o[J],F=s[J],!o.hasOwnProperty(J)||$===F||$===void 0&&F===void 0||Yu(e,t,J,$,o,F);return}}for(var B in s)$=s[B],s.hasOwnProperty(B)&&$!=null&&!o.hasOwnProperty(B)&&Xe(e,t,B,null,o,$);for(ae in o)$=o[ae],F=s[ae],!o.hasOwnProperty(ae)||$===F||$==null&&F==null||Xe(e,t,ae,$,o,F)}function Lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,k=h.duration;if(f&&k&&Lm(y)){for(y=0,k=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],H=C.startTime;if(H>k)break;var J=C.transferSize,ae=C.initiatorType;J&&Lm(ae)&&(C=C.responseEnd,y+=J*(C<k?1:(k-H)/(C-H)))}if(--o,t+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ku=null,Qu=null;function bo(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function Wy(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var Um=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(Zy)}:Um;function Zy(e){setTimeout(function(){throw e})}function lr(e){return e==="head"}function Pm(e,t){var s=t,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ms(t);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")qi(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,qi(s);for(var f=s.firstChild;f;){var y=f.nextSibling,k=f.nodeName;f[Ha]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&qi(e.ownerDocument.body);s=h}while(s);Ms(t)}function Hm(e,t){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xu(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ev(e,t,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ha])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function tv(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function qm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mn(e.nextSibling),e===null))return null;return e}function Zu(e){return e.data==="$?"||e.data==="$~"}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nv(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var o=function(){t(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var td=null;function $m(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Mn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Vm(e,t,s){switch(t=bo(s),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);da(e)}var Ln=new Map,Fm=new Set;function yo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ra=V.d;V.d={f:av,r:rv,D:sv,C:iv,L:lv,m:ov,X:uv,S:cv,M:dv};function av(){var e=Ra.f(),t=co();return e||t}function rv(e){var t=Jt(e);t!==null&&t.tag===5&&t.type==="form"?c0(t):Ra.r(e)}var Os=typeof document>"u"?null:document;function Ym(e,t,s){var o=Os;if(o&&typeof t=="string"&&t){var h=ue(t);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Fm.has(h)||(Fm.add(h),e={rel:e,crossOrigin:s,href:t},o.querySelector(h)===null&&(t=o.createElement("link"),Pt(t,"link",e),ot(t),o.head.appendChild(t)))}}function sv(e){Ra.D(e),Ym("dns-prefetch",e,null)}function iv(e,t){Ra.C(e,t),Ym("preconnect",e,t)}function lv(e,t,s){Ra.L(e,t,s);var o=Os;if(o&&e&&t){var h='link[rel="preload"][as="'+ue(t)+'"]';t==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ue(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ue(s.imageSizes)+'"]')):h+='[href="'+ue(e)+'"]';var f=h;switch(t){case"style":f=Rs(e);break;case"script":f=Ds(e)}Ln.has(f)||(e=b({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Ln.set(f,e),o.querySelector(h)!==null||t==="style"&&o.querySelector($i(f))||t==="script"&&o.querySelector(Gi(f))||(t=o.createElement("link"),Pt(t,"link",e),ot(t),o.head.appendChild(t)))}}function ov(e,t){Ra.m(e,t);var s=Os;if(s&&e){var o=t&&typeof t.as=="string"?t.as:"script",h='link[rel="modulepreload"][as="'+ue(o)+'"][href="'+ue(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ds(e)}if(!Ln.has(f)&&(e=b({rel:"modulepreload",href:e},t),Ln.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gi(f)))return}o=s.createElement("link"),Pt(o,"link",e),ot(o),s.head.appendChild(o)}}}function cv(e,t,s){Ra.S(e,t,s);var o=Os;if(o&&e){var h=Xt(o).hoistableStyles,f=Rs(e);t=t||"default";var y=h.get(f);if(!y){var k={loading:0,preload:null};if(y=o.querySelector($i(f)))k.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Ln.get(f))&&nd(e,s);var C=y=o.createElement("link");ot(C),Pt(C,"link",e),C._p=new Promise(function(H,J){C.onload=H,C.onerror=J}),C.addEventListener("load",function(){k.loading|=1}),C.addEventListener("error",function(){k.loading|=2}),k.loading|=4,vo(y,t,o)}y={type:"stylesheet",instance:y,count:1,state:k},h.set(f,y)}}}function uv(e,t){Ra.X(e,t);var s=Os;if(s&&e){var o=Xt(s).hoistableScripts,h=Ds(e),f=o.get(h);f||(f=s.querySelector(Gi(h)),f||(e=b({src:e,async:!0},t),(t=Ln.get(h))&&ad(e,t),f=s.createElement("script"),ot(f),Pt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function dv(e,t){Ra.M(e,t);var s=Os;if(s&&e){var o=Xt(s).hoistableScripts,h=Ds(e),f=o.get(h);f||(f=s.querySelector(Gi(h)),f||(e=b({src:e,async:!0,type:"module"},t),(t=Ln.get(h))&&ad(e,t),f=s.createElement("script"),ot(f),Pt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Km(e,t,s,o){var h=(h=se.current)?yo(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Rs(s.href),s=Xt(h).hoistableStyles,o=s.get(t),o||(o={type:"style",instance:null,count:0,state:null},s.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Rs(s.href);var f=Xt(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector($i(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(e,s),f||hv(h,e,s,y.state))),t&&o===null)throw Error(i(528,""));return y}if(t&&o!==null)throw Error(i(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ds(s),s=Xt(h).hoistableScripts,o=s.get(t),o||(o={type:"script",instance:null,count:0,state:null},s.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rs(e){return'href="'+ue(e)+'"'}function $i(e){return'link[rel="stylesheet"]['+e+"]"}function Qm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function hv(e,t,s,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Pt(t,"link",s),ot(t),e.head.appendChild(t))}function Ds(e){return'[src="'+ue(e)+'"]'}function Gi(e){return"script[async]"+e}function Wm(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+ue(s.href)+'"]');if(o)return t.instance=o,ot(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ot(o),Pt(o,"style",h),vo(o,s.precedence,e),t.instance=o;case"stylesheet":h=Rs(s.href);var f=e.querySelector($i(h));if(f)return t.state.loading|=4,t.instance=f,ot(f),f;o=Qm(s),(h=Ln.get(h))&&nd(o,h),f=(e.ownerDocument||e).createElement("link"),ot(f);var y=f;return y._p=new Promise(function(k,C){y.onload=k,y.onerror=C}),Pt(f,"link",o),t.state.loading|=4,vo(f,s.precedence,e),t.instance=f;case"script":return f=Ds(s.src),(h=e.querySelector(Gi(f)))?(t.instance=h,ot(h),h):(o=s,(h=Ln.get(f))&&(o=b({},s),ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ot(h),Pt(h,"link",o),e.head.appendChild(h),t.instance=h);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,vo(o,s.precedence,e));return t.instance}function vo(e,t,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var k=o[y];if(k.dataset.precedence===t)f=k;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function nd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ad(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wo=null;function Jm(e,t,s){if(wo===null){var o=new Map,h=wo=new Map;h.set(s,o)}else h=wo,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ha]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var k=o.get(y);k?k.push(f):o.set(y,[f])}}return o}function Xm(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function fv(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,t,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Rs(o.href),f=t.querySelector($i(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ko.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=f,ot(f);return}f=t.ownerDocument||t,o=Qm(o),(h=Ln.get(h))&&nd(o,h),f=f.createElement("link"),ot(f);var y=f;y._p=new Promise(function(k,C){y.onload=k,y.onerror=C}),Pt(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ko.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var rd=0;function gv(e,t){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&rd===0&&(rd=62500*Qy());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>rd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jo=null;function So(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jo=new Map,t.forEach(pv,e),jo=null,ko.call(e))}function pv(e,t){if(!(t.state.loading&4)){var s=jo.get(e);if(s)var o=s.get(null);else{s=new Map,jo.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=t.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=ko.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:O,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function xv(e,t,s,o,h,f,y,k,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function eg(e,t,s,o,h,f,y,k,C,H,J,ae){return e=new xv(e,t,s,y,C,H,J,ae,k),t=1,f===!0&&(t|=24),f=fn(3,null,null,t),e.current=f,f.stateNode=e,t=Bc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:t},Hc(f),e}function tg(e){return e?(e=us,e):us}function ng(e,t,s,o,h,f){h=tg(h),o.context===null?o.context=h:o.pendingContext=h,o=Wa(t),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ja(e,o,t),s!==null&&(rn(s,e,t),ji(s,e,t))}function ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function sd(e,t){ag(e,t),(e=e.alternate)&&ag(e,t)}function rg(e){if(e.tag===13||e.tag===31){var t=Tr(e,67108864);t!==null&&rn(t,e,67108864),sd(e,67108864)}}function sg(e){if(e.tag===13||e.tag===31){var t=bn();t=jr(t);var s=Tr(e,t);s!==null&&rn(s,e,t),sd(e,t)}}var _o=!0;function bv(e,t,s,o){var h=L.T;L.T=null;var f=V.p;try{V.p=2,id(e,t,s,o)}finally{V.p=f,L.T=h}}function yv(e,t,s,o){var h=L.T;L.T=null;var f=V.p;try{V.p=8,id(e,t,s,o)}finally{V.p=f,L.T=h}}function id(e,t,s,o){if(_o){var h=ld(o);if(h===null)Fu(e,t,o,No,s),lg(e,o);else if(wv(h,e,t,s,o))o.stopPropagation();else if(lg(e,o),t&4&&-1<vv.indexOf(e)){for(;h!==null;){var f=Jt(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=oa(f.pendingLanes);if(y!==0){var k=f;for(k.pendingLanes|=2,k.entangledLanes|=2;y;){var C=1<<31-Fe(y);k.entanglements[1]|=C,y&=~C}na(f),(Ge&6)===0&&(lo=tt()+500,Ii(0))}}break;case 31:case 13:k=Tr(f,2),k!==null&&rn(k,f,2),co(),sd(f,2)}if(f=ld(o),f===null&&Fu(e,t,o,No,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Fu(e,t,o,null,s)}}function ld(e){return e=cc(e),od(e)}var No=null;function od(e){if(No=null,e=ha(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=d(t),e!==null)return e;e=null}else if(s===31){if(e=m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return No=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case K:return 2;case ce:return 8;case ve:case Ne:return 32;case He:return 268435456;default:return 32}default:return 32}}var cd=!1,or=null,cr=null,ur=null,Fi=new Map,Yi=new Map,dr=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(e,t){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function Ki(e,t,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},t!==null&&(t=Jt(t),t!==null&&rg(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function wv(e,t,s,o,h){switch(t){case"focusin":return or=Ki(or,e,t,s,o,h),!0;case"dragenter":return cr=Ki(cr,e,t,s,o,h),!0;case"mouseover":return ur=Ki(ur,e,t,s,o,h),!0;case"pointerover":var f=h.pointerId;return Fi.set(f,Ki(Fi.get(f)||null,e,t,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Yi.set(f,Ki(Yi.get(f)||null,e,t,s,o,h)),!0}return!1}function og(e){var t=ha(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=d(s),t!==null){e.blockedOn=t,ic(e.priority,function(){sg(s)});return}}else if(t===31){if(t=m(s),t!==null){e.blockedOn=t,ic(e.priority,function(){sg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ld(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);oc=o,s.target.dispatchEvent(o),oc=null}else return t=Jt(s),t!==null&&rg(t),e.blockedOn=s,!1;t.shift()}return!0}function cg(e,t,s){Eo(e)&&s.delete(t)}function kv(){cd=!1,or!==null&&Eo(or)&&(or=null),cr!==null&&Eo(cr)&&(cr=null),ur!==null&&Eo(ur)&&(ur=null),Fi.forEach(cg),Yi.forEach(cg)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kv)))}var To=null;function ug(e){To!==e&&(To=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){To===e&&(To=null);for(var t=0;t<e.length;t+=3){var s=e[t],o=e[t+1],h=e[t+2];if(typeof o!="function"){if(od(o||s)===null)continue;break}var f=Jt(s);f!==null&&(e.splice(t,3),t-=3,lu(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ms(e){function t(C){return Co(C,e)}or!==null&&Co(or,e),cr!==null&&Co(cr,e),ur!==null&&Co(ur,e),Fi.forEach(t),Yi.forEach(t);for(var s=0;s<dr.length;s++){var o=dr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<dr.length&&(s=dr[0],s.blockedOn===null);)og(s),s.blockedOn===null&&dr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[zt]||null;if(typeof f=="function")y||ug(s);else if(y){var k=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[zt]||null)k=y.formAction;else if(od(h)!==null)continue}else k=y.action;typeof k=="function"?s[o+1]=k:(s.splice(o,3),o-=3),ug(s)}}}function dg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function t(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),h!==null&&(h(),h=null)}}}function ud(e){this._internalRoot=e}Ao.prototype.render=ud.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var s=t.current,o=bn();ng(s,o,e,t,null,null)},Ao.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),co(),t[ua]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=xl();e={blockedOn:null,target:e,priority:t};for(var s=0;s<dr.length&&t!==0&&t<dr[s].priority;s++);dr.splice(s,0,e),s===0&&og(e)}};var hg=n.version;if(hg!=="19.2.0")throw Error(i(527,hg,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var jv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Rt=Oo.inject(jv),pt=Oo}catch{}}return Wi.createRoot=function(e,t){if(!c(e))throw Error(i(299));var s=!1,o="",h=y0,f=v0,y=w0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(h=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=eg(e,1,!1,null,null,s,o,null,h,f,y,dg),e[ua]=t.current,Vu(e),new ud(t)},Wi.hydrateRoot=function(e,t,s){if(!c(e))throw Error(i(299));var o=!1,h="",f=y0,y=v0,k=w0,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),t=eg(e,1,!0,t,s??null,o,h,C,f,y,k,dg),t.context=tg(null),s=t.current,o=bn(),o=jr(o),h=Wa(o),h.callback=null,Ja(s,h,o),s=o,t.current.lanes=s,ca(t,s),na(t),e[ua]=t.current,Vu(e),new Ao(t)},Wi.version="19.2.0",Wi}var kg;function Lv(){if(kg)return fd.exports;kg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),fd.exports=Mv(),fd.exports}var zv=Lv();const Bv=fl(zv),Wr=(a,n=50,r=30,i=2e3)=>{const[c,u]=z.useState("");return z.useEffect(()=>{let d=0,m=0,p=!1,g=!1,x;const b=()=>{const w=a[d];if(g){x=setTimeout(()=>{g=!1,p=!0,b()},i);return}p?(u(w.substring(0,m-1)),m--,m===0&&(p=!1,d=(d+1)%a.length),x=setTimeout(b,r)):(u(w.substring(0,m+1)),m++,m===w.length&&(g=!0),x=setTimeout(b,n))};return x=setTimeout(b,100),()=>clearTimeout(x)},[a,n,r,i]),c},nl=["Physician / Doctor","Resident / Intern","Medical Student","Nurse","Nursing Student","Paramedic / EMT","Allied Health Professional","Pharmacist","Healthcare Assistant / Caregiver","Other"],Wt={"North America":["United States","Canada","Mexico"],Europe:["United Kingdom","Germany","France","Spain","Italy","Netherlands","Switzerland","Belgium","Portugal","Sweden","Norway","Denmark","Finland","Poland","Austria","Ireland","Greece","Russia","Ukraine","Belarus","Czech Republic","Hungary","Romania","Bulgaria","Serbia","Croatia","Slovakia","Slovenia","Estonia","Latvia","Lithuania","Moldova","Bosnia and Herzegovina","Albania","North Macedonia","Montenegro","Iceland","Luxembourg","Malta","Cyprus","Kosovo"],"Central Asia & Caucasus":["Kazakhstan","Uzbekistan","Azerbaijan","Georgia","Armenia","Kyrgyzstan","Tajikistan","Turkmenistan"],"Asia-Pacific":["Australia","New Zealand","Japan","South Korea","Singapore","India","China","Taiwan","Hong Kong","Thailand","Vietnam","Indonesia","Malaysia","Philippines","Pakistan","Bangladesh","Sri Lanka","Nepal","Mongolia"],"Middle East & Africa":["UAE","Saudi Arabia","Qatar","Turkey","Egypt","South Africa","Nigeria","Kenya","Morocco","Algeria","Ethiopia","Ghana","Tanzania","Uganda","Palestine"],"South America":["Brazil","Argentina","Chile","Colombia","Peru","Venezuela","Ecuador","Bolivia","Uruguay","Paraguay","Guyana","Suriname"],"Central America & Caribbean":["Costa Rica","Panama","Dominican Republic","Puerto Rico","Guatemala","Honduras","El Salvador","Nicaragua","Cuba","Jamaica","Haiti","Bahamas","Belize","Trinidad and Tobago"]},Qs={"English (US)":"en-US","English (UK)":"en-GB","Spanish (Spain)":"es-ES","Spanish (Latin America)":"es-MX",Russian:"ru-RU",German:"de-DE",French:"fr-FR",Italian:"it-IT","Portuguese (Brazil)":"pt-BR","Portuguese (Portugal)":"pt-PT","Chinese (Mandarin)":"zh-CN",Japanese:"ja-JP",Arabic:"ar-SA",Hindi:"hi-IN"},Gp=`Hello, I am MDnexa - your guideline-aware medical AI assistant.
Before we begin, please ensure your language, country, and region are set correctly in settings to help me follow local medical standards.
I can help you understand conditions, pathophysiology, differentials and drug suitability for educational purposes.`,Id={Spanish:`Hola, soy MDnexa, tu asistente mdico de IA consciente de las pautas.
Antes de comenzar, asegrese de que su idioma, pas y regin estn configurados correctamente en la configuracin para ayudarme a seguir los estndares mdicos locales.
Puedo ayudarte a comprender condiciones, fisiopatologa, diferenciales e idoneidad de medicamentos con fines educativos.`,French:`Bonjour, je suis MDnexa - votre assistant mdical IA respectueux des directives.
Avant de commencer, veuillez vous assurer que votre langue, votre pays et votre rgion sont correctement dfinis dans les paramtres pour m'aider  suivre les normes mdicales locales.
Je peux vous aider  comprendre les pathologies, la physiopathologie, les diagnostics diffrentiels et l'adquation des mdicaments  des fins ducatives.`,German:`Hallo, ich bin MDnexa - Ihr leitlinienbewusster medizinischer KI-Assistent.
Bevor wir beginnen, stellen Sie bitte sicher, dass Ihre Sprache, Ihr Land und Ihre Region in den Einstellungen korrekt festgelegt sind, damit ich die lokalen medizinischen Standards befolgen kann.
Ich kann Ihnen helfen, Bedingungen, Pathophysiologie, Differentialdiagnosen und Arzneimitteleignung zu Bildungszwecken zu verstehen.`,Portuguese:`Ol, sou o MDnexa - seu assistente mdico de IA orientado por diretrizes.
Antes de comearmos, certifique-se de que seu idioma, pas e regio estejam definidos corretamente nas configuraes para me ajudar a seguir os padres mdicos locais.
Posso ajud-lo a entender condies, fisiopatologia, diferenciais e adequao de medicamentos para fins educacionais.`,Italian:`Ciao, sono MDnexa - il tuo assistente medico IA consapevole delle linee guida.
Prima di iniziare, assicurati che la lingua, il paese e la regione siano impostati correttamente nelle impostazioni per aiutarmi a seguire gli standard medici locali.
Posso aiutarti a comprendere condizioni, fisiopatologia, differenziali e idoneit dei farmaci a scopo educativo.`,Russian:`,  MDnexa    -,   .
  , , ,   ,       ,       .
     , ,        .`,Chinese:` MDnexa -  AI 

`,Japanese:`MDnexa  AI 

`,Arabic:`  MDnexa -     .
                   .
            .`,Hindi:`,  MDnexa  -  -  AI 
   ,            ,      ,        
      , ,            `},jg=(a="English")=>{let n=Gp;const r=Object.keys(Id).find(i=>a.includes(i));return r&&(n=Id[r]),n},Sg=a=>a===Gp?!0:Object.values(Id).includes(a),pr=a=>a.includes("Arabic")||a.includes("ar"),Vp=["What are the first-line treatments for hypertension in elderly patients according to ESC 2023?","Differential diagnosis for acute chest pain in a 45-year-old male smoker.","Contraindications for prescribing beta-blockers in patients with asthma.","Management of atrial fibrillation: Rate vs Rhythm control strategies.","Interpret the significance of elevated Troponin I levels in non-ACS settings.","Comparing effectiveness of ACE inhibitors vs. ARBs in heart failure with reduced ejection fraction.","Guideline-directed medical therapy for HFrEF: The four pillars.","Management of acute pericarditis: NSAIDs and Colchicine protocols.","Indications for statin therapy in primary prevention of CVD.","Management of stable angina pectoris: Medical therapy vs revascularization.","ECG criteria for diagnosing Left Bundle Branch Block.","Treatment of infective endocarditis: Empiric antibiotic regimens.","Management of hypertensive emergency vs urgency.","Workup for secondary causes of hypertension in young adults.","Anticoagulation strategies for mechanical heart valves.","Diagnosis and management of hypertrophic cardiomyopathy.","Clinical features and management of aortic stenosis.","Risk stratification in ACS: TIMI vs GRACE scores.","Management of cardiogenic shock: Inotropes and mechanical support.","QT prolongation: Drug causes and management.","Management guidelines for community-acquired pneumonia in adults (ATS/IDSA).","Treatment of acute asthma exacerbation in emergency settings.","Management of COPD exacerbations according to GOLD guidelines.","Risk stratification for pulmonary embolism (Wells Score).","Diagnosis and treatment of Idiopathic Pulmonary Fibrosis.","Management of spontaneous pneumothorax: Observation vs chest tube.","Interpret pulmonary function tests (PFTs) in restrictive vs obstructive lung disease.","Treatment of hospital-acquired pneumonia (HAP) and VAP.","Management of acute respiratory distress syndrome (ARDS).","Differential diagnosis of chronic cough in non-smokers.","Evaluation of a solitary pulmonary nodule.","Treatment of sarcoidosis: Indications for corticosteroids.","Management of pleural effusion: Transudative vs Exudative.","Cystic Fibrosis: Current modulator therapies.","Diagnosis and management of Obstructive Sleep Apnea.","Treatment of pulmonary hypertension: WHO groups.","Management of hemoptysis: Initial stabilization and workup.","Lung cancer screening guidelines (USPSTF).","Aspirated foreign body in adults: Recognition and removal.","Bronchiectasis: Etiology and long-term management.","First-line regimens for H. pylori eradication.","Diagnosis of Celiac Disease: Serology vs Biopsy.","Management of acute diverticulitis: Antibiotics vs observation.","Treatment of Clostridioides difficile infection: FDX vs Vanco.","Management of acute gastrointestinal bleeding (Upper vs Lower).","Differential diagnosis of acute abdominal pain in women of childbearing age.","Management of GERD refractory to PPI therapy.","Evaluation of elevated liver enzymes (AST/ALT).","Treatment of Inflammatory Bowel Disease (Crohn's vs UC flare).","Management of acute pancreatitis: Fluids and feeding.","Diagnosis and treatment of SIBO (Small Intestinal Bacterial Overgrowth).","Management of chronic Hepatitis B infection.","Hepatitis C treatment: Direct-acting antivirals.","Cirrhosis: Management of ascites and spontaneous bacterial peritonitis.","Evaluation of dysphagia: Oropharyngeal vs Esophageal.","Management of Irritable Bowel Syndrome (IBS-C vs IBS-D).","Colon cancer screening options and intervals.","Treatment of Wilson's Disease.","Management of hemochromatosis.","Diagnosis of Zollinger-Ellison Syndrome.","Treatment algorithms for acute migraine attacks.","Management of acute ischemic stroke: tPA and thrombectomy windows.","Differential diagnosis of sudden onset severe headache.","Treatment of status epilepticus: Stepwise approach.","Management of Multiple Sclerosis: Disease-modifying therapies.","Diagnosis and management of Myasthenia Gravis.","Parkinson's Disease: Levodopa vs Dopamine Agonists.","Dementia workup: Reversible causes.","Management of TIA (Transient Ischemic Attack) and secondary prevention.","Guillain-Barre Syndrome: Diagnosis and treatment.","Cluster headache: Acute treatment and prophylaxis.","Management of bacterial meningitis: Empiric antibiotics.","Normal Pressure Hydrocephalus: Triad and treatment.","Bell's Palsy: Corticosteroids and antivirals.","Trigeminal Neuralgia: Pharmacologic management.","Restless Legs Syndrome: Treatment options.","Essential Tremor vs Parkinsonian Tremor.","Management of intracranial hypertension.","Subarachnoid hemorrhage: Complications and management.","ALS (Amyotrophic Lateral Sclerosis): Supportive care.","Diagnostic criteria for Type 2 Diabetes Mellitus (ADA).","Protocols for managing Diabetic Ketoacidosis (DKA).","Evaluation of a thyroid nodule: Bethesda system.","Management of hypothyroidism in pregnancy.","Treatment of hyperthyroidism: Graves' vs Toxic Nodule.","Insulin initiation regimens in Type 2 Diabetes.","Workup for adrenal incidentaloma.","Diagnosis and management of Cushing's Syndrome.","Primary Hyperparathyroidism: Surgical indications.","Management of Addison's Disease (Adrenal Insufficiency).","Polycystic Ovary Syndrome (PCOS): Diagnostic criteria.","Management of gestational diabetes.","Hypoglycemia workup in non-diabetic adults.","Acromegaly: Diagnosis and treatment.","Pheochromocytoma: Pre-operative management.","Diabetes Insipidus: Central vs Nephrogenic.","Osteoporosis treatment: Bisphosphonates and holidays.","Management of Hyperprolactinemia.","SIADH: Diagnosis and fluid management.","Male hypogonadism: TRT indications and risks.","Signs and symptoms of identifying sepsis (qSOFA vs SIRS).","Antibiotic stewardship for uncomplicated UTIs.","Systemic Inflammatory Response Syndrome (SIRS) criteria.","Treatment of Lyme disease: Early localized vs Disseminated.","Management of febrile neutropenia.","HIV: Antiretroviral therapy initiation.","Oppurtunistic infections in HIV (PCP, Toxo).","Tuberculosis: Latent vs Active treatment regimens.","Malaria prophylaxis and treatment options.","Management of infective arthritis (Septic Joint).","Syphilis: Stages and treatment (Primary, Secondary, Neuro).","Treatment of Gonorrhea and Chlamydia co-infection.","Infectious Mononucleosis: Diagnosis and complications.","Zoonotic diseases: Rabies PEP protocols.","Dengue Fever: Warning signs and management.","Invasive Fungal Infections: Candida and Aspergillus.","Infection control for MDR organisms (MRSA, VRE, ESBL).","Adult immunization schedule (Pneumococcal, Zoster).","Travel medicine: Vaccines and precautions.","COVID-19: Current therapeutic guidelines.","Management of chronic kidney disease (CKD) stages 1-3.","Approach to the patient with hyponatremia.","Management of hyperkalemia in emergency department.","Acute Kidney Injury (AKI): Prerenal vs Intrinsic vs Postrenal.","Nephrotic vs Nephritic Syndrome differences.","Treatment of benign prostatic hyperplasia (BPH).","Management of kidney stones <5mm vs >10mm.","Workup for microscopic hematuria.","Polycystic Kidney Disease: Management and complications.","Glomerulonephritis: IgA Nephropathy diagnosis.","Renal Tubular Acidosis (Types 1, 2, 4).","Dialysis indications (AEIOU).","Management of prostatitis: Acute vs Chronic.","Erectile Dysfunction: Phosphodiesterase inhibitors.","Testicular torsion: Acute management.","Treatment of acute gout flares vs Urate lowering therapy.","Rheumatoid Arthritis: DMARDs initiation.","Systemic Lupus Erythematosus (SLE): Diagnostic criteria.","Management of Giant Cell Arteritis (Temporal Arteritis).","Fibromyalgia: Non-pharmacologic and pharmacologic management.","Sjogren's Syndrome: Diagnosis and symptom management.","Psoriatic Arthritis: Treatment options.","Ankylosing Spondylitis: TNF inhibitors.","Polymyalgia Rheumatica: Steroid tapering.","Vasculitis overview: ANCA-associated.","Systemic Sclerosis (Scleroderma): Management.","Evaluation of positive ANA.","Gout vs Pseudogout (CPPD).","Reactive Arthritis (Reiter's).","Behcet's Disease: Clinical features.","Differential diagnosis of microcytic anemia.","Workup for macrocytic anemia (B12 vs Folate).","Management of Deep Vein Thrombosis (DVT).","Anticoagulation reversal agents (Warfarin, DOACs).","Sickle Cell Disease: Management of vaso-occlusive crisis.","Thrombocytopenia workup (ITP vs TTP).","Multiple Myeloma: CRAB criteria.","Chronic Lymphocytic Leukemia (CLL): Watch and wait.","Tumor Lysis Syndrome: Prophylaxis and treatment.","Neutropenic fever in cancer patients.","Breast Cancer screening guidelines.","Prostate Cancer screening (PSA debate).","Iron deficiency anemia: Oral vs IV iron.","Hemophilia A vs B.","Polycythemia Vera: Diagnosis.","Drug interactions: CYP450 inhibitors and inducers.","Serotonin Syndrome: Symptoms and management.","Digoxin toxicity: ECG changes and reversal.","Acetaminophen overdose: Rumack-Matthew nomogram.","Warfarin interactions with antibiotics.","Statins: Mechanism and management of myalgia.","Beta-blocker overdose management.","Calcium channel blocker overdose.","Tricyclic Antidepressant (TCA) toxicity.","Lithium toxicity and monitoring.","Opioid conversion calculations (MME).","Antibiotic side effects: Fluoroquinolones and tendons.","Aminoglycoside nephrotoxicity and ototoxicity.","Corticosteroid tapering scheudles.","Anticholinergic burden in the elderly.","Metformin and lactic acidosis risk.","SGLT2 inhibitors: Benefits beyond diabetes.","GLP-1 agonists: Side effect profile.","Diuretic resistance mechanisms.","Antiplatelet therapy: DAPT duration.","DOACs dosing in renal failure.","Vancomycin dosing and trough monitoring.","Linezolid and serotonin syndrome risk.","MAO inhibitors and tyramine reaction.","Teratogenic drugs to avoid in pregnancy.","Drugs causing QT prolongation.","Checklist for prescribing in renal impairment.","Pharmacology of sedation (Propofol vs Midazolam).","Local anesthetic toxicity (LAST).","Managing polypharmacy in geriatrics.","ACLS guidelines for stable wide-complex tachycardia.","Management of anaphylaxis: Epinephrine dosing.","Sepsis bundles: 1-hour targets.","Trauma: ABCDE primary survey.","Glasgow Coma Scale (GCS) calculation.","Burns: Parkland formula for fluid resuscitation.","Management of acute poisoning (General approach).","Carbon monoxide poisoning.","Hypothermia management protocols.","Heat stroke vs Heat exhaustion.","Snake bite management.","Dog and cat bite antibiotics.","Head injury: Canadian CT Head Rule.","C-spine clearance criteria (NEXUS).","Tension pneumothorax decompression.","Pericardiocentesis technique.","Intraosseous access indications.","Rapid Sequence Intubation (RSI) medications.","Management of epistaxis.","Eye emergencies: Chemical burn irrigation.","First-line antibiotics for acute otitis media in children.","Pediatric immunization schedule.","Management of febrile seizures.","Croup: Dexamethasone and Epinephrine.","Bronchiolitis: Supportive care guidelines.","Kawasaki Disease: Diagnosis and treatment.","Neonatal jaundice: Phototherapy thresholds.","Pyloric stenosis: Electrolyte abnormalities.","Intussusception: Diagnosis and reduction.","Pediatric dehydration: Oral rehydration vs IV.","Failure to thrive workup.","Hand, Foot, and Mouth Disease.","Streptococcal pharyngitis (Strep throat) scoring.","Developmental milestones red flags.","SIDS prevention guidelines.","Clinical features and management of preeclampsia.","Ectopic pregnancy: Methotrexate vs Surgery.","Postpartum hemorrhage management.","Contraception options and contraindications (MEC).","Pelvic Inflammatory Disease (PID) treatment.","Abnormal Uterine Bleeding (PALM-COEIN).","Menopause management: HRT risks/benefits.","Endometriosis diagnosis and medical management.","Screening for cervical cancer (Pap smear).","Management of Group B Strep in pregnancy.","Treatment options for Generalized Anxiety Disorder (GAD).","Management of Major Depressive Disorder in adolescents.","Management of alcohol withdrawal syndrome (CIWA).","Bipolar Disorder: Lithium vs Valproate.","Schizophrenia: First vs Second generation antipsychotics.","Acute agitation management.","Suicide risk assessment.","Borderline Personality Disorder: DBT.","PTSD: Pharmacotherapy and Psychotherapy.","Eating disorders: Refeeding syndrome risk."],_g={Spanish:["Tratamiento de primera lnea para la hipertensin en adultos mayores.","Manejo de la cetoacidosis diabtica segn guas actuales.","Protocolo para el manejo de la sepsis y shock sptico (Surviving Sepsis).","Diagnstico diferencial del dolor torcico agudo en urgencias.","Tratamiento de la exacerbacin aguda de EPOC.","Manejo de la fibrilacin auricular: Control de ritmo vs frecuencia.","Guas para el tratamiento de la insuficiencia cardaca con fraccin de eyeccin reducida.","Abordaje de la lesin renal aguda (AKI) y sus causas.","Tratamiento emprico de la neumona adquirida en la comunidad.","Criterios de diagnstico para diabetes mellitus tipo 2.","Manejo de la hemorragia digestiva alta varicosa y no varicosa.","Protocolo de actuacin ante un ictus isqumico agudo (ventana teraputica).","Tratamiento de la infeccin del tracto urinario complicada.","Manejo de la preeclampsia y eclampsia.","Evaluacin y tratamiento de la cefalea tipo migraa.","Causas y tratamiento de la hiperpotasemia grave.","Diagnstico y manejo del tromboembolismo pulmonar.","Tratamiento de la pancreatitis aguda: Fluidoterapia y nutricin.","Abordaje de la anemia microctica.","Guas para el manejo del asma bronquial en adultos.","Tratamiento de la depresin mayor resistente.","Manejo inicial del paciente politraumatizado (ATLS).","Diagnstico diferencial de ictericia obstructiva.","Tratamiento de la artritis reumatoide: DMARDs biolgicos.","Manejo de la crisis tirotxica.","Indicaciones de dilisis en urgencias.","Profilaxis post-exposicin para VIH.","Manejo del sndrome coronario agudo sin elevacin del ST.","Tratamiento de la meningitis bacteriana aguda.","Evaluacin del ndulo tiroideo y criterios de PAAF."],French:["Prise en charge de l'hypertension artrielle selon les dernires recommandations.","Protocole de traitement de l'acidoctose diabtique.","Conduite  tenir devant une douleur thoracique aigu.","Traitement de premire ligne de l'insuffisance cardiaque  fraction d'jection rduite.","Prise en charge de la fibrillation atriale : Contrle du rythme vs frquence.","Traitement des exacerbations aigus de BPCO.","Recommandations pour l'antibiothrapie des pneumonies communautaires.","Diagnostic et traitement de l'embolie pulmonaire.","Prise en charge du sepsis et du choc septique (Guidelines).","Traitement de l'accident vasculaire crbral ischmique en phase aigu.","La prise en charge de l'hmorragie digestive haute.","Traitement des infections urinaires compliques.","Diagnostic diffrentiel des anmies microcytaires.","Protocole de prise en charge de l'infarctus du myocarde (STEMI).","Traitement de la pancratite aigu : Hydratation et nutrition.","Conduite  tenir devant une hyperkalimie svre.","Prise en charge de la pr-clampsie svre.","Traitement de la crise d'asthme aigu aux urgences.","Algorithme de traitement du diabte de type 2.","Prise en charge de l'insuffisance rnale aigu.","Traitement de fond de la migraine et gestion de la crise.","Diagnostic et traitement de l'hpatite virale chronique.","Prise en charge de la polyarthrite rhumatode.","Traitement des troubles dpressifs majeurs.","Conduite  tenir devant un nodule pulmonaire solitaire.","Traitement de la mningite bactrienne communautaire.","Prise en charge de l'tat de mal pileptique.","Traitement de l'hypothyrodie et ajustement de la lvothyroxine.","Recommandations pour le dpistage du cancer colorectal.","Traitement des infections sexuellement transmissibles (Gonorrhe/Chlamydia)."],German:["Leitlinien zur Behandlung der arteriellen Hypertonie.","Management der diabetischen Ketoazidose (DKA).","Therapie der akuten Herzinsuffizienz und HFrEF.","Diagnostik und Therapie der Lungenembolie.","Behandlung der ambulant erworbenen Pneumonie (CAP).","Management von Vorhofflimmern: Frequenz- vs. Rhythmuskontrolle.","Therapiealgorithmus beim akuten Koronarsyndrom (ACS).","Vorgehen bei akuter Niereninsuffizienz (AKI).","Sepsis-Leitlinien: Frherkennung und Initialtherapie.","Behandlung des akuten ischmischen Schlaganfalls (Lyse/Thrombektomie).","Management der akuten oberen gastrointestinalen Blutung.","Therapie der chronisch obstruktiven Lungenerkrankung (COPD) Exazerbation.","Diagnostik und Therapie der tiefen Beinvenenthrombose.","Behandlung der komplizierten Harnwegsinfektion.","Vorgehen bei Hyperkalimie Notfllen.","Diagnostik und Therapie der akuten Pankreatitis.","Leitlinien zur Behandlung von Asthma bronchiale.","Therapieoptionen bei Typ-2-Diabetes mellitus.","Management der Preklampsie und Eklampsie.","Abklrung und Therapie der Anmie.","Behandlung der bakteriellen Meningitis.","Therapie der rheumatoiden Arthritis: Basistherapeutika.","Vorgehen bei unklarem Abdomen.","Schilddrsenerkrankungen: Hypothyreose und Hyperthyreose Management.","Notfallbehandlung des Status epilepticus.","Diagnostik und Therapie von chronisch entzndlichen Darmerkrankungen.","Behandlung von Angststrungen und Depressionen.","Vorgehen bei Schdel-Hirn-Trauma.","Management von Elektrolytstrungen (Hyponatrimie).","Postexpositionsprophylaxe bei HIV."],Portuguese:["Diretrizes para o tratamento da hipertenso arterial sistmica.","Manejo da cetoacidose diabtica em emergncia.","Protocolo de tratamento da insuficincia cardaca (ICFER).","Abordagem da dor torcica aguda e sndrome coronariana.","Tratamento da exacerbao da DPOC (GOLD).","Manejo da fibrilao atrial: Controle de ritmo vs frequncia.","Recomendaes para pneumonia adquirida na comunidade.","Diagnstico e tratamento do tromboembolismo pulmonar.","Protocolo de sepse e choque sptico.","Tratamento do acidente vascular cerebral isqumico agudo.","Manejo da hemorragia digestiva alta.","Terapia para infeco do trato urinrio complicada.","Abordagem da leso renal aguda (LRA).","Tratamento da asma aguda na emergncia.","Manejo da pancreatite aguda leve e grave.","Tratamento da hipercalemia severa.","Diagnstico e manejo da pr-eclmpsia.","Diretrizes para o tratamento do diabetes tipo 2.","Abordagem das anemias (ferropriva, megaloblstica).","Tratamento da meningite bacteriana aguda.","Manejo da insuficincia heptica e cirrose descompensada.","Tratamento de manuteno da artrite reumatoide.","Abordagem da cefaleia e enxaqueca.","Manejo do hipotireoidismo e hipertireoidismo.","Tratamento da depresso e transtornos de ansiedade.","Protocolo de reanimao cardiopulmonar (ACLS).","Avaliao do ndulo pulmonar solitrio.","Tratamento da doena do refluxo gastroesofgico (DRGE).","Manejo de crises epilpticas e estado de mal.","Profilaxia de TVP em pacientes internados."],Italian:["Linee guida per il trattamento dell'ipertensione arteriosa.","Gestione della chetoacidosi diabetica in pronto soccorso.","Terapia dello scompenso cardiaco a frazione di eiezione ridotta.","Diagnosi differenziale del dolore toracico acuto.","Trattamento delle riacutizzazioni della BPCO.","Gestione della fibrillazione atriale: Controllo del ritmo vs frequenza.","Protocollo per la polmonite acquisita in comunit.","Diagnosi e terapia dell'embolia polmonare.","Linee guida Surviving Sepsis Campaign.","Trattamento dell'ictus ischemico acuto (trombolisi).","Gestione dell'emorragia digestiva superiore.","Terapia delle infezioni delle vie urinarie complicate.","Approccio all'insufficienza renale acuta.","Trattamento dell'asma bronchiale acuto.","Gestione della pancreatite acuta.","Trattamento dell'iperkaliemia grave.","Protocollo per pre-eclampsia ed eclampsia.","Terapia farmacologica del diabete mellito di tipo 2.","Diagnosi e cura delle anemie.","Trattamento della meningite batterica.","Gestione della cirrosi epatica e delle sue complicanze.","Terapia dell'artrite reumatoide e malattie autoimmuni.","Trattamento dell'emicrania e cefalea a grappolo.","Gestione delle disfunzioni tiroidee.","Terapia della depressione maggiore.","Algoritmo ACLS per l'arresto cardiaco.","Valutazione del nodulo tiroideo.","Trattamento della malattia da reflusso gastroesofageo.","Gestione dello stato di male epilettico.","Profilassi del tromboembolismo venoso."],Russian:["    .","   .","     (HFrEF).","     .","   (GOLD )."," :    .","  .","     .","    .","   .","  - .","    .","      ().","   .","  :  .","   .","   .","    2 .","  .","  .","    .","   .","     .","   .","   .","-  (ACLS).","   .","    ().","  .","   ."],Chinese:[""," (DKA) "," (HFrEF) ",""," (COPD) ",""," (CAP) ",""," (Surviving Sepsis).","","",""," (AKI) ","","","","","2"," vs ","","","","","",""," (ACLS).",""," (GERD) ",""," (DVT) "],Japanese:[""," (DKA) "," (HFrEF) ","","COPD"," vs ","","","","t-PA","",""," (AKI) ","","","","","2","","","","","","",""," (ACLS) ",""," (GERD) ",""," (DVT) "],Arabic:["       .","     (DKA).","        (HFrEF).","      .","      (COPD).","  :     .","       .","   .","     .","    .","    .","    .","     (AKI).","     .","   :  .","     .","   ( ).","      .","    ().","   .","   .","   .","    .","     .","   .","      (ACLS).","   .","     (GERD).","  .","      (DVT)."],Hindi:["       ","  (DKA)   ","  (HFrEF)    ","      ","COPD   exacerbation  "," :    ","-     ","     ","is    (Surviving Sepsis) ","     ","    ","     (UTI)  ","    (AKI)    ","     ","  (Acute Pancreatitis)  ","  (Hyperkalemia)   ","-    "," 2     ","     ","    ","      ","     ","    ","    ","  (Major Depression)   ","   ACLS ","   ","   (GERD)  ","  (Status Epilepticus)  ","   (DVT)    "]},Ng=(a=4,n="English")=>{let r=Vp;const i=Object.keys(_g).find(u=>n.includes(u));return i&&(r=_g[i]),[...r].sort(()=>.5-Math.random()).slice(0,a)},dh=[{id:"dictionary",name:"Medical Dictionary",description:"Instant definitions for thousands of medical terms, acronyms, and procedures.",iconPath:"/icons/tool-dictionary.png",status:"active",access:"free",baseColor:"#E8F5F2",accentColor:"#2FA4A9"},{id:"icd10",name:"ICD-10 Code Checker",description:"Find precise codes with rationale, refinements, and global standards (CM/GM/AM/etc).",iconPath:"/icons/tool-icd10.png",status:"active",access:"free",baseColor:"#FFF4E5",accentColor:"#F4A261"},{id:"drug_checker",name:"Quick Drug Checker",description:"Rapid clinical summaries: Dosing, Interactions, Renal adjustments & Contraindications.",iconPath:"/icons/tool-drug-checker.png",status:"active",access:"free",baseColor:"#FDECEC",accentColor:"#E76F51"},{id:"mdnexa-calc",name:"MDnexa Calc",description:"Reliable medical calculators for everyday clinical decision-making.",iconPath:"/icons/tool-calc.png",access:"waitlist",baseColor:"#EFF4FF",accentColor:"#0B5ED7"},{id:"mdnexa-labs",name:"MDnexa Labs",description:"Explain lab abnormalities and guide appropriate correction steps in clinical context.",iconPath:"/icons/tool-labs.png",access:"waitlist",baseColor:"#ECFDF5",accentColor:"#0F766E"},{id:"mdnexa-scores",name:"MDnexa Scores",description:"Evidence-based clinical scores, explained and applied correctly.",iconPath:"/icons/tool-scores.png",access:"waitlist",baseColor:"#EEF2FF",accentColor:"#4338CA"},{id:"mdnexa-drugs",name:"MDnexa Drugs",description:"Comprehensive drug insights including mechanisms, dosing, and interactions.",iconPath:"/icons/tool-drugs-waitlist.png",access:"waitlist",baseColor:"#FDF2F4",accentColor:"#7A1E2B"},{id:"mdnexa-ddx",name:"MDnexa DDx",description:"Structured differential diagnoses built from symptoms and clinical context.",iconPath:"/icons/tool-ddx.png",access:"waitlist",baseColor:"#F5F3FF",accentColor:"#5B21B6"},{id:"mdnexa-docu",name:"MDnexa Docu",description:"Turn key clinical details into clear, structured medical documentation.",iconPath:"/icons/tool-docu.png",access:"waitlist",baseColor:"#F8FAFC",accentColor:"#334155"},{id:"mdnexa-translate",name:"MDnexa Translate",description:"Accurate medical translation across languages, preserving clinical meaning.",iconPath:"/icons/tool-translate.png",access:"waitlist",baseColor:"#ECFEFF",accentColor:"#0F4C5C"}],Uv=({region:a,setRegion:n,country:r,setCountry:i,language:c,setLanguage:u,isShortAnswer:d,setIsShortAnswer:m,isOpen:p,toggleSidebar:g,resetChat:x,sessions:b,currentSessionId:w,onLoadSession:v,onDeleteSession:S,onToggleFavorite:_,onOpenSettings:A,onOpenDictionary:E,onBackToLanding:q,onOpenShare:O,saveSettings:Y,setSaveSettings:I,isAuthenticated:D,onOpenAuth:G,onLogout:Z,userName:le,userRole:re,onClearAll:oe,theme:W,onThemeChange:he})=>{var V;const de=ee=>{const fe=ee.target.value;n(fe),Wt[fe]&&Wt[fe].length>0&&i(Wt[fe][0])},te=b.filter(ee=>ee.isFavorite),L=b.filter(ee=>!ee.isFavorite);return l.jsxs(l.Fragment,{children:[p&&l.jsx("div",{className:"fixed inset-0 bg-black/10 z-20 lg:hidden",onClick:g}),l.jsx("aside",{className:`
          inset-y-0 left-0 z-30 bg-slate-900 border-r border-slate-800 text-slate-300 flex flex-col 
          transition-all duration-300 ease-in-out h-full
          
          /* Mobile Behavior: Fixed Overlay */
          fixed w-72 shadow-2xl
          ${p?"translate-x-0":"-translate-x-full"}

          /* Desktop Behavior (lg+): Static Push */
          lg:static lg:translate-x-0 lg:shadow-none
          ${p?"lg:w-72":"lg:w-0 lg:border-r-0 lg:overflow-hidden"}
        `,children:l.jsxs("div",{className:"w-72 h-full flex flex-col min-w-[18rem]",children:[l.jsxs("div",{className:"h-16 flex items-center justify-between px-5 border-b border-slate-800/60 bg-slate-900",children:[l.jsx("button",{onClick:q,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity focus:outline-none",children:l.jsx("img",{src:"/logo_full.png",alt:"MDnexa",className:"h-6 w-auto object-contain"})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("button",{onClick:g,className:"text-slate-400 hover:text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-4 py-6 space-y-8",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 bg-medical-600 hover:bg-medical-500 text-white py-2.5 rounded-lg transition-all text-sm font-semibold shadow-lg shadow-medical-900/20 border border-medical-500 hover:border-medical-400 group",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:scale-110 transition-transform",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Create New Session"]}),l.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-200 py-2 rounded-lg transition-all text-sm font-medium border border-slate-700 hover:border-slate-600 group",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-teal-500",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),"Medical Terms"]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"flex items-center gap-2 pb-2 border-b border-slate-800",children:l.jsx("h2",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-bold",children:"Protocol Config"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"text-[11px] text-slate-400 mb-1.5 block font-medium group-hover:text-medical-400 transition-colors",children:"Region"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:a,onChange:de,className:"w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded px-3 py-2 text-xs text-slate-200 focus:border-medical-500 focus:ring-1 focus:ring-medical-500 focus:outline-none appearance-none cursor-pointer transition-colors",children:Object.keys(Wt).map(ee=>l.jsx("option",{value:ee,children:ee},ee))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500",children:l.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"text-[11px] text-slate-400 mb-1.5 block font-medium group-hover:text-medical-400 transition-colors",children:"Country (Guidelines)"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:r,onChange:ee=>i(ee.target.value),className:"w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded px-3 py-2 text-xs text-slate-200 focus:border-medical-500 focus:ring-1 focus:ring-medical-500 focus:outline-none appearance-none cursor-pointer transition-colors",children:(V=Wt[a])==null?void 0:V.map(ee=>l.jsx("option",{value:ee,children:ee},ee))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500",children:l.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"text-[11px] text-slate-400 mb-1.5 block font-medium group-hover:text-medical-400 transition-colors",children:"Language"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:c,onChange:ee=>u(ee.target.value),className:"w-full bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded px-3 py-2 text-xs text-slate-200 focus:border-medical-500 focus:ring-1 focus:ring-medical-500 focus:outline-none appearance-none cursor-pointer transition-colors",children:Object.keys(Qs).map(ee=>l.jsx("option",{value:ee,children:ee},ee))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-500",children:l.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),l.jsxs("div",{className:"flex items-start gap-2 pt-1 border-t border-slate-800 mt-2",children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{id:"short-answer",type:"checkbox",checked:d,onChange:ee=>m(ee.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-medical-600 focus:ring-medical-600 focus:ring-offset-slate-900 cursor-pointer"})}),l.jsx("label",{htmlFor:"short-answer",className:"text-xs text-slate-400 cursor-pointer select-none leading-5 group-hover:text-medical-400 transition-colors",children:"Concise / Short Answers"})]}),l.jsxs("div",{className:"flex items-start gap-2 pt-1",children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{id:"save-settings",type:"checkbox",checked:Y,onChange:ee=>I(ee.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-medical-600 focus:ring-medical-600 focus:ring-offset-slate-900 cursor-pointer"})}),l.jsx("label",{htmlFor:"save-settings",className:"text-xs text-slate-400 cursor-pointer select-none leading-5",children:"Remember configuration"})]})]})]}),te.length>0&&l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsx("div",{className:"flex items-center justify-between gap-2 pb-2 border-b border-slate-800",children:l.jsxs("h2",{className:"text-[10px] uppercase tracking-widest text-yellow-500/80 font-bold flex items-center gap-1.5",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),"Favorites"]})}),l.jsx("ul",{className:"space-y-1",children:te.map(ee=>l.jsxs("li",{className:"group relative",children:[l.jsxs("button",{onClick:()=>v(ee),className:`w-full text-left px-3 py-2 rounded border transition-all pr-8 ${ee.id===w?"bg-slate-800 border-slate-700 text-white shadow-sm":"border-transparent text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:[l.jsx("div",{className:"truncate text-xs font-medium",children:ee.title}),l.jsx("div",{className:"text-[10px] opacity-50 mt-0.5 font-mono",children:ee.country.substring(0,20)})]}),l.jsx("button",{onClick:fe=>{fe.stopPropagation(),_(ee.id)},className:"absolute right-7 top-1/2 -translate-y-1/2 p-1 text-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove Favorite",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})}),l.jsx("button",{onClick:fe=>{fe.stopPropagation(),window.confirm("Delete this favorite session?")&&S(ee.id,fe)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]},ee.id))})]}),L.length>0&&l.jsxs("div",{className:"space-y-3 pt-2",children:[l.jsx("div",{className:"flex items-center justify-between gap-2 pb-2 border-b border-slate-800",children:l.jsx("h2",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-bold",children:"History"})}),l.jsx("ul",{className:"space-y-1",children:L.map(ee=>l.jsxs("li",{className:"group relative",children:[l.jsxs("button",{onClick:()=>v(ee),className:`w-full text-left px-3 py-2 rounded border transition-all pr-8 ${ee.id===w?"bg-slate-800 border-slate-700 text-white shadow-sm":"border-transparent text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:[l.jsx("div",{className:"truncate text-xs font-medium",children:ee.title}),l.jsx("div",{className:"text-[10px] opacity-50 mt-0.5 font-mono",children:ee.country.substring(0,20)})]}),l.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:fe=>{fe.stopPropagation(),_(ee.id)},className:"p-1 text-slate-500 hover:text-yellow-400",title:"Favorite",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.563.045.796.77.398 1.107l-4.154 3.507a.562.562 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.154-3.507c-.398-.337-.165-1.062.398-1.107l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})}),l.jsx("button",{onClick:fe=>{window.confirm("Are you sure you want to delete this session?")&&S(ee.id,fe)},className:"p-1 text-slate-600 hover:text-red-400",title:"Delete",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]},ee.id))})]})]}),l.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 space-y-1",children:[D?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("button",{onClick:A,className:"w-full px-3 py-2 bg-slate-800/50 hover:bg-slate-800 rounded-lg flex items-center gap-3 transition-colors border border-transparent hover:border-slate-700 group text-left",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-medical-600 flex items-center justify-center text-white text-xs font-bold group-hover:bg-medical-500 transition-colors",children:le?le.charAt(0).toUpperCase():"?"}),l.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l.jsx("span",{className:"text-xs font-bold text-white truncate group-hover:text-medical-400 transition-colors",children:le||"User"}),re&&re!=="user_verified_unpaid"&&l.jsx("span",{className:"text-[10px] text-medical-400 font-medium truncate",children:re})]})]}),l.jsxs("button",{onClick:Z,className:"w-full flex items-center gap-3 px-3 py-2 text-xs font-medium text-slate-400 hover:text-white transition-colors rounded-lg hover:bg-slate-800 group border border-transparent hover:border-slate-700",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 group-hover:text-red-400 transition-colors",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),"Log Out"]})]}):l.jsxs("button",{onClick:()=>G("login"),className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-medical-600 to-medical-500 hover:from-medical-500 hover:to-medical-400 text-white py-2.5 rounded-lg transition-all text-sm font-bold shadow-lg shadow-medical-900/40 border border-medical-500/50 hover:shadow-medical-500/20 mb-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),"Login / Sign Up"]}),l.jsxs("button",{onClick:()=>O("MDnexa - Medical AI Assistant","Check out MDnexa, the guideline-aware clinical companion.","https://www.mdnexa.com"),className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-400 hover:text-white transition-colors rounded-lg hover:bg-slate-800 group border border-transparent hover:border-slate-700",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 group-hover:text-medical-400 transition-colors",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),"Share MDnexa"]}),l.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-400 hover:text-white transition-colors rounded-lg hover:bg-slate-800 group border border-transparent hover:border-slate-700",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 group-hover:text-medical-400 transition-colors",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"System Settings"]}),l.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to delete ALL chat history? This cannot be undone.")&&oe()},className:"w-full flex items-center gap-3 px-3 py-2.5 text-xs font-medium text-slate-400 hover:text-red-400 transition-colors rounded-lg hover:bg-slate-800 group border border-transparent hover:border-slate-700 mt-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 group-hover:text-red-500 transition-colors",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Clear All History"]})]})]})})]})};var Da=(a=>(a.USER="user",a.MODEL="model",a))(Da||{});const Fo=({content:a,className:n="",isRTL:r=!1,onLinkClick:i})=>{const c=d=>d.split(`
`).map((p,g)=>{const x=p.trim();if(p.startsWith("### "))return l.jsx("h3",{className:"text-lg font-bold mt-4 mb-2 text-slate-800 dark:text-slate-100",children:p.replace("### ","")},g);if(p.startsWith("## "))return l.jsx("h2",{className:"text-xl font-bold mt-5 mb-3 text-slate-900 dark:text-white border-b border-slate-200 dark:border-slate-700 pb-1",children:p.replace("## ","")},g);if(p.startsWith("# "))return l.jsx("h1",{className:"text-2xl font-bold mt-6 mb-4 text-slate-900 dark:text-white",children:p.replace("# ","")},g);const b=x.match(/^\*\*(.+?)\*\*[:\s-]*$/);if(b){const v=b[1];return l.jsx("h3",{className:"text-lg font-bold mt-4 mb-2 text-slate-800 dark:text-slate-100",children:v},g)}if(x.startsWith("- ")||x.startsWith("* "))return l.jsxs("div",{className:`flex mb-1 gap-2 ${r?"mr-4":"ml-4"}`,children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:""}),l.jsx("span",{className:r?"text-right":"",children:u(x.replace(/^[-*]\s/,""))})]},g);const w=p.match(/^(\d+)\.\s(.+)/);return w?l.jsxs("div",{className:`flex mb-1 gap-2 ${r?"mr-4":"ml-4"}`,children:[l.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[w[1],"."]}),l.jsx("span",{className:r?"text-right":"",children:u(w[2])})]},g):x===""?l.jsx("div",{className:"h-2"},g):l.jsx("p",{className:"mb-1 leading-relaxed",children:u(p)},g)}),u=d=>{const m=/(\*\*.*?\*\*|\[.*?\]\(.*?\))/g;return d.split(m).map((g,x)=>{if(g.startsWith("**")&&g.endsWith("**"))return l.jsx("strong",{className:"font-bold text-slate-900 dark:text-white",children:g.slice(2,-2)},x);if(g.startsWith("[")&&g.includes("](")&&g.endsWith(")")){const b=g.match(/\[(.*?)\]\((.*?)\)/);if(b){const w=b[1],v=b[2];if(v.startsWith("term:")){const S=v.replace("term:","");return l.jsx("button",{onClick:()=>i&&i(S),className:"text-teal-600 dark:text-teal-400 hover:underline font-medium inline-block",title:`View definition for ${w}`,children:w},x)}return l.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:w},x)}}return g})};return l.jsx("div",{className:`text-slate-700 dark:text-slate-300 text-sm md:text-base ${n}`,children:c(a)})},Iv=({content:a,shouldAnimate:n,isRTL:r})=>{if(!n)return l.jsx(Fo,{content:a,className:`prose-sm md:prose-base ${r?"text-right":""}`,isRTL:r});const[i,c]=z.useState(""),[u,d]=z.useState(!0),m=z.useRef(0);z.useEffect(()=>{if(!a){c(""),m.current=0;return}const g=setInterval(()=>{m.current<a.length?(c(b=>a.slice(0,m.current+2)),m.current+=2):d(m.current<a.length)},10);return()=>clearInterval(g)},[a]);const p=i.length>=a.length;return l.jsxs("div",{className:"relative",children:[l.jsx(Fo,{content:i,className:`prose-sm md:prose-base ${r?"text-right":""}`,isRTL:r}),!p&&l.jsx("span",{className:"inline-block w-2 h-4 ml-1 align-middle bg-slate-400 rounded-sm animate-pulse"})]})},Sn=({className:a="w-6 h-6"})=>l.jsx("img",{src:"/logo.png",alt:"MDnexa Logo",className:a});var Pd=function(a,n){return Pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(r[c]=i[c])},Pd(a,n)};function Fp(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Pd(a,n);function r(){this.constructor=a}a.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Yo=function(){return Yo=Object.assign||function(n){for(var r,i=1,c=arguments.length;i<c;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},Yo.apply(this,arguments)};function Js(a,n){var r={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(a);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(a,i[c])&&(r[i[c]]=a[i[c]]);return r}function Yp(a,n,r,i){var c=arguments.length,u=c<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,r):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,r,i);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(u=(c<3?d(u):c>3?d(n,r,u):d(n,r))||u);return c>3&&u&&Object.defineProperty(n,r,u),u}function Kp(a,n){return function(r,i){n(r,i,a)}}function Qp(a,n,r,i,c,u){function d(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var m=i.kind,p=m==="getter"?"get":m==="setter"?"set":"value",g=!n&&a?i.static?a:a.prototype:null,x=n||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),b,w=!1,v=r.length-1;v>=0;v--){var S={};for(var _ in i)S[_]=_==="access"?{}:i[_];for(var _ in i.access)S.access[_]=i.access[_];S.addInitializer=function(E){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(E||null))};var A=(0,r[v])(m==="accessor"?{get:x.get,set:x.set}:x[p],S);if(m==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(b=d(A.get))&&(x.get=b),(b=d(A.set))&&(x.set=b),(b=d(A.init))&&c.unshift(b)}else(b=d(A))&&(m==="field"?c.unshift(b):x[p]=b)}g&&Object.defineProperty(g,i.name,x),w=!0}function Wp(a,n,r){for(var i=arguments.length>2,c=0;c<n.length;c++)r=i?n[c].call(a,r):n[c].call(a);return i?r:void 0}function Jp(a){return typeof a=="symbol"?a:"".concat(a)}function Xp(a,n,r){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:r?"".concat(r," ",n):n})}function Zp(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function ge(a,n,r,i){function c(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(x){try{g(i.next(x))}catch(b){d(b)}}function p(x){try{g(i.throw(x))}catch(b){d(b)}}function g(x){x.done?u(x.value):c(x.value).then(m,p)}g((i=i.apply(a,n||[])).next())})}function ex(a,n){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(x){return p([g,x])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=n.call(a,r)}catch(x){g=[6,x],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var ec=Object.create?(function(a,n,r,i){i===void 0&&(i=r);var c=Object.getOwnPropertyDescriptor(n,r);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(a,i,c)}):(function(a,n,r,i){i===void 0&&(i=r),a[i]=n[r]});function tx(a,n){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&ec(n,a,r)}function Ko(a){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&a[n],i=0;if(r)return r.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function hh(a,n){var r=typeof Symbol=="function"&&a[Symbol.iterator];if(!r)return a;var i=r.call(a),c,u=[],d;try{for(;(n===void 0||n-- >0)&&!(c=i.next()).done;)u.push(c.value)}catch(m){d={error:m}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(d)throw d.error}}return u}function nx(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(hh(arguments[n]));return a}function ax(){for(var a=0,n=0,r=arguments.length;n<r;n++)a+=arguments[n].length;for(var i=Array(a),c=0,n=0;n<r;n++)for(var u=arguments[n],d=0,m=u.length;d<m;d++,c++)i[c]=u[d];return i}function rx(a,n,r){if(r||arguments.length===2)for(var i=0,c=n.length,u;i<c;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return a.concat(u||Array.prototype.slice.call(n))}function Ws(a){return this instanceof Ws?(this.v=a,this):new Ws(a)}function sx(a,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(a,n||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),c[Symbol.asyncIterator]=function(){return this},c;function d(v){return function(S){return Promise.resolve(S).then(v,b)}}function m(v,S){i[v]&&(c[v]=function(_){return new Promise(function(A,E){u.push([v,_,A,E])>1||p(v,_)})},S&&(c[v]=S(c[v])))}function p(v,S){try{g(i[v](S))}catch(_){w(u[0][3],_)}}function g(v){v.value instanceof Ws?Promise.resolve(v.value.v).then(x,b):w(u[0][2],v)}function x(v){p("next",v)}function b(v){p("throw",v)}function w(v,S){v(S),u.shift(),u.length&&p(u[0][0],u[0][1])}}function ix(a){var n,r;return n={},i("next"),i("throw",function(c){throw c}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(c,u){n[c]=a[c]?function(d){return(r=!r)?{value:Ws(a[c](d)),done:!1}:u?u(d):d}:u}}function lx(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],r;return n?n.call(a):(a=typeof Ko=="function"?Ko(a):a[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(u){r[u]=a[u]&&function(d){return new Promise(function(m,p){d=a[u](d),c(m,p,d.done,d.value)})}}function c(u,d,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},d)}}function ox(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var Pv=Object.create?(function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}):function(a,n){a.default=n},Hd=function(a){return Hd=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},Hd(a)};function cx(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var r=Hd(a),i=0;i<r.length;i++)r[i]!=="default"&&ec(n,a,r[i]);return Pv(n,a),n}function ux(a){return a&&a.__esModule?a:{default:a}}function dx(a,n,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!i:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(a):i?i.value:n.get(a)}function hx(a,n,r,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!c:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(a,r):c?c.value=r:n.set(a,r),r}function fx(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function mx(a,n,r){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var i,c;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose],r&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:i,async:r})}else r&&a.stack.push({async:!0});return n}var Hv=typeof SuppressedError=="function"?SuppressedError:function(a,n,r){var i=new Error(r);return i.name="SuppressedError",i.error=a,i.suppressed=n,i};function gx(a){function n(u){a.error=a.hasError?new Hv(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var r,i=0;function c(){for(;r=a.stack.pop();)try{if(!r.async&&i===1)return i=0,a.stack.push(r),Promise.resolve().then(c);if(r.dispose){var u=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(u).then(c,function(d){return n(d),c()})}else i|=1}catch(d){n(d)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return c()}function px(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,c,u,d){return i?n?".jsx":".js":c&&(!u||!d)?r:c+u+"."+d.toLowerCase()+"js"}):a}const qv={__extends:Fp,__assign:Yo,__rest:Js,__decorate:Yp,__param:Kp,__esDecorate:Qp,__runInitializers:Wp,__propKey:Jp,__setFunctionName:Xp,__metadata:Zp,__awaiter:ge,__generator:ex,__createBinding:ec,__exportStar:tx,__values:Ko,__read:hh,__spread:nx,__spreadArrays:ax,__spreadArray:rx,__await:Ws,__asyncGenerator:sx,__asyncDelegator:ix,__asyncValues:lx,__makeTemplateObject:ox,__importStar:cx,__importDefault:ux,__classPrivateFieldGet:dx,__classPrivateFieldSet:hx,__classPrivateFieldIn:fx,__addDisposableResource:mx,__disposeResources:gx,__rewriteRelativeImportExtension:px},$v=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mx,get __assign(){return Yo},__asyncDelegator:ix,__asyncGenerator:sx,__asyncValues:lx,__await:Ws,__awaiter:ge,__classPrivateFieldGet:dx,__classPrivateFieldIn:fx,__classPrivateFieldSet:hx,__createBinding:ec,__decorate:Yp,__disposeResources:gx,__esDecorate:Qp,__exportStar:tx,__extends:Fp,__generator:ex,__importDefault:ux,__importStar:cx,__makeTemplateObject:ox,__metadata:Zp,__param:Kp,__propKey:Jp,__read:hh,__rest:Js,__rewriteRelativeImportExtension:px,__runInitializers:Wp,__setFunctionName:Xp,__spread:nx,__spreadArray:rx,__spreadArrays:ax,__values:Ko,default:qv},Symbol.toStringTag,{value:"Module"})),Gv=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class fh extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class Vv extends fh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Eg extends fh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Cg extends fh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var qd;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(qd||(qd={}));class Fv{constructor(n,{headers:r={},customFetch:i,region:c=qd.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=Gv(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ge(this,arguments,void 0,function*(r,i={}){var c;let u,d;try{const{headers:m,method:p,body:g,signal:x,timeout:b}=i;let w={},{region:v}=i;v||(v=this.region);const S=new URL(`${this.url}/${r}`);v&&v!=="any"&&(w["x-region"]=v,S.searchParams.set("forceFunctionRegion",v));let _;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=g):typeof g=="string"?(w["Content-Type"]="text/plain",_=g):typeof FormData<"u"&&g instanceof FormData?_=g:(w["Content-Type"]="application/json",_=JSON.stringify(g)):_=g;let A=x;b&&(d=new AbortController,u=setTimeout(()=>d.abort(),b),x?(A=d.signal,x.addEventListener("abort",()=>d.abort())):A=d.signal);const E=yield this.fetch(S.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:_,signal:A}).catch(I=>{throw new Vv(I)}),q=E.headers.get("x-relay-error");if(q&&q==="true")throw new Eg(E);if(!E.ok)throw new Cg(E);let O=((c=E.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Y;return O==="application/json"?Y=yield E.json():O==="application/octet-stream"||O==="application/pdf"?Y=yield E.blob():O==="text/event-stream"?Y=E:O==="multipart/form-data"?Y=yield E.formData():Y=yield E.text(),{data:Y,error:null,response:E}}catch(m){return{data:null,error:m,response:m instanceof Cg||m instanceof Eg?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var Vt={};const Xs=Nv($v);var Ro={},Do={},Mo={},Lo={},zo={},Bo={},Tg;function xx(){if(Tg)return Bo;Tg=1,Object.defineProperty(Bo,"__esModule",{value:!0});class a extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bo.default=a,Bo}var Ag;function bx(){if(Ag)return zo;Ag=1,Object.defineProperty(zo,"__esModule",{value:!0});const n=Xs.__importDefault(xx());class r{constructor(c){var u,d;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(d=c.isMaybeSingle)!==null&&d!==void 0?d:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,x,b,w;let v=null,S=null,_=null,A=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?S=I:S=JSON.parse(I))}const O=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),Y=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");O&&Y&&Y.length>1&&(_=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(v={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,A=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const O=await p.text();try{v=JSON.parse(O),Array.isArray(v)&&p.status===404&&(S=[],v=null,A=200,E="OK")}catch{p.status===404&&O===""?(A=204,E="No Content"):v={message:O}}if(v&&this.isMaybeSingle&&(!((w=v==null?void 0:v.details)===null||w===void 0)&&w.includes("0 rows"))&&(v=null,A=200,E="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:S,count:_,status:A,statusText:E}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,x,b,w,v,S;let _="";const A=p==null?void 0:p.cause;if(A){const E=(g=A==null?void 0:A.message)!==null&&g!==void 0?g:"",q=(x=A==null?void 0:A.code)!==null&&x!==void 0?x:"";_=`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,_+=`

Caused by: ${(w=A==null?void 0:A.name)!==null&&w!==void 0?w:"Error"}: ${E}`,q&&(_+=` (${q})`),A!=null&&A.stack&&(_+=`
${A.stack}`)}else _=(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(S=p==null?void 0:p.name)!==null&&S!==void 0?S:"FetchError"}: ${p==null?void 0:p.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return zo.default=r,zo}var Og;function yx(){if(Og)return Lo;Og=1,Object.defineProperty(Lo,"__esModule",{value:!0});const n=Xs.__importDefault(bx());class r extends n.default{select(c){let u=!1;const d=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${c}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:d,referencedTable:m=d}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var x;const b=[c?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return Lo.default=r,Lo}var Rg;function mh(){if(Rg)return Mo;Rg=1,Object.defineProperty(Mo,"__esModule",{value:!0});const n=Xs.__importDefault(yx()),r=new RegExp("[,()]");class i extends n.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const x=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${g}fts${x}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return Mo.default=i,Mo}var Dg;function vx(){if(Dg)return Do;Dg=1,Object.defineProperty(Do,"__esModule",{value:!0});const n=Xs.__importDefault(mh());class r{constructor(c,{headers:u={},schema:d,fetch:m}){this.url=c,this.headers=new Headers(u),this.schema=d,this.fetch=m}select(c,u){const{head:d=!1,count:m}=u??{},p=d?"HEAD":"GET";let g=!1;const x=(c??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",x),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:d=!0}={}){var m;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:p=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(b.length>0){const w=[...new Set(b)].map(v=>`"${v}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var d;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:c}={}){var u;const d="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Do.default=r,Do}var Mg;function Yv(){if(Mg)return Ro;Mg=1,Object.defineProperty(Ro,"__esModule",{value:!0});const a=Xs,n=a.__importDefault(vx()),r=a.__importDefault(mh());class i{constructor(u,{headers:d={},schema:m,fetch:p}={}){this.url=u,this.headers=new Headers(d),this.schemaName=m,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new n.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:m=!1,get:p=!1,count:g}={}){var x;let b;const w=new URL(`${this.url}/rpc/${u}`);let v;m||p?(b=m?"HEAD":"GET",Object.entries(d).filter(([_,A])=>A!==void 0).map(([_,A])=>[_,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([_,A])=>{w.searchParams.append(_,A)})):(b="POST",v=d);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new r.default({method:b,url:w,headers:S,schema:this.schemaName,body:v,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ro.default=i,Ro}var Lg;function Kv(){if(Lg)return Vt;Lg=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const a=Xs,n=a.__importDefault(Yv());Vt.PostgrestClient=n.default;const r=a.__importDefault(vx());Vt.PostgrestQueryBuilder=r.default;const i=a.__importDefault(mh());Vt.PostgrestFilterBuilder=i.default;const c=a.__importDefault(yx());Vt.PostgrestTransformBuilder=c.default;const u=a.__importDefault(bx());Vt.PostgrestBuilder=u.default;const d=a.__importDefault(xx());return Vt.PostgrestError=d.default,Vt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:d.default},Vt}var wx=Kv();const kx=fl(wx),Qv=_v({__proto__:null,default:kx},[wx]),{PostgrestClient:Wv,PostgrestQueryBuilder:gS,PostgrestFilterBuilder:pS,PostgrestTransformBuilder:xS,PostgrestBuilder:bS,PostgrestError:yS}=kx||Qv;class Jv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Xv="2.86.0",Zv=`realtime-js/${Xv}`,jx="1.0.0",e1="2.0.0",zg=jx,$d=1e4,t1=1e3,n1=100;var Fr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Fr||(Fr={}));var At;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(At||(At={}));var Kn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Kn||(Kn={}));var Gd;(function(a){a.websocket="websocket"})(Gd||(Gd={}));var Yr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Yr||(Yr={}));class a1{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,i;const c=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,i;const c=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,r,i){var c,u;const d=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+g.length+b.length,v=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(v),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,p.length),S.setUint8(_++,m.length),S.setUint8(_++,d.length),S.setUint8(_++,g.length),S.setUint8(_++,b.length),S.setUint8(_++,r),Array.from(p,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(m,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(d,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(g,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(b,E=>S.setUint8(_++,E.charCodeAt(0)));var A=new Uint8Array(v.byteLength+i.byteLength);return A.set(new Uint8Array(v),0),A.set(new Uint8Array(i),v.byteLength),A.buffer}decode(n,r){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return r(i)}if(typeof n=="string"){const i=JSON.parse(n),[c,u,d,m,p]=i;return r({join_ref:c,ref:u,topic:d,event:m,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),i=r.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,i){const c=r.getUint8(1),u=r.getUint8(2),d=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(n.slice(p,p+c));p=p+c;const x=i.decode(n.slice(p,p+u));p=p+u;const b=i.decode(n.slice(p,p+d));p=p+d;const w=n.slice(p,n.byteLength),v=m===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,S={type:this.BROADCAST_EVENT,event:x,payload:v};return d>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([i])=>r.includes(i)))}}class Sx{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(nt||(nt={}));const Bg=(a,n,r={})=>{var i;const c=(i=r.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((u,d)=>(u[d]=r1(d,a,n,c),u),{}):{}},r1=(a,n,r,i)=>{const c=n.find(m=>m.name===a),u=c==null?void 0:c.type,d=r[a];return u&&!i.includes(u)?_x(u,d):Vd(d)},_x=(a,n)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return o1(n,r)}switch(a){case nt.bool:return s1(n);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return i1(n);case nt.json:case nt.jsonb:return l1(n);case nt.timestamp:return c1(n);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Vd(n);default:return Vd(n)}},Vd=a=>a,s1=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},i1=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},l1=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},o1=(a,n)=>{if(typeof a!="string")return a;const r=a.length-1,i=a[r];if(a[0]==="{"&&i==="}"){let u;const d=a.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>_x(n,m))}return a},c1=a=>typeof a=="string"?a.replace(" ","T"):a,Nx=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class xd{constructor(n,r,i={},c=$d){this.channel=n,this.event=r,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ug;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Ug||(Ug={}));class al{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=al.syncState(this.state,c,u,d),this.pendingDiffs.forEach(p=>{this.state=al.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=al.syncDiff(this.state,c,u,d),m())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,c){const u=this.cloneDeep(n),d=this.transformState(r),m={},p={};return this.map(u,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const b=u[g];if(b){const w=x.map(A=>A.presence_ref),v=b.map(A=>A.presence_ref),S=x.filter(A=>v.indexOf(A.presence_ref)<0),_=b.filter(A=>w.indexOf(A.presence_ref)<0);S.length>0&&(m[g]=S),_.length>0&&(p[g]=_)}else m[g]=x}),this.syncDiff(u,{joins:m,leaves:p},i,c)}static syncDiff(n,r,i,c){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var g;const x=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),x.length>0){const b=n[m].map(v=>v.presence_ref),w=x.filter(v=>b.indexOf(v.presence_ref)<0);n[m].unshift(...w)}i(m,x,p)}),this.map(d,(m,p)=>{let g=n[m];if(!g)return;const x=p.map(b=>b.presence_ref);g=g.filter(b=>x.indexOf(b.presence_ref)<0),n[m]=g,c(m,g,p),g.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const c=n[i];return"metas"in c?r[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ig;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Ig||(Ig={}));var rl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(rl||(rl={}));var Ma;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class gh{constructor(n,r={config:{}},i){var c,u;if(this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,Kn.join,this.params,this.timeout),this.rejoinTimer=new Sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kn.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new al(this),this.broadcastEndpointURL=Nx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:d,presence:m,private:p}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[rl.PRESENCE]&&this.bindings[rl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(v=>n==null?void 0:n(Ma.CHANNEL_ERROR,v)),this._onClose(()=>n==null?void 0:n(Ma.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket.setAuth(),v===void 0){n==null||n(Ma.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,A=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,E=[];for(let q=0;q<A;q++){const O=_[q],{filter:{event:Y,schema:I,table:D,filter:G}}=O,Z=v&&v[q];if(Z&&Z.event===Y&&Z.schema===I&&Z.table===D&&Z.filter===G)E.push(Object.assign(Object.assign({},O),{id:Z.id}));else{this.unsubscribe(),this.state=At.errored,n==null||n(Ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(Ma.SUBSCRIBED);return}}).receive("error",v=>{this.state=At.errored,n==null||n(Ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===At.joined&&n===rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async httpSend(n,r,i={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,p;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new xd(this,Kn.leave,{},n),i.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(u),d}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new xd(this,n,r,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>n1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var c,u;const d=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:x}=Kn;if(i&&[m,p,g,x].indexOf(d)>=0&&i!==this._joinRef())return;let w=this._onMessage(d,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(v=>{var S,_,A;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(_=v.filter)===null||_===void 0?void 0:_.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(v=>v.callback(w,i)):(u=this.bindings[d])===null||u===void 0||u.filter(v=>{var S,_,A,E,q,O;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in v){const Y=v.id,I=(S=v.filter)===null||S===void 0?void 0:S.event;return Y&&((_=r.ids)===null||_===void 0?void 0:_.includes(Y))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const Y=(q=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return Y==="*"||Y===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===d}).map(v=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:_,table:A,commit_timestamp:E,type:q,errors:O}=S;w=Object.assign(Object.assign({},{schema:_,table:A,commit_timestamp:E,eventType:q,new:{},old:{},errors:O}),this._getPayloadRecords(S))}v.callback(w,i)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const c=n.toLocaleLowerCase(),u={type:c,filter:r,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&gh.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Kn.close,{},n)}_onError(n){this._on(Kn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Bg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Bg(n.columns,n.old_record)),r}}const bd=()=>{},Uo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u1=[1e3,2e3,5e3,1e4],d1=1e4,h1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f1{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$d,this.transport=null,this.heartbeatIntervalMs=Uo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.vsn=zg,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new a1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Gd.websocket}`,this.httpEndpoint=Nx(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return Yr.Connecting;case Fr.open:return Yr.Open;case Fr.closing:return Yr.Closing;default:return Yr.Closed}}isConnected(){return this.connectionState()===Yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new gh(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:i,payload:c,ref:u}=n,d=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${i} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(t1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Uo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:u,ref:d}=r,m=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${c} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Kn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${i}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([h1],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const c={access_token:r,version:Zv};r&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Kn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,c,u,d,m,p,g,x,b,w,v;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:$d,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Uo.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n==null?void 0:n.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:bd,this.vsn=(p=n==null?void 0:n.vsn)!==null&&p!==void 0?p:zg,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(S=>u1[S-1]||d1),this.vsn){case jx:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((S,_)=>_(JSON.stringify(S))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:((S,_)=>_(JSON.parse(S)));break;case e1:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(v=n==null?void 0:n.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class tc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function dt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class m1 extends tc{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fd extends tc{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}const ph=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),g1=()=>Response,Yd=a=>{if(Array.isArray(a))return a.map(r=>Yd(r));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([r,i])=>{const c=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[c]=Yd(i)}),n},p1=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},x1=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),yd=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},b1=(a,n,r)=>ge(void 0,void 0,void 0,function*(){const i=yield g1();a instanceof i&&!(r!=null&&r.noResolveJson)?a.json().then(c=>{const u=a.status||500,d=(c==null?void 0:c.statusCode)||u+"";n(new m1(yd(c),u,d))}).catch(c=>{n(new Fd(yd(c),c))}):n(new Fd(yd(a),a))}),y1=(a,n,r,i)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!i?c:(p1(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),r))};function ml(a,n,r,i,c,u){return ge(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(r,y1(n,i,c,u)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>b1(p,m,i))})})}function ol(a,n,r,i){return ge(this,void 0,void 0,function*(){return ml(a,"GET",n,r,i)})}function Yn(a,n,r,i,c){return ge(this,void 0,void 0,function*(){return ml(a,"POST",n,i,c,r)})}function Kd(a,n,r,i,c){return ge(this,void 0,void 0,function*(){return ml(a,"PUT",n,i,c,r)})}function v1(a,n,r,i){return ge(this,void 0,void 0,function*(){return ml(a,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function xh(a,n,r,i,c){return ge(this,void 0,void 0,function*(){return ml(a,"DELETE",n,i,c,r)})}class w1{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}var Ex;class k1{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[Ex]="BlobDownloadBuilder",this.promise=null}asStream(){return new w1(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}Ex=Symbol.toStringTag;const j1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S1{constructor(n,r={},i,c){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=i,this.fetch=ph(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,i,c){return ge(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Pg),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const g=this._removeEmptyFolders(r),x=this._getFinalPath(g),b=yield(n=="PUT"?Kd:Yn)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(dt(u))return{data:null,error:u};throw u}})}upload(n,r,i){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,c){return ge(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let p;const g=Object.assign({upsert:Pg.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const b=yield Kd(this.fetch,m.toString(),p,{headers:x});return{data:{path:u,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(dt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,r){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const c=Object.assign({},this.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const u=yield Yn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new tc("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}update(n,r,i){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return ge(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}copy(n,r,i){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUrl(n,r,i){return ge(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),u=yield Yn(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUrls(n,r,i){return ge(this,void 0,void 0,function*(){try{const c=yield Yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}download(n,r){const c=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=u?`?${u}`:"",m=this._getFinalPath(n),p=()=>ol(this.fetch,`${this.url}/${c}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new k1(p,this.shouldThrowOnError)}info(n){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield ol(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}exists(n){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield v1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i)&&i instanceof Fd){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),c=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&c.push(u);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});p!==""&&c.push(p);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${g}`)}}}remove(n){return ge(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(n,r,i){return ge(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},j1),r),{prefix:n||""});return{data:yield Yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}listV2(n,r){return ge(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield Yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const Cx="2.86.0",Tx={"X-Client-Info":`storage-js/${Cx}`};class _1{constructor(n,r={},i,c){this.shouldThrowOnError=!1;const u=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),r),this.fetch=ph(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(n);return{data:yield ol(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}getBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(n){return ge(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}updateBucket(n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var cl=class extends Error{constructor(a,n){var r;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function N1(a,n,r){const i=new URL(n,a);if(r)for(const[c,u]of Object.entries(r))u!==void 0&&i.searchParams.set(c,u);return i.toString()}async function E1(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function C1(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:c,body:u,headers:d}){const m=N1(a.baseUrl,i,c),p=await E1(a.auth),g=await n(m,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),w=b&&x?JSON.parse(x):x;if(!g.ok){const v=b?w:void 0,S=v==null?void 0:v.error;throw new cl((S==null?void 0:S.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:v})}return{status:g.status,headers:g.headers,data:w}}}}function Io(a){return a.join("")}var T1=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:Io(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(a,n){const r={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Io(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Io(a.namespace)}`}),!0}catch(n){if(n instanceof cl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(r){if(r instanceof cl&&r.status===409)return;throw r}}};function Ls(a){return a.join("")}var A1=class{constructor(a,n="",r){this.client=a,this.prefix=n,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(a,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(r){if(r instanceof cl&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(r){if(r instanceof cl&&r.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw r}}},O1=class{constructor(a){var i;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=C1({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(i=a.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new T1(this.client,n),this.tableOps=new A1(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class R1{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),r),this.fetch=ph(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(n){return ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&r.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&r.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&r.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&r.set("sortOrder",n.sortOrder),n!=null&&n.search&&r.set("search",n.search);const i=r.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,c,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}from(n){if(!x1(n))throw new tc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new O1({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const bh={"X-Client-Info":`storage-js/${Cx}`,"Content-Type":"application/json"};class Ax extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wn(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class vd extends Ax{constructor(n,r,i){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class D1 extends Ax{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}}var Hg;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hg||(Hg={}));const yh=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),M1=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},qg=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),L1=(a,n,r)=>ge(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(r!=null&&r.noResolveJson)){const c=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||c+"";n(new vd(qg(d),c,m))}).catch(()=>{const d=c+"",m=u.statusText||`HTTP ${c} error`;n(new vd(m,c,d))});else{const d=c+"",m=u.statusText||`HTTP ${c} error`;n(new vd(m,c,d))}}else n(new D1(qg(a),a))}),z1=(a,n,r,i)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return i?(M1(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),r)):c};function B1(a,n,r,i,c,u){return ge(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(r,z1(n,i,c,u)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>L1(p,m,i))})})}function kn(a,n,r,i,c){return ge(this,void 0,void 0,function*(){return B1(a,"POST",n,i,c,r)})}class U1{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bh),r),this.fetch=yh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ge(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getIndex(n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}listIndexes(n){return ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteIndex(n,r){return ge(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}}class I1{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bh),r),this.fetch=yh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ge(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getVectors(n){return ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listVectors(n){return ge(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield kn(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}queryVectors(n){return ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteVectors(n){return ge(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class P1{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bh),r),this.fetch=yh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listBuckets(){return ge(this,arguments,void 0,function*(n={}){try{return{data:yield kn(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ge(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class H1 extends P1{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new q1(this.url,this.headers,n,this.fetch)}createBucket(n){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ge(this,void 0,void 0,function*(){return r.createBucket.call(this,n)})}getBucket(n){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ge(this,void 0,void 0,function*(){return r.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ge(this,arguments,void 0,function*(r={}){return n.listBuckets.call(this,r)})}deleteBucket(n){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ge(this,void 0,void 0,function*(){return r.deleteBucket.call(this,n)})}}class q1 extends U1{constructor(n,r,i,c){super(n,r,c),this.vectorBucketName=i}createIndex(n){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ge(this,arguments,void 0,function*(r={}){return n.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new $1(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class $1 extends I1{constructor(n,r,i,c,u){super(n,r,u),this.vectorBucketName=i,this.indexName=c}putVectors(n){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ge(this,arguments,void 0,function*(r={}){return n.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G1 extends _1{constructor(n,r={},i,c){super(n,r,i,c)}from(n){return new S1(this.url,this.headers,n,this.fetch)}get vectors(){return new H1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R1(this.url+"/iceberg",this.headers,this.fetch)}}const V1="2.86.0";let tl="";typeof Deno<"u"?tl="deno":typeof document<"u"?tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tl="react-native":tl="node";const F1={"X-Client-Info":`supabase-js-${tl}/${V1}`},Y1={headers:F1},K1={schema:"public"},Q1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},W1={},J1=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),X1=()=>Headers,Z1=(a,n,r)=>{const i=J1(r),c=X1();return async(u,d)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:a;let g=new c(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},d),{headers:g}))}};function e2(a){return a.endsWith("/")?a:a+"/"}function t2(a,n){var r,i;const{db:c,auth:u,realtime:d,global:m}=a,{db:p,auth:g,realtime:x,global:b}=n,w={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function n2(a){const n=a==null?void 0:a.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ox="2.86.0",Gs=30*1e3,Qd=3,wd=Qd*Gs,a2="http://localhost:9999",r2="supabase.auth.token",s2={"X-Client-Info":`gotrue-js/${Ox}`},Wd="X-Supabase-Api-Version",Rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l2=600*1e3;class ul extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function xe(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class o2 extends ul{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function c2(a){return xe(a)&&a.name==="AuthApiError"}class Kr extends ul{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class xr extends ul{constructor(n,r,i,c){super(n,i,c),this.name=r,this.status=i}}class yn extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u2(a){return xe(a)&&a.name==="AuthSessionMissingError"}class zs extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Po extends xr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ho extends xr{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d2(a){return xe(a)&&a.name==="AuthImplicitGrantRedirectError"}class $g extends xr{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jd extends xr{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function kd(a){return xe(a)&&a.name==="AuthRetryableFetchError"}class Gg extends xr{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Xd extends xr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vg=` 	
\r=`.split(""),h2=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Vg.length;n+=1)a[Vg[n].charCodeAt(0)]=-2;for(let n=0;n<Qo.length;n+=1)a[Qo[n].charCodeAt(0)]=n;return a})();function Fg(a,n,r){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Qo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Qo[i]),n.queuedBits-=6}}function Dx(a,n,r){const i=h2[a];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Yg(a){const n=[],r=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{g2(d,i,r)};for(let d=0;d<a.length;d+=1)Dx(a.charCodeAt(d),c,u);return n.join("")}function f2(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function m2(a,n){for(let r=0;r<a.length;r+=1){let i=a.charCodeAt(r);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(a.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}f2(i,n)}}function g2(a,n,r){if(n.utf8seq===0){if(a<=127){r(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Fs(a){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<a.length;c+=1)Dx(a.charCodeAt(c),r,i);return new Uint8Array(n)}function p2(a){const n=[];return m2(a,r=>n.push(r)),new Uint8Array(n)}function Qr(a){const n=[],r={queue:0,queuedBits:0},i=c=>{n.push(c)};return a.forEach(c=>Fg(c,r,i)),Fg(null,r,i),n.join("")}function x2(a){return Math.round(Date.now()/1e3)+a}function b2(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",qr={tested:!1,writable:!1},Mx=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function y2(a){const n={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,u)=>{n[u]=c})}catch{}return r.searchParams.forEach((i,c)=>{n[c]=i}),n}const Lx=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),v2=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Vs=async(a,n,r)=>{await a.setItem(n,JSON.stringify(r))},$r=async(a,n)=>{const r=await a.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fr=async(a,n)=>{await a.removeItem(n)};class nc{constructor(){this.promise=new nc.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}nc.promiseConstructor=Promise;function jd(a){const n=a.split(".");if(n.length!==3)throw new Xd("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!i2.test(n[i]))throw new Xd("JWT not in base64url format");return{header:JSON.parse(Yg(n[0])),payload:JSON.parse(Yg(n[1])),signature:Fs(n[2]),raw:{header:n[0],payload:n[1]}}}async function w2(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function k2(a,n){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!n(u,null,d)){i(d);return}}catch(d){if(!n(u,d)){c(d);return}}})()})}function j2(a){return("0"+a.toString(16)).substr(-2)}function S2(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let c="";for(let u=0;u<56;u++)c+=r.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,j2).join("")}async function _2(a){const r=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function N2(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await _2(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(a,n,r=!1){const i=S2();let c=i;r&&(c+="/PASSWORD_RECOVERY"),await Vs(a,`${n}-code-verifier`,c);const u=await N2(i);return[u,i===u?"plain":"s256"]}const E2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C2(a){const n=a.headers.get(Wd);if(!n||!n.match(E2))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function T2(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function A2(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(a){if(!O2.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sd(){const a={};return new Proxy(a,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R2(a,n){return new Proxy(a,{get:(r,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,c)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,i,c)}})}function Kg(a){return JSON.parse(JSON.stringify(a))}const Vr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),D2=[502,503,504];async function Qg(a){var n;if(!v2(a))throw new Jd(Vr(a),0);if(D2.includes(a.status))throw new Jd(Vr(a),a.status);let r;try{r=await a.json()}catch(u){throw new Kr(Vr(u),u)}let i;const c=C2(a);if(c&&c.getTime()>=Rx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Gg(Vr(r),a.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Gg(Vr(r),a.status,r.weak_password.reasons);throw new o2(Vr(r),a.status||500,i)}const M2=(a,n,r,i)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),r))};async function ke(a,n,r,i){var c;const u=Object.assign({},i==null?void 0:i.headers);u[Wd]||(u[Wd]=Rx["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await L2(a,n,r+m,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function L2(a,n,r,i,c,u){const d=M2(n,i,c,u);let m;try{m=await a(r,Object.assign({},d))}catch(p){throw console.error(p),new Jd(Vr(p),0)}if(m.ok||await Qg(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(p){await Qg(p)}}function Fn(a){var n;let r=null;U2(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=x2(a.expires_in)));const i=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:r,user:i},error:null}}function Wg(a){const n=Fn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=a.weak_password),n}function gr(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function z2(a){return{data:a,error:null}}function B2(a){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:u}=a,d=Js(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:i,redirect_to:c,verification_type:u},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function Jg(a){return a}function U2(a){return a.access_token&&a.refresh_token&&a.expires_in}const _d=["global","local","others"];class I2{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Lx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=_d[0]){if(_d.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_d.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gr})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=Js(n,["options"]),c=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:B2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gr})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,c,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},x=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Jg});if(x.error)throw x.error;const b=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,v=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return v.length>0&&(v.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);g[`${A}Page`]=_}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(xe(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Us(n);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gr})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Us(n);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:gr})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){Us(n);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:gr})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){Us(n.userId);try{const{data:r,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:i}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Us(n.userId),Us(n.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,i,c,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},x=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Jg});if(x.error)throw x.error;const b=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,v=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return v.length>0&&(v.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);g[`${A}Page`]=_}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(xe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}}function Xg(a={}){return{getItem:n=>a[n]||null,setItem:(n,r)=>{a[n]=r},removeItem:n=>{delete a[n]}}}const Is={debug:!!(globalThis&&Mx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zx extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class P2 extends zx{}async function H2(a,n,r){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await r()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(n===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new P2(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Is.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function q2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bx(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function $2(a){return parseInt(a,16)}function G2(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function V2(a){var n;const{chainId:r,domain:i,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:p,resources:g,scheme:x,uri:b,version:w}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const v=Bx(a.address),S=x?`${x}://${i}`:i,_=a.statement?`${a.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${v}

${_}`;let E=`URI: ${b}
Version: ${w}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(E+=`
Expiration Time: ${c.toISOString()}`),m&&(E+=`
Not Before: ${m.toISOString()}`),p&&(E+=`
Request ID: ${p}`),g){let q=`
Resources:`;for(const O of g){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);q+=`
- ${O}`}E+=q}return`${A}
${E}`}class Nt extends Error{constructor({message:n,code:r,cause:i,name:c}){var u;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=c??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Wo extends Nt{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function F2({error:a,options:n}){var r,i,c;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Nt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(Ux(d)){if(u.rp.id!==d)return new Nt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Y2({error:a,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Nt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(Ux(i)){if(r.rpId!==i)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class K2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Q2=new K2;function W2(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:r,excludeCredentials:i}=a,c=Js(a,["challenge","user","excludeCredentials"]),u=Fs(n).buffer,d=Object.assign(Object.assign({},r),{id:Fs(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Fs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function J2(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:r}=a,i=Js(a,["challenge","allowCredentials"]),c=Fs(n).buffer,u=Object.assign(Object.assign({},i),{challenge:c});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const m=r[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Fs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function X2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:Qr(new Uint8Array(a.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Z2(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,i=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Qr(new Uint8Array(c.authenticatorData)),clientDataJSON:Qr(new Uint8Array(c.clientDataJSON)),signature:Qr(new Uint8Array(c.signature)),userHandle:c.userHandle?Qr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ux(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Zg(){var a,n;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function ew(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wo("Browser returned unexpected credential type",n)}:{data:null,error:new Wo("Empty credential response",n)}}catch(n){return{data:null,error:F2({error:n,options:a})}}}async function tw(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Wo("Browser returned unexpected credential type",n)}:{data:null,error:new Wo("Empty credential response",n)}}catch(n){return{data:null,error:Y2({error:n,options:a})}}}const nw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jo(...a){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of a)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(r(d))i[u]=d;else if(n(d)){const m=i[u];n(m)?i[u]=Jo(m,d):i[u]=Jo(d)}else i[u]=d}return i}function rw(a,n){return Jo(nw,a,n||{})}function sw(a,n){return Jo(aw,a,n||{})}class iw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:i,signal:c},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:m};const p=c??Q2.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=rw(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:b}=await ew({publicKey:g,signal:p});return x?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const g=sw(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:b}=await tw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return x?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(d){return xe(d)?{data:null,error:d}:{data:null,error:new Kr("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new ul("rpId is required for WebAuthn authentication")};try{if(!Zg())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:c},{request:u});if(!d)return{data:null,error:m};const{webauthn:p}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:i,credential_response:p.credential_response}})}catch(d){return xe(d)?{data:null,error:d}:{data:null,error:new Kr("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new ul("rpId is required for WebAuthn registration")};try{if(!Zg())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:c},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return xe(d)?{data:null,error:d}:{data:null,error:new Kr("Unexpected error in register",d)}}}}q2();const lw={url:a2,storageKey:r2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ep(a,n,r){return await r()}const Ps={};class dl{get jwks(){var n,r;return(r=(n=Ps[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ps[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},lw),n);if(this.storageKey=u.storageKey,this.instanceID=(r=dl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ht()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new I2({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Lx(u.fetch),this.lock=u.lock||ep,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Ht()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=H2:this.lock=ep,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Mx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ox}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Ht()&&(r=y2(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ht()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),d2(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?this._returnResult({error:r}):this._returnResult({error:new Kr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,c;try{const u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Fn}),{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(xe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var r,i,c;try{let u;if("email"in n){const{email:x,password:b,options:w}=n;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Bs(this.storage,this.storageKey)),u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:b,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:v,code_challenge_method:S},xform:Fn})}else if("phone"in n){const{phone:x,password:b,options:w}=n;u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Fn})}else throw new Po("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(xe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:d,options:m}=n;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Wg})}else if("phone"in n){const{phone:u,password:d,options:m}=n;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Wg})}else throw new Po("You must provide either an email or phone number and a password");const{data:i,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const u=new zs;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,c,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,c,u,d,m,p,g,x,b,w;let v,S;if("message"in n)v=n.message,S=n.signature;else{const{chain:_,wallet:A,statement:E,options:q}=n;let O;if(Ht())if(typeof A=="object")O=A;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")O=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=A}const Y=new URL((r=q==null?void 0:q.url)!==null&&r!==void 0?r:window.location.href),I=await O.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Bx(I[0]);let G=(i=q==null?void 0:q.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const le=await O.request({method:"eth_chainId"});G=$2(le)}const Z={domain:Y.host,address:D,statement:E,uri:Y.href,version:"1",chainId:G,nonce:(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=q==null?void 0:q.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=q==null?void 0:q.signInWithEthereum)===null||x===void 0?void 0:x.resources};v=V2(Z),S=await O.request({method:"personal_sign",params:[G2(v),D]})}try{const{data:_,error:A}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Fn});if(A)throw A;if(!_||!_.session||!_.user){const E=new zs;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(n){var r,i,c,u,d,m,p,g,x,b,w,v;let S,_;if("message"in n)S=n.message,_=n.signature;else{const{chain:A,wallet:E,statement:q,options:O}=n;let Y;if(Ht())if(typeof E=="object")Y=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))Y=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=E}const I=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){const D=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),q?{statement:q}:null));let G;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")G=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)G=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)S=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),_=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${I.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(c=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((g=O==null?void 0:O.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((b=(x=O==null?void 0:O.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...O.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const D=await Y.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:A,error:E}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Qr(_)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fn});if(E)throw E;if(!A||!A.session||!A.user){const q=new zs;return this._returnResult({data:{user:null,session:null},error:q})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:E})}catch(A){if(xe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(n){const r=await $r(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(r??"").split("/");try{const{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Fn});if(await fr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const m=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(xe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:r,provider:i,token:c,access_token:u,nonce:d}=n,m=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fn}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const x=new zs;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,c,u,d;try{if("email"in n){const{email:m,options:p}=n;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Bs(this.storage,this.storageKey));const{error:b}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:x}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new Po("You must provide either an email or phone number.")}catch(m){if(xe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var r,i;try{let c,u;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Fn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(xe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,i,c,u,d;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Bs(this.storage,this.storageKey));const g=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:z2});return!((u=g.data)===null||u===void 0)&&u.url&&Ht()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(xe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new yn;const{error:c}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:u}=n,{error:d}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:i,type:c,options:u}=n,{data:d,error:m}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new Po("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await $r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await $r(this.userStorage,this.storageKey+"-user");d!=null&&d.user?n.user=d.user:n.user=Sd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=R2(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gr}):await this._useSession(async r=>{var i,c,u;const{data:d,error:m}=r;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:gr})})}catch(r){if(xe(r))return u2(r)&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new yn;const d=c.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await Bs(this.storage,this.storageKey));const{data:g,error:x}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:gr});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(xe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new yn;const r=Date.now()/1e3;let i=r,c=!0,u=null;const{payload:d}=jd(n.access_token);if(d.exp&&(i=d.exp,c=i<=r),c){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:d,error:m}=r;if(m)throw m;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new yn;const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ht())throw new Ho("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ho(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ho("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $g("No code detected.");const{data:q,error:O}=await this._exchangeCodeForSession(n.code);if(O)throw O;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:m,expires_at:p,token_type:g}=n;if(!u||!m||!d||!g)throw new Ho("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(m);let w=x+b;p&&(w=parseInt(p));const v=w-x;v*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${b}s`);const S=w-b;x-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,x):x-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,x);const{data:_,error:A}=await this._getUser(u);if(A)throw A;const E={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:w,refresh_token:d,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(i){if(xe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await $r(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({error:u});const d=(i=c.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,n);if(m&&!(c2(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=b2(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,c;try{const{data:{session:u},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Bs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(xe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:i,error:c}=await this._useSession(async u=>{var d,m,p,g,x;const{data:b,error:w}=u;if(w)throw w;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",v,{headers:this.headers,jwt:(x=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return Ht()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:n.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(xe(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{const{error:c,data:{session:u}}=r;if(c)throw c;const{options:d,provider:m,token:p,access_token:g,nonce:x}=n,b=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Fn}),{data:w,error:v}=b;return v?this._returnResult({data:{user:null,session:null},error:v}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new zs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:v}))}catch(c){if(xe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,c;const{data:u,error:d}=r;if(d)throw d;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await k2(async c=>(c>0&&await w2(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Fn})),(c,u)=>{const d=200*Math.pow(2,c);return u&&kd(u)&&Date.now()+d-i<Gs})}catch(i){if(this._debug(r,"error",i),xe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ht()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await $r(this.storage,this.storageKey);if(c&&this.userStorage){let d=await $r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Vs(this.userStorage,this.storageKey+"-user",d)),c.user=(n=d==null?void 0:d.user)!==null&&n!==void 0?n:Sd()}else if(c&&!c.user&&!c.user){const d=await $r(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(c.user=d.user,await fr(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,c)):c.user=Sd()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wd;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${wd}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),kd(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(c.access_token);!m&&(d!=null&&d.user)?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new nc;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new yn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),xe(u)){const d={data:null,error:u};return kd(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const u=Kg(c);await Vs(this.storage,this.storageKey,u)}else{const c=Kg(r);await Vs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await fr(this.storage,this.storageKey),await fr(this.storage,this.storageKey+"-code-verifier"),await fr(this.storage,this.storageKey+"-user"),this.userStorage&&await fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Gs}ms, refresh threshold is ${Qd} ticks`),c<=Qd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof zx)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const c=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Bs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;return u?this._returnResult({data:null,error:u}):await ke(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,c;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:g}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?X2(n.webauthn.credential_response):Z2(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=await ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:W2(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:J2(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=jd(i.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new yn})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new yn});const d=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new yn});const d=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new yn})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yn})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(m=>m.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+l2>c)return i;const{data:u,error:d}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:v,error:S}=await this.getSession();if(S||!v.session)return this._returnResult({data:null,error:S});i=v.session.access_token}const{header:c,payload:u,signature:d,raw:{header:m,payload:p}}=jd(i);r!=null&&r.allowExpired||T2(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:u,header:c,signature:d},error:null}}const x=A2(c.alg),b=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,d,p2(`${m}.${p}`)))throw new Xd("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}}dl.nextInstanceID={};const ow=dl;class cw extends ow{constructor(n){super(n)}}class uw{constructor(n,r,i){var c,u,d;this.supabaseUrl=n,this.supabaseKey=r;const m=n2(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:K1,realtime:W1,auth:Object.assign(Object.assign({},Q1),{storageKey:p}),global:Y1},x=t2(i??{},g);this.storageKey=(c=x.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=Z1(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Wv(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new G1(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Fv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:c,userStorage:u,storageKey:d,flowType:m,lock:p,debug:g,throwOnError:x},b,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cw({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),b),storageKey:d,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:c,userStorage:u,flowType:m,lock:p,debug:g,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new f1(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dw=(a,n,r)=>new uw(a,n,r);function hw(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const n=a.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}hw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ft=dw("https://osclkublagoofqamfkpx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zY2xrdWJsYWdvb2ZxYW1ma3B4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjcwMTgsImV4cCI6MjA4MDAwMzAxOH0.WSFQW34snxD5QMvu8t5iQZsUlgSOqgzSvsI1tMi3j14"),fw="/api";function mw(a){const n=a.startsWith("/")?a:`/${a}`;return`${fw}${n}`}async function Qn(a,n={}){const r=mw(a),i=await fetch(r,{...n,headers:{"Content-Type":"application/json",...n.headers||{}}});if(!i.ok){let c=null,u="";try{u=await i.text(),c=JSON.parse(u)}catch{}const d=(c==null?void 0:c.message)||(c==null?void 0:c.error)||`API error ${i.status}: ${u.substring(0,200)}`,m=new Error(d);throw m.status=i.status,m.code=(c==null?void 0:c.error)||(c==null?void 0:c.code),console.error(`[API] ${n.method||"GET"} ${a} failed:`,d),m}try{return await i.json()}catch{return null}}async function lt(a,n="GET",r,i){try{let c=i;if(!c){const{data:{session:m}}=await Ft.auth.getSession();c=m==null?void 0:m.access_token,c||(console.warn("[API] Auth Session missing, checking localStorage..."),c=localStorage.getItem("token")||void 0)}c||console.warn("[API] No token found in session or localStorage. Request may fail 401.");const u={"Content-Type":"application/json"};c&&(u.Authorization=`Bearer ${c}`);const d={method:n,headers:u};return r&&n!=="GET"&&(d.body=JSON.stringify(r)),await Qn(a,d)}catch(c){throw c}}function gw(a){const n=atob(a),r=n.length,i=new Uint8Array(r);for(let c=0;c<r;c++)i[c]=n.charCodeAt(c);return i}const pw=async a=>{const n=a.slice(0,4500);try{const r=await Qn("/gemini/speech",{method:"POST",body:JSON.stringify({text:n})});return!r||!r.audioData?null:gw(r.audioData)}catch(r){return console.error("Speech generation error:",r),null}},Ix=async(a,n="International",r="en-US",i="detailed")=>{try{const c=await Qn("/gemini/lookup",{method:"POST",body:JSON.stringify({term:a,region:n,language:r,mode:i})});return c&&c.text?c.text:"Definition not found."}catch(c){throw console.error("Dictionary lookup error:",c),new Error("Failed to retrieve definition.")}},xw=async({history:a,newMessage:n,region:r,country:i,userRole:c,isShortAnswer:u,language:d="English",onChunk:m,signal:p,sessionId:g})=>{try{const x=localStorage.getItem("token"),b={"Content-Type":"application/json"};x&&x!=="null"&&x!=="undefined"&&(b.Authorization=`Bearer ${x}`);const w=await Qn("/chat/message",{method:"POST",headers:b,body:JSON.stringify({message:n,history:a,region:r,country:i,userRole:c,language:d,isShortAnswer:u,sessionId:g}),signal:p});if(!w||!w.text)throw new Error("Invalid response format");const v=w.text;return m(v),v}catch(x){throw x instanceof DOMException&&x.name==="AbortError"||console.error("DEBUG: Backend Chat API Error Details:",{message:x.message,stack:x.stack,url:"/chat/message"}),x}},bw=async(a,n,r,i="English")=>{try{const c=await Qn("/gemini/related",{method:"POST",body:JSON.stringify({lastMessage:a,lastResponse:n,userRole:r,language:i})});return Array.isArray(c)?c:[]}catch(c){return console.error("Failed to generate related questions:",c),[]}};let Gr=null;const yw=({message:a,language:n="en-US",onShare:r})=>{const i=a.role===Da.USER,c=pr(n),[u,d]=z.useState(!1),[m,p]=z.useState(!1),[g,x]=z.useState(!1),[b,w]=z.useState(null),v=z.useRef(null);z.useEffect(()=>{if(i||!a.text||Sg(a.text)||a.isError)return;x(!1),b&&(URL.revokeObjectURL(b),w(null));const E=setTimeout(async()=>{try{const q=await pw(a.text);if(q){const O=new Blob([q],{type:"audio/mp3"}),Y=URL.createObjectURL(O);w(Y),x(!0)}}catch(q){console.warn("Failed to prefetch audio",q)}},2e3);return()=>clearTimeout(E)},[a.text,i]);const S=()=>{v.current&&(v.current.pause(),v.current.currentTime=0),p(!1),Gr===S&&(Gr=null)},_=()=>{if(m){S();return}b&&(Gr&&Gr(),Gr=S,v.current?v.current.src=b:(v.current=new Audio(b),v.current.onended=()=>{p(!1),Gr=null},v.current.onerror=()=>{p(!1),Gr=null}),v.current.play().then(()=>p(!0)).catch(E=>{console.error("Audio play failed",E),p(!1)}))};z.useEffect(()=>()=>{m&&S()},[a.id]);const A=async()=>{try{await navigator.clipboard.writeText(a.text),d(!0),setTimeout(()=>d(!1),2e3)}catch(E){console.error("Failed to copy text: ",E)}};return l.jsx("div",{className:`flex w-full mb-8 ${i?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`relative max-w-[90%] md:max-w-[85%] lg:max-w-[80%] ${i?"bg-medical-600 text-white rounded-2xl rounded-br-sm shadow-md":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-card text-slate-800 dark:text-slate-200 w-full"} ${a.isError?"border-red-300 bg-red-50 dark:bg-red-900/10 text-red-800 dark:text-red-300":""}`,dir:c&&!i?"rtl":"ltr",children:[!i&&l.jsxs("div",{className:"flex items-center justify-between px-5 py-2.5 border-b border-slate-100 dark:border-slate-700/50 bg-slate-50/50 dark:bg-slate-800 rounded-t-xl",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 flex items-center justify-center overflow-hidden",children:l.jsx(Sn,{className:"w-3 h-3"})}),l.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wide",children:"MDnexa Clinical Response"})]}),l.jsxs("span",{className:"text-[10px] font-mono text-slate-400",children:["ID: ",a.id.substring(0,6)]})]}),l.jsx("div",{className:`p-5 ${i?"py-4":"py-6"} ${c&&!i?"text-right":""}`,children:i?l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-[15px]",children:a.text}):a.text===""?l.jsxs("div",{className:"flex items-center gap-1.5 h-6",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 dark:bg-slate-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 dark:bg-slate-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 dark:bg-slate-500 rounded-full animate-bounce"})]}):l.jsx("div",{className:c?"rtl-content":"",children:l.jsx(Iv,{content:a.text,shouldAnimate:a.shouldAnimate,isRTL:c})})}),l.jsxs("div",{className:`flex items-center justify-between px-5 pb-3 ${i?"pt-0":"pt-2 border-t border-slate-50 dark:border-slate-700/30"}`,children:[l.jsx("div",{className:`text-[10px] font-medium ${i?"text-blue-100":"text-slate-400 dark:text-slate-500"}`,children:a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),!i&&!a.isError&&!Sg(a.text)&&l.jsxs("div",{className:"flex items-center gap-4",children:[g&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:_,className:`flex items-center gap-1.5 text-[10px] uppercase font-bold tracking-wider transition-colors ${m?"text-medical-600 dark:text-medical-400":"text-slate-400 dark:text-slate-500 hover:text-medical-600 dark:hover:text-medical-400"}`,title:m?"Stop":"Read Aloud",children:m?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"relative flex h-2.5 w-2.5 mr-0.5",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-medical-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-medical-500"})]}),l.jsx("span",{children:"Stop"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),l.jsx("span",{children:"Read Aloud"})]})}),l.jsx("div",{className:"w-px h-3 bg-slate-200 dark:bg-slate-700"})]}),r&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>r("MDnexa Clinical Response",a.text),className:"flex items-center gap-1.5 text-[10px] uppercase font-bold tracking-wider text-slate-400 dark:text-slate-500 hover:text-medical-600 dark:hover:text-medical-400 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),l.jsx("span",{children:"Share"})]}),l.jsx("div",{className:"w-px h-3 bg-slate-200 dark:bg-slate-700"})]}),l.jsx("button",{onClick:A,className:"flex items-center gap-1.5 text-[10px] uppercase font-bold tracking-wider text-slate-400 dark:text-slate-500 hover:text-medical-600 dark:hover:text-medical-400 transition-colors",children:u?l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-green-500 dark:text-green-400",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),l.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Copied"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})}),l.jsx("span",{children:"Copy"})]})})]})]})]})})},vw=({isOpen:a,onClose:n,onClearHistory:r,theme:i,onThemeChange:c,region:u,setRegion:d,country:m,setCountry:p,fontSize:g,setFontSize:x,userName:b,setUserName:w,userRole:v,setUserRole:S,isAuthenticated:_,onOpenAuth:A,onLogout:E,language:q,setLanguage:O,isShortAnswer:Y,setIsShortAnswer:I})=>{var T;const[D,G]=z.useState("general"),[Z,le]=z.useState(null),[re,oe]=z.useState(!1),[W,he]=z.useState(null),[de,te]=z.useState(!1);z.useEffect(()=>{a&&_&&L()},[a,_]);const L=async()=>{try{const{data:{user:M}}=await Ft.auth.getUser();M&&le(j=>{var U,Q;return{...j,full_name:((U=M.user_metadata)==null?void 0:U.full_name)||(j==null?void 0:j.full_name),email:M.email||(j==null?void 0:j.email),role:((Q=M.user_metadata)==null?void 0:Q.role)||(j==null?void 0:j.role)||"user"}})}catch(M){console.error("Auth fetch failed",M)}try{const M=await lt("/users/me");le(M);try{const{subscription:j}=await lt("/subscriptions/status");he(j)}catch{console.log("No active subscription found or error fetching status")}}catch(M){console.error("Error fetching user profile from API:",M)}},V=async()=>{te(!0);try{const{url:M}=await lt("/subscriptions/create-portal-session","POST");window.location.href=M}catch(M){console.error("Error creating portal session:",M),alert("Failed to open billing portal.")}finally{te(!1)}},ee=M=>{const j=M.target.value;d(j),Wt[j]&&Wt[j].length>0&&p(Wt[j][0])},fe=async()=>{try{const{data:{user:M}}=await Ft.auth.getUser(),j=M==null?void 0:M.email;if(console.log("[PW_RESET_SETTINGS] requesting reset for current user",j),!j){alert("Could not determine your email address.");return}if(confirm(`Send password reset email to ${j}?`)){const U=await Qn("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j})});U&&U.success?alert("Weve sent a reset link to your email."):alert(U.message||"Failed to send reset link.")}}catch(M){console.error("[PW_RESET_SETTINGS] Error:",M),alert(M.message||"An error occurred. Please try again.")}},N=async()=>{if(window.confirm("Are you sure you want to deactivate your account? This will permanently delete your data and log you out immediately."))try{await lt("/users/delete-account","DELETE"),alert("Account deactivated successfully."),E(),n()}catch(M){console.error("Error deactivating account:",M),alert("Failed to deactivate account. Please try again or contact support.")}};return a?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-2xl h-[600px] flex overflow-hidden shadow-2xl animate-fade-in transition-colors duration-200",children:[l.jsxs("div",{className:"w-1/3 bg-slate-50 dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 p-4 flex flex-col gap-2 transition-colors duration-200",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white px-3 mb-4 mt-2",children:"Settings"}),l.jsxs("button",{onClick:()=>G("general"),className:`text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${D==="general"?"bg-medical-100 dark:bg-medical-900/30 text-medical-700 dark:text-medical-400":"text-slate-600 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),"General"]}),l.jsxs("button",{onClick:()=>G("account"),className:`text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${D==="account"?"bg-medical-100 dark:bg-medical-900/30 text-medical-700 dark:text-medical-400":"text-slate-600 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),"Account"]})]}),l.jsxs("div",{className:"flex-1 p-8 overflow-y-auto relative",children:[l.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-200 dark:hover:text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),D==="general"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"General Preferences"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-white",children:"Interface Theme"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Select your preferred color scheme"})]}),l.jsxs("select",{value:i,onChange:M=>c(M.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm rounded-lg p-2.5 text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:[l.jsx("option",{value:"light",children:"Light Mode"}),l.jsx("option",{value:"dark",children:"Dark Mode"}),l.jsx("option",{value:"system",children:"System Default"})]})]}),l.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-white",children:"Response Language"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Language for AI answers and dictionary"})]}),l.jsx("select",{value:q,onChange:M=>O(M.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm rounded-lg p-2.5 text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:Object.keys(Qs).map(M=>l.jsx("option",{value:M,children:M},M))})]}),l.jsxs("div",{className:"pb-6 border-b border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-white",children:"Default Clinical Location"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Set the primary medical jurisdiction for guidelines"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 mb-1.5",children:"Region"}),l.jsx("select",{value:u,onChange:ee,className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm rounded-lg p-2.5 text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:Object.keys(Wt).map(M=>l.jsx("option",{value:M,children:M},M))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 mb-1.5",children:"Country"}),l.jsx("select",{value:m,onChange:M=>p(M.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm rounded-lg p-2.5 text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:(T=Wt[u])==null?void 0:T.map(M=>l.jsx("option",{value:M,children:M},M))})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-white",children:"Font Size"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Adjust text size for reading comfort"})]}),l.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>x("small"),className:`px-3 py-1 text-xs font-medium rounded transition-all ${g==="small"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white ring-1 ring-slate-200 dark:ring-slate-500":"text-slate-500 dark:text-white hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"}),l.jsx("button",{onClick:()=>x("normal"),className:`px-3 py-1 text-sm font-medium rounded transition-all ${g==="normal"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white ring-1 ring-slate-200 dark:ring-slate-500":"text-slate-500 dark:text-white hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"}),l.jsx("button",{onClick:()=>x("large"),className:`px-3 py-1 text-base font-medium rounded transition-all ${g==="large"?"bg-white dark:bg-slate-600 shadow-sm text-slate-800 dark:text-white ring-1 ring-slate-200 dark:ring-slate-500":"text-slate-500 dark:text-white hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"})]})]})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("h3",{className:"text-sm font-bold text-red-600 dark:text-red-400 uppercase tracking-wide mb-4",children:"Data Management"}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl p-5",children:[l.jsx("h4",{className:"font-medium text-red-800 dark:text-red-300 mb-1",children:"Clear Consultation History"}),l.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/70 mb-4",children:"Permanently remove all your chat sessions and local data. This action cannot be undone."}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete all history? This cannot be undone.")&&(r(),n())},className:"px-4 py-2 bg-white dark:bg-red-900/20 text-red-600 dark:text-red-300 border border-red-200 dark:border-red-800/50 rounded-lg text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors shadow-sm",children:"Delete All Data"})]})]})]}),D==="account"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Account Profile"}),l.jsxs("div",{className:"flex items-center gap-5 mb-8 pb-8 border-b border-slate-100 dark:border-slate-800",children:[l.jsx("div",{className:`relative w-24 h-24 rounded-full flex items-center justify-center text-white text-3xl font-bold ring-4 ring-medical-50 dark:ring-slate-800 uppercase overflow-hidden ${_?"bg-medical-600":"bg-slate-300 dark:bg-slate-700"}`,children:_&&(Z!=null&&Z.logo_url)?l.jsx("img",{src:Z.logo_url,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("span",{children:_&&(Z!=null&&Z.full_name)?Z.full_name.split(" ").map(M=>M[0]).join("").substring(0,2):"?"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:_?(Z==null?void 0:Z.full_name)||b||"":"Guest User"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:_?(Z==null?void 0:Z.email)||"":"Not logged in"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400"}`,children:_?v||"Professional":"Guest"})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider mb-2",children:"Full Name"}),l.jsx("input",{type:"text",value:(Z==null?void 0:Z.full_name)||"",disabled:!0,className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-500 dark:text-indigo-200 cursor-not-allowed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:(Z==null?void 0:Z.email)||"",disabled:!0,className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-500 dark:text-indigo-200 cursor-not-allowed"}),l.jsx("p",{className:"mt-1.5 text-[11px] text-slate-400 dark:text-slate-300",children:"Contact your administrator to change your email."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider",children:"Professional Role"}),l.jsx("span",{className:"text-[10px] text-medical-600 dark:text-medical-400 bg-medical-50 dark:bg-medical-900/20 px-2 py-0.5 rounded-full font-medium",children:"Adapts AI Answers"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("select",{value:nl.includes(v)?v:"Other",onChange:M=>{const j=M.target.value;S(j==="Other"?"":j)},className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500 appearance-none cursor-pointer",children:nl.map(M=>l.jsx("option",{value:M,children:M},M))}),(!nl.includes(v)||v==="Other"||v==="")&&l.jsx("input",{type:"text",placeholder:"Specify your role (e.g. Surgeon, Dentist)...",value:v==="Other"?"":v,onChange:M=>S(M.target.value),className:"w-full bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg px-4 py-2.5 text-sm text-slate-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500 animate-fade-in",autoFocus:!0})]})]}),(Z==null?void 0:Z.accepted_terms_at)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Terms Accepted"}),l.jsx("input",{type:"text",value:new Date(Z.accepted_terms_at).toLocaleDateString(),disabled:!0,className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-500 dark:text-indigo-200 cursor-not-allowed"})]})]}),_?l.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-6 mt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-4",children:"Account Actions"}),l.jsx("button",{onClick:E,className:"w-full py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 font-semibold rounded-lg transition-all",children:"Log Out"})]}):l.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-6 mt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-4",children:"Account Access"}),l.jsx("button",{onClick:A,className:"w-full py-2.5 bg-medical-600 hover:bg-medical-700 text-white font-semibold rounded-lg shadow-md transition-all",children:"Log In / Sign Up"})]}),_&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-8 mt-4",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-4",children:"Security & Subscription"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:fe,className:"w-full text-left px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-medium text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-slate-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),l.jsx("span",{children:"Reset Password"})]}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-slate-400 group-hover:text-slate-600 transition-colors",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]}),l.jsxs("button",{onClick:()=>{W?V():window.location.href="/pricing"},disabled:de,className:"w-full text-left px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-medium text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-slate-400",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:W?"Manage Subscription":"Upgrade Plan"}),W?l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-normal",children:W.cancel_at_period_end?`Ends on ${new Date(W.current_period_end*1e3).toLocaleDateString()}`:`Active  Next bill: ${new Date(W.current_period_end*1e3).toLocaleDateString()}`}):l.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-normal",children:"Unlock premium features"})]})]}),de?l.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-slate-600 rounded-full animate-spin"}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-slate-400 group-hover:text-slate-600 transition-colors",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})]}),l.jsxs("div",{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-red-600 dark:text-red-400 uppercase tracking-wide mb-3",children:"Danger Zone"}),l.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl p-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium text-red-800 dark:text-red-300",children:"Deactivate Account"}),l.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/70 mt-1 max-w-[250px] leading-relaxed",children:"Disable your account and remove public profile visibility immediately."})]}),l.jsx("button",{onClick:N,className:"px-4 py-2 bg-white dark:bg-red-900/20 text-red-600 dark:text-red-300 border border-red-200 dark:border-red-800/50 rounded-lg text-xs font-bold hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors shadow-sm",children:"Deactivate"})]})})]})]})]})]})]})}):null},ww=({isOpen:a,onClose:n,region:r,language:i})=>{const[c,u]=z.useState(""),[d,m]=z.useState(null),[p,g]=z.useState(!1),[x,b]=z.useState(null),[w,v]=z.useState(!1),[S,_]=z.useState(!0),A=z.useRef(null),E=Object.keys(Qs).find(G=>Qs[G]===i)||i,q=pr(i),O=La.useMemo(()=>[`Enter medical term (${E})...`,"Myocardial Infarction","Diabetes Mellitus","Atrial Fibrillation","Pulmonary Embolism","Gastroesophageal Reflux"],[E]),Y=Wr(O);z.useEffect(()=>{a&&A.current&&setTimeout(()=>{var G;return(G=A.current)==null?void 0:G.focus()},100),a||(u(""),m(null),b(null),v(!1),_(!0))},[a]);const I=async G=>{if(G&&G.preventDefault(),!!c.trim()){g(!0),m(null),b(null),v(!1);try{const Z=await Ix(c,r,i,"concise");m(Z)}catch{b("Failed to retrieve definition. Please try again.")}finally{g(!1)}}},D=async()=>{if(d)try{await navigator.clipboard.writeText(d),v(!0),setTimeout(()=>v(!1),2e3)}catch(G){console.error("Failed to copy text: ",G)}};return a?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-xl shadow-2xl animate-fade-in overflow-hidden flex flex-col max-h-[80vh]",onClick:G=>G.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/30 rounded-lg text-teal-600 dark:text-teal-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),l.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Medical Dictionary"})]}),l.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6 pb-2",children:[l.jsxs("form",{onSubmit:I,className:"relative",children:[l.jsx("input",{ref:A,type:"text",value:c,onChange:G=>u(G.target.value),placeholder:Y,className:"w-full pl-11 pr-4 py-3 bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-xl text-slate-800 dark:text-white placeholder-slate-400 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 outline-none transition-all font-medium"}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),l.jsx("button",{type:"submit",disabled:!c.trim()||p,className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-teal-600 hover:bg-teal-700 text-white text-sm font-semibold rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Search"})]}),S&&l.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 px-1",children:[l.jsxs("span",{children:["Searching in ",l.jsx("strong",{children:E}),". You can change this in Settings."]}),l.jsx("button",{onClick:()=>_(!1),className:"hover:text-slate-700 dark:hover:text-slate-300 transition-colors",title:"Dismiss",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-h-[300px]",children:p?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 space-y-3",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"}),l.jsx("span",{className:"text-sm font-medium",children:"Retrieving clinical definition..."})]}):x?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-2",children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 text-red-500 rounded-full flex items-center justify-center mb-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})}),l.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:x})]}):d?l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-5 border border-slate-100 dark:border-slate-800 relative group",children:[l.jsx("button",{onClick:D,className:`absolute top-3 ${q?"left-3":"right-3"} p-1.5 rounded-lg bg-white dark:bg-slate-700 text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 shadow-sm border border-slate-200 dark:border-slate-600 transition-all opacity-0 group-hover:opacity-100 focus:opacity-100`,title:"Copy Definition",children:w?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})}),l.jsx("div",{dir:q?"rtl":"ltr",className:q?"text-right":"text-left",children:l.jsx(Fo,{content:d,isRTL:q,className:q?"text-right":"text-left"})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-16 h-16 mb-4 opacity-30",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),l.jsxs("p",{className:"text-sm",children:["Enter a term to get a quick clinical definition",l.jsx("br",{}),"based on ",l.jsx("strong",{children:r})," standards."]})]})})]})}):null},kw=({isOpen:a,onClose:n,shareData:r})=>{const[i,c]=z.useState(!1);if(z.useEffect(()=>{a||c(!1)},[a]),!a)return null;const u=encodeURIComponent(r.text),d=encodeURIComponent(r.url),m=async()=>{try{await navigator.clipboard.writeText(r.text),c(!0),setTimeout(()=>c(!1),2e3)}catch(g){console.error("Failed to copy",g)}},p=[{name:"WhatsApp",color:"bg-[#25D366] hover:bg-[#20bd5a]",icon:l.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-6 h-6",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),url:`https://wa.me/?text=${u}`},{name:"Facebook",color:"bg-[#1877F2] hover:bg-[#166fe5]",icon:l.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-6 h-6",children:l.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.797 1.603-2.797 2.898v1.072h4.154l-.543 3.666h-3.61V23.69c1.962.37 4.028.149 5.895-.642 1.868-.792 3.398-2.189 4.364-3.987a9.38 9.38 0 0 0 .59-3.811c0-5.18-4.2-9.381-9.381-9.381-5.18 0-9.38 4.2-9.38 9.38 0 2.029.646 3.908 1.748 5.455 1.101 1.547 2.627 2.666 4.316 3.169a9.664 9.664 0 0 0 1.1.218z"})}),url:`https://www.facebook.com/sharer/sharer.php?u=${d}`},{name:"X (Twitter)",color:"bg-black hover:bg-slate-900",icon:l.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-5 h-5",children:l.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),url:`https://twitter.com/intent/tweet?text=${u}`},{name:"LinkedIn",color:"bg-[#0A66C2] hover:bg-[#004182]",icon:l.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"w-6 h-6",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),url:`https://www.linkedin.com/sharing/share-offsite/?url=${d}`},{name:"Email",color:"bg-slate-500 hover:bg-slate-600",icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[l.jsx("path",{d:"M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"}),l.jsx("path",{d:"M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"})]}),url:`mailto:?subject=${encodeURIComponent(r.title)}&body=${u}`}];return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:n,children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-sm shadow-2xl animate-fade-in overflow-hidden relative",onClick:g=>g.stopPropagation(),children:[l.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Share"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Select a platform to share this content."}),l.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:p.map(g=>l.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white shadow-md transition-transform transform group-hover:-translate-y-1 ${g.color}`,children:g.icon}),l.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:g.name})]},g.name))}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",readOnly:!0,value:r.url,className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-2.5 pl-3 pr-10 text-xs text-slate-600 dark:text-slate-300 focus:outline-none"}),l.jsx("button",{onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-medical-600 dark:hover:text-medical-400 transition-colors",title:"Copy Link",children:i?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-green-500",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5"})})})]}),i&&l.jsx("p",{className:"text-[10px] text-green-500 mt-1.5",children:"Link copied to clipboard!"})]})]})})},tp=[a=>l.jsx("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),a=>l.jsx("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("circle",{cx:"12",cy:"12",r:"8"})}),a=>l.jsx("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l8.66 5v10L12 21 3.34 18V8L12 3z"})}),a=>l.jsx("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),a=>l.jsxs("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"6"}),l.jsx("path",{d:"M6 12h12"})]}),a=>l.jsx("svg",{...a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})})],jw=()=>{const[a,n]=z.useState([]);return z.useEffect(()=>{const c=[];for(let u=0;u<24;u++)c.push({id:u,Icon:tp[Math.floor(Math.random()*tp.length)],delay:`${Math.random()*-10}s`,duration:`${15+Math.random()*10}s`,tx:Math.random()*20-10,ty:Math.random()*20-10,rot:Math.random()*360});n(c)},[]),l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none select-none -z-10",children:[l.jsx("style",{children:`
        @keyframes subtle-float {
          0% { transform: translate(0, 0) rotate(0deg); }
          25% { transform: translate(10px, -10px) rotate(5deg); }
          50% { transform: translate(5px, 5px) rotate(10deg); }
          75% { transform: translate(-10px, 8px) rotate(5deg); }
          100% { transform: translate(0, 0) rotate(0deg); }
        }
        .animate-subtle-float {
          animation-name: subtle-float;
          animation-timing-function: ease-in-out;
          animation-iteration-count: infinite;
        }
      `}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 h-full w-full opacity-[0.08] dark:opacity-[0.06]",children:a.map(r=>l.jsx("div",{className:"flex items-center justify-center p-8 md:p-12 relative",children:l.jsx("div",{className:"text-slate-900 dark:text-white animate-subtle-float",style:{animationDelay:r.delay,animationDuration:r.duration},children:l.jsx(r.Icon,{className:"w-8 h-8 md:w-12 md:h-12"})})},r.id))}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-white dark:to-slate-950"})]})},Sw=["Built by Clinicians for Clinicians","Designed for Real-World Practice","Streamlining Clinical Workflows"],np=({onStart:a,onPricing:n,onBlog:r,onAbout:i,onTerms:c,onPrivacy:u,onContact:d,onLogin:m,onLogout:p,onToggleTheme:g,theme:x,isAuthenticated:b,userName:w="User",onNavigateToTools:v})=>{const[S,_]=z.useState(0),A=Wr(Sw,50,30,2e3),q=x==="dark"||x==="system"&&typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"40":"15",O=dh.filter(G=>["dictionary","icd10","drug_checker","mdnexa-calc"].includes(G.id)),Y=()=>{_(G=>(G+1)%O.length)},I=()=>{_(G=>(G-1+O.length)%O.length)},D=G=>{const Z=(G-S+O.length)%O.length,le="absolute top-1/2 left-1/2 transition-all duration-500 ease-in-out cursor-pointer p-6 rounded-2xl border flex flex-col items-center text-center h-72 w-80 bg-white dark:bg-slate-950 shadow-xl overflow-hidden";return Z===0?{zIndex:30,opacity:1,transform:"translate(-50%, -50%) scale(1.15)",className:`${le} border-medical-500 ring-4 ring-medical-500/20`}:Z===1?{zIndex:20,opacity:.8,transform:"translate(15%, -50%) scale(0.9)",className:`${le} border-slate-200 dark:border-slate-800 pointer-events-none`}:Z===2?{zIndex:10,opacity:.5,transform:"translate(-50%, -65%) scale(0.75)",className:`${le} border-slate-200 dark:border-slate-800 pointer-events-none grayscale`}:{zIndex:20,opacity:.8,transform:"translate(-115%, -50%) scale(0.9)",className:`${le} border-slate-200 dark:border-slate-800 pointer-events-none`}};return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900",children:[l.jsx("div",{className:"w-full bg-blue-50 dark:bg-slate-900 sticky top-0 z-50 shadow-sm",children:l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-14 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"MDnexa"})]}),l.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[l.jsxs("button",{onClick:g,className:"p-2 text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white transition-colors",title:"Toggle theme",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 hidden dark:block",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 block dark:hidden",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})]}),l.jsxs("div",{className:"relative group mx-1",children:[l.jsxs("button",{className:"flex items-center gap-1 text-sm font-bold text-slate-600 dark:text-slate-400 hover:text-medical-600 dark:hover:text-white transition-colors p-2",children:["Menu",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-slate-400 group-hover:text-medical-600",children:l.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-800 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all transform origin-top-right z-50",children:[l.jsx("button",{onClick:i,className:"block w-full text-left px-5 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-medical-600 dark:hover:text-white transition-colors",children:"About Us"}),l.jsx("button",{onClick:r,className:"block w-full text-left px-5 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-medical-600 dark:hover:text-white transition-colors",children:"Blog"}),l.jsx("button",{onClick:n,className:"block w-full text-left px-5 py-3 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-medical-600 dark:hover:text-white transition-colors",children:"Pricing"})]})]}),b?l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Logged in as ",l.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:w})]}),l.jsx("button",{onClick:p,className:"px-6 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",children:"Logout"})]}):l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsx("div",{className:"flex items-center justify-center w-4 h-4 rounded-full bg-emerald-500 text-white shadow-sm",children:l.jsx("svg",{className:"w-2.5 h-2.5 stroke-current stroke-[3]",fill:"none",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),l.jsx("span",{className:"text-xs font-extrabold tracking-tight text-slate-800 dark:text-slate-100 uppercase",children:"No card required"})]}),l.jsx("button",{onClick:m,className:"px-6 py-2.5 rounded-lg bg-medical-600 text-white text-sm font-bold shadow-lg shadow-medical-600/20 hover:bg-medical-700 transition-all transform hover:-translate-y-0.5",children:"Login"})]})]})]})}),l.jsxs("header",{className:"relative pt-24 pb-20 lg:pt-48 lg:pb-32 overflow-hidden",children:[l.jsx(jw,{}),l.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center relative z-10",children:[l.jsxs("h1",{className:"animate-fade-in-up text-4xl md:text-6xl lg:text-7xl font-bold tracking-tight text-slate-900 dark:text-white mb-8 leading-tight max-w-5xl mx-auto text-center",style:{animationDelay:"0.1s"},children:["A unified platform for ",l.jsx("br",{className:"hidden md:block"})," ",l.jsx("span",{className:"text-medical-600 dark:text-medical-500",children:"on-call medicine"})]}),l.jsx("div",{className:"animate-fade-in-up flex justify-center mb-8",style:{animationDelay:"0.2s"},children:l.jsx("div",{className:"px-3 py-1.5 bg-medical-50 dark:bg-medical-900/40 border border-medical-100 dark:border-medical-900/50 rounded-full shadow-sm backdrop-blur-sm transition-all hover:scale-105",children:l.jsx("span",{className:"text-medical-700 dark:text-medical-300 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:"Built by a German Physician"})})}),l.jsx("p",{className:"animate-fade-in-up text-lg md:text-xl font-medium text-slate-600 dark:text-slate-300 mb-10 max-w-3xl mx-auto",style:{animationDelay:"0.3s"},children:"AI-assisted reasoning and dedicated clinical tools, built for moments that matter."}),l.jsxs("div",{className:"animate-fade-in-up flex flex-col sm:flex-row justify-center items-center gap-4 mb-8",style:{animationDelay:"0.4s"},children:[l.jsx("button",{onClick:()=>{console.log("Enter Dashboard Clicked -> Triggering onStart"),a()},className:"bg-medical-600 hover:bg-medical-700 text-white font-bold py-4 px-10 rounded-xl shadow-xl transition-all hover:scale-105 active:scale-95 w-full sm:w-auto",children:"Enter Dashboard"}),l.jsx("button",{onClick:v,className:"bg-white dark:bg-slate-800 text-slate-700 dark:text-white border border-slate-200 dark:border-slate-700 font-bold py-4 px-10 rounded-xl shadow-md hover:shadow-lg transition-all hover:bg-slate-50 dark:hover:bg-slate-700 w-full sm:w-auto",children:"Explore MDnexa Tools"})]}),l.jsx("style",{children:`
            @keyframes fadeInUp {
              from {
                opacity: 0;
                transform: translateY(20px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
            .animate-fade-in-up {
              opacity: 0; /* Example starting state, animation fills forwards */
              animation: fadeInUp 0.8s ease-out forwards;
            }
          `})]})]}),l.jsx("div",{className:"max-w-5xl mx-auto px-6 -mt-16 mb-24 relative z-20",children:l.jsx("div",{className:"p-[2px] rounded-3xl bg-gradient-to-r from-medical-300 via-purple-300 to-emerald-300 shadow-xl transform hover:scale-[1.01] transition-transform duration-500",children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[22px] p-6 md:p-8 relative overflow-hidden isolate h-full",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-slate-50 to-blue-50/50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 -z-10"}),l.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-medical-200/40 dark:bg-medical-900/20 rounded-full blur-[100px] -mr-32 -mt-32 pointer-events-none -z-10"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-purple-200/40 dark:bg-purple-900/20 rounded-full blur-[80px] -ml-20 -mb-20 pointer-events-none -z-10"}),l.jsxs("div",{className:"flex flex-col gap-8 items-center text-center",children:[l.jsxs("div",{className:"flex-1 space-y-6",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r from-medical-50 to-purple-50 dark:from-medical-900/40 dark:to-purple-900/40 border border-medical-100 dark:border-medical-800 text-medical-600 dark:text-medical-300 text-xs font-bold uppercase tracking-wider",children:[l.jsx("span",{children:""})," New Release"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300",children:"MDnexa GPT"}),l.jsx("p",{className:"text-lg md:text-xl font-semibold text-medical-600 dark:text-medical-400",children:"Smarter Clinical Support for Physicians"})]}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-base md:text-lg leading-relaxed max-w-3xl font-medium",children:"Your on-call clinical assistant, built to deliver fast, guideline-aligned answers for real-world medicine. From ICD-10 code lookups and drug safety checks to concise explanations of pathophysiology and differential diagnoses, MDnexa GPT helps clinicians make informed decisions with confidence."}),l.jsxs("div",{className:"pt-2 flex flex-wrap items-center gap-4 text-sm font-semibold text-slate-500 dark:text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{children:"Built for physicians"})]}),l.jsx("div",{className:"hidden sm:block w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-700"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{children:"Powered by evidence"})]}),l.jsx("div",{className:"hidden sm:block w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-700"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{children:"Enhanced by MDnexa"})]})]})]}),l.jsxs("div",{className:"flex-shrink-0 w-full lg:w-auto text-center lg:text-right",children:[l.jsxs("a",{href:"https://chatgpt.com/g/g-694b1c3b51e48191b0a14a569482abe5-mdnexa-gpt",target:"_blank",rel:"noopener noreferrer",className:"w-full lg:w-auto inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-bold text-white bg-slate-900 dark:bg-white dark:text-slate-900 rounded-xl hover:bg-slate-800 dark:hover:bg-slate-200 transition-all shadow-xl hover:shadow-2xl hover:-translate-y-1 transform",children:["Try MDnexa GPT",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]}),l.jsxs("p",{className:"mt-3 text-xs font-medium text-slate-400 dark:text-slate-500",children:["Integrated with ",l.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-bold",children:"MDnexa Dashboard"})]})]})]})]})})}),l.jsx("section",{className:"py-20 bg-white dark:bg-slate-950 border-y border-slate-100 dark:border-slate-900 relative z-10",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("span",{className:"text-sm font-bold text-medical-600 dark:text-medical-400 uppercase tracking-widest mb-6 block",children:"Who It Is For"}),l.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-3 text-base md:text-lg font-medium text-slate-600 dark:text-slate-400 mb-10 max-w-4xl mx-auto",children:["Physicians","Residents","Medical Students","Nurses","Paramedics","Allied Health Professionals"].map((G,Z,le)=>l.jsxs(La.Fragment,{children:[l.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:G}),Z<le.length-1&&l.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""})]},G))}),l.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-3 text-sm md:text-base font-medium text-slate-500 dark:text-slate-500 mb-10 max-w-4xl mx-auto",children:["Emergency Medicine","Intensive Care","Internal Medicine","Surgery","Anesthesiology"].map((G,Z,le)=>l.jsxs(La.Fragment,{children:[l.jsx("span",{className:"",children:G}),Z<le.length-1&&l.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""})]},G))}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-2xl p-8 md:p-10 border border-slate-100 dark:border-slate-800 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-4",children:"Your Everyday Clinical Companion"}),l.jsxs("div",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-400 leading-relaxed space-y-4",children:[l.jsx("p",{children:"Inspired by the trusted pocket reference books clinicians have carried for decades - now continuously updated, instantly searchable, and able to contextualize information within modern medical practice."}),l.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"MDnexa is designed to support professional judgment, not replace it."})]})]})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-8",children:"What MDnexa Delivers"}),l.jsx("ul",{className:"space-y-4",children:["Structured diagnostic reasoning","Evidence-based management steps","Clear pathophysiology explanations","Dose and regimen adjustments (age, weight, renal/hepatic function)","Drug interactions and safety alerts","Local guideline adaptation","Concise, clinically relevant summaries","Integrated medical reference tools"].map((G,Z)=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1 w-5 h-5 rounded-full bg-medical-100 dark:bg-medical-900/30 flex items-center justify-center shrink-0",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-medical-600 dark:text-medical-400",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsx("span",{className:"text-lg text-slate-700 dark:text-slate-300",children:G})]},Z))})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-medical-50 dark:bg-medical-900/10 rounded-3xl transform rotate-3"}),l.jsxs("div",{className:"relative bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-3xl p-10 flex flex-col items-center justify-center text-center shadow-xl",children:[l.jsx("div",{className:"w-16 h-16 text-medical-600 mb-4",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("div",{className:"h-16 w-full max-w-lg mx-auto flex items-center justify-center",children:l.jsx("div",{className:"inline-block text-center min-w-[320px]",children:l.jsxs("span",{className:"text-xl md:text-2xl text-slate-800 dark:text-slate-200 font-serif italic font-medium inline-block",children:[A,l.jsx("span",{className:"w-0.5 h-6 bg-medical-500 animate-pulse ml-1 inline-block align-middle"})]})})})]})]})]}),l.jsx("div",{className:"mt-16 flex justify-center",children:l.jsx("div",{className:"px-8 py-4 bg-medical-50 dark:bg-medical-900/30 border border-medical-100 dark:border-medical-900/50 rounded-full shadow-sm text-center max-w-3xl",children:l.jsx("p",{className:"text-sm md:text-lg font-medium text-medical-800 dark:text-medical-200",children:"MDnexa is designed to support clinical decision-making, not replace it."})})})]})}),l.jsx("section",{className:"py-20 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 relative z-10",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[l.jsxs("div",{className:"flex justify-between items-end mb-8",children:[l.jsxs("div",{className:"text-center md:text-left",children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"MDnexa Tools"}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl",children:"Specialized clinical utilities integrated directly into your workflow."})]}),l.jsxs("button",{onClick:v,className:"hidden md:flex items-center gap-2 text-medical-600 dark:text-medical-400 font-bold hover:text-medical-700 dark:hover:text-medical-300 transition-colors",children:["View All",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]}),l.jsxs("div",{className:"relative h-[400px] max-w-4xl mx-auto flex items-center justify-center perspective-1000",children:[l.jsx("button",{onClick:I,className:"absolute left-4 md:left-0 z-40 p-3 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-lg hover:bg-medical-50 dark:hover:bg-slate-700 transition-all transform hover:scale-110",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),l.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:O.map((G,Z)=>{const le=D(Z),re=(Z-S+O.length)%O.length;return l.jsxs("div",{className:le.className,style:{zIndex:le.zIndex,opacity:le.opacity,transform:le.transform,borderColor:re===0?G.accentColor:void 0},onClick:()=>{re===0?v():_(Z)},children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-6 transition-transform",style:{backgroundColor:`${G.accentColor}${q}`},children:l.jsx("img",{src:G.iconPath,alt:G.name,className:"w-6 h-6 object-contain dark:brightness-0 dark:invert"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:G.name}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:G.description}),re===0&&l.jsxs("div",{className:"mt-4 flex items-center font-bold text-sm",style:{color:G.accentColor},children:["Try Tool",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]})]},G.id)})}),l.jsx("button",{onClick:Y,className:"absolute right-4 md:right-0 z-40 p-3 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-lg hover:bg-medical-50 dark:hover:bg-slate-700 transition-all transform hover:scale-110",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]}),l.jsx("div",{className:"flex justify-center gap-2 mt-8",children:O.map((G,Z)=>l.jsx("button",{onClick:()=>_(Z),className:`w-2 h-2 rounded-full transition-all ${Z===S?"bg-medical-600 w-8":"bg-slate-300 dark:bg-slate-700 hover:bg-slate-400"}`},Z))})]})}),l.jsx("section",{id:"features-grid",className:"py-24 bg-slate-50 dark:bg-slate-900/50 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-6",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Localized & guideline-aware"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Adapts information to local standards of care, drug names, and protocols , with international references when local guidance is unavailable."})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-50 dark:bg-purple-900/20 rounded-xl flex items-center justify-center text-purple-600 dark:text-purple-400 mb-6",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Built for real workflows"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Designed for fast use during ward work, on call, exam preparation, and documentation , not long literature searches."})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-teal-50 dark:bg-teal-900/20 rounded-xl flex items-center justify-center text-teal-600 dark:text-teal-400 mb-6",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"Clinically focused AI"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 leading-relaxed",children:"Structured outputs tuned for medical reasoning, differential diagnosis, dosing decisions, and safety considerations."})]})]})})}),l.jsx("footer",{className:"bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center text-center md:text-left gap-4",children:[l.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500",children:" 2025 MDnexa | Powered by Trulonis Tech. All rights reserved."}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6",children:[l.jsx("button",{onClick:c,className:"text-sm text-slate-500 hover:text-medical-600 dark:text-slate-500 dark:hover:text-medical-400 transition-colors",children:"Terms of Service"}),l.jsx("button",{onClick:u,className:"text-sm text-slate-500 hover:text-medical-600 dark:text-slate-500 dark:hover:text-medical-400 transition-colors",children:"Privacy Policy"}),l.jsx("button",{onClick:d,className:"text-sm text-slate-500 hover:text-medical-600 dark:text-slate-500 dark:hover:text-medical-400 transition-colors",children:"Contact"})]})]})})]})},Px=({userId:a,getStripeUrl:n})=>{const[r,i]=z.useState(!1),[c,u]=z.useState(!1);return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8 md:mb-12 bg-slate-100 dark:bg-slate-900/50 p-1.5 rounded-full border border-slate-200 dark:border-slate-800 scale-90 md:scale-100 origin-center w-fit mx-auto",children:[l.jsx("button",{onClick:()=>i(!1),className:`px-6 py-2 rounded-full text-sm font-medium transition-all ${r?"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm"}`,children:"Monthly"}),l.jsxs("button",{onClick:()=>i(!0),className:`px-6 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${r?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:["Yearly ",l.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-0.5 rounded-full font-bold",children:"-20%"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8 max-w-5xl w-full mx-auto",children:[l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-3xl p-6 md:p-8 border border-slate-200 dark:border-slate-800 relative overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"14 Days Free Trial"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Perfect for testing capabilities."})]}),l.jsxs("div",{className:"flex items-baseline gap-1 mb-8",children:[l.jsx("span",{className:"text-4xl font-bold text-slate-900 dark:text-white",children:"0"}),l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"/ first 14 days"})]}),l.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Access to standard guidelines","Daily AI queries included","7-day history retention","Standard response speed","Web access only"].map((d,m)=>l.jsxs("li",{className:"flex items-center gap-3 text-slate-700 dark:text-slate-300 text-sm",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-slate-400 min-w-[20px]",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),d]},m))}),l.jsx("button",{onClick:()=>window.location.href=n("https://buy.stripe.com/9B6cN5dgg1Gt9sbegm5Ne07"),className:"w-full py-4 rounded-xl border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-white font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:"Start Free Trial"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 md:p-8 border-2 border-green-500 relative shadow-2xl shadow-green-500/10 flex flex-col",children:[l.jsx("div",{className:"absolute top-0 right-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-bl-xl uppercase tracking-wider",children:"Most Popular"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"MDnexa Core"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"For dedicated healthcare providers."})]}),l.jsxs("div",{className:"flex items-baseline gap-1 mb-2",children:[l.jsx("span",{className:"text-4xl font-bold text-slate-900 dark:text-white",children:r?"7.20":"9"}),l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"/ month"})]}),l.jsx("div",{className:"h-6 mb-6",children:r&&l.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Billed 86.40 yearly"})}),l.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Access to 150+ country guidelines","Full access to AI queries","Permanent secure history","Priority processing speed","Dark mode & customization"].map((d,m)=>l.jsxs("li",{className:"flex items-center gap-3 text-slate-700 dark:text-slate-300 text-sm font-medium",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-green-500 min-w-[20px]",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),d]},m))}),l.jsx("button",{onClick:()=>{const d=r?"https://buy.stripe.com/aFa8wPfoocl76fZ3BI5Ne08":"https://buy.stripe.com/9B6cN5dgg1Gt9sbegm5Ne07";window.location.href=n(d)},className:"w-full py-4 rounded-xl bg-green-600 text-white font-bold hover:bg-green-700 transition-all shadow-lg shadow-green-600/25 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:c?"Processing...":"Upgrade to MDnexa Core"})]})]})]})},_w=({onBack:a,onStart:n,onSubscribe:r,isAuthenticated:i,userName:c})=>{const[u,d]=z.useState(!1),[m,p]=z.useState(!1),[g,x]=z.useState(null);La.useEffect(()=>{(async()=>{const{data:{session:v}}=await Ft.auth.getSession();v!=null&&v.user&&x(v.user.id)})()},[]);const b=w=>{if(!g)return w;const v=w.includes("?")?"&":"?";return`${w}${v}client_reference_id=${g}`};return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900 flex flex-col",children:[l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between w-full",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity group",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center overflow-hidden",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Back to Home"})]}),l.jsx("div",{className:"flex items-center gap-6",children:i?l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:["Logged in as ",l.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:c||"User"})]})}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 hidden md:block",children:"Already have an account?"}),l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center py-10 md:py-16 px-4 md:px-6",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-8 md:mb-10",children:[l.jsx("h2",{className:"text-medical-600 dark:text-medical-400 font-semibold tracking-wide uppercase text-sm mb-3",children:"Simple Pricing"}),l.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4 md:mb-6",children:"Invest in your clinical workflow."}),l.jsx("p",{className:"text-base md:text-lg text-slate-600 dark:text-slate-400 leading-relaxed",children:"Guideline-aware clinical intelligence with pathophysiology, drug safety, interactions, and evidence-based reasoning built in."})]}),l.jsx(Px,{userId:g,getStripeUrl:b})]})]})};function Nw(a,n){const r={};return(a[a.length-1]===""?[...a,""]:a).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Ew=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tw={};function ap(a,n){return(Tw.jsx?Cw:Ew).test(a)}const Aw=/[ \t\n\f\r]/g;function Ow(a){return typeof a=="object"?a.type==="text"?rp(a.value):!1:rp(a)}function rp(a){return a.replace(Aw,"")===""}class gl{constructor(n,r,i){this.normal=r,this.property=n,i&&(this.space=i)}}gl.prototype.normal={};gl.prototype.property={};gl.prototype.space=void 0;function Hx(a,n){const r={},i={};for(const c of a)Object.assign(r,c.property),Object.assign(i,c.normal);return new gl(r,i,n)}function Zd(a){return a.toLowerCase()}class on{constructor(n,r){this.attribute=r,this.property=n}}on.prototype.attribute="";on.prototype.booleanish=!1;on.prototype.boolean=!1;on.prototype.commaOrSpaceSeparated=!1;on.prototype.commaSeparated=!1;on.prototype.defined=!1;on.prototype.mustUseProperty=!1;on.prototype.number=!1;on.prototype.overloadedBoolean=!1;on.prototype.property="";on.prototype.spaceSeparated=!1;on.prototype.space=void 0;let Rw=0;const Ae=Jr(),_t=Jr(),eh=Jr(),ie=Jr(),at=Jr(),Ys=Jr(),vn=Jr();function Jr(){return 2**++Rw}const th=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:_t,commaOrSpaceSeparated:vn,commaSeparated:Ys,number:ie,overloadedBoolean:eh,spaceSeparated:at},Symbol.toStringTag,{value:"Module"})),Nd=Object.keys(th);class vh extends on{constructor(n,r,i,c){let u=-1;if(super(n,r),sp(this,"space",c),typeof i=="number")for(;++u<Nd.length;){const d=Nd[u];sp(this,Nd[u],(i&th[d])===th[d])}}}vh.prototype.defined=!0;function sp(a,n,r){r&&(a[n]=r)}function Zs(a){const n={},r={};for(const[i,c]of Object.entries(a.properties)){const u=new vh(i,a.transform(a.attributes||{},i),c,a.space);a.mustUseProperty&&a.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),n[i]=u,r[Zd(i)]=i,r[Zd(u.attribute)]=i}return new gl(n,r,a.space)}const qx=Zs({properties:{ariaActiveDescendant:null,ariaAtomic:_t,ariaAutoComplete:null,ariaBusy:_t,ariaChecked:_t,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:at,ariaCurrent:null,ariaDescribedBy:at,ariaDetails:null,ariaDisabled:_t,ariaDropEffect:at,ariaErrorMessage:null,ariaExpanded:_t,ariaFlowTo:at,ariaGrabbed:_t,ariaHasPopup:null,ariaHidden:_t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:at,ariaLevel:ie,ariaLive:null,ariaModal:_t,ariaMultiLine:_t,ariaMultiSelectable:_t,ariaOrientation:null,ariaOwns:at,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:_t,ariaReadOnly:_t,ariaRelevant:null,ariaRequired:_t,ariaRoleDescription:at,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:_t,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null},transform(a,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function $x(a,n){return n in a?a[n]:n}function Gx(a,n){return $x(a,n.toLowerCase())}const Dw=Zs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ys,acceptCharset:at,accessKey:at,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:at,autoFocus:Ae,autoPlay:Ae,blocking:at,capture:null,charSet:null,checked:Ae,cite:null,className:at,cols:ie,colSpan:null,content:null,contentEditable:_t,controls:Ae,controlsList:at,coords:ie|Ys,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:eh,draggable:_t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:at,height:ie,hidden:eh,high:ie,href:null,hrefLang:null,htmlFor:at,httpEquiv:at,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:at,itemRef:at,itemScope:Ae,itemType:at,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:ie,pattern:null,ping:at,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:at,required:Ae,reversed:Ae,rows:ie,rowSpan:ie,sandbox:at,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:_t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:_t,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:at,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:_t,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:ie,security:null,unselectable:null},space:"html",transform:Gx}),Mw=Zs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:at,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ys,g2:Ys,glyphName:Ys,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:at,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$x}),Vx=Zs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(a,n){return"xlink:"+n.slice(5).toLowerCase()}}),Fx=Zs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Gx}),Yx=Zs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(a,n){return"xml:"+n.slice(3).toLowerCase()}}),Lw={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},zw=/[A-Z]/g,ip=/-[a-z]/g,Bw=/^data[-\w.:]+$/i;function Uw(a,n){const r=Zd(n);let i=n,c=on;if(r in a.normal)return a.property[a.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Bw.test(n)){if(n.charAt(4)==="-"){const u=n.slice(5).replace(ip,Pw);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=n.slice(4);if(!ip.test(u)){let d=u.replace(zw,Iw);d.charAt(0)!=="-"&&(d="-"+d),n="data"+d}}c=vh}return new c(i,n)}function Iw(a){return"-"+a.toLowerCase()}function Pw(a){return a.charAt(1).toUpperCase()}const Hw=Hx([qx,Dw,Vx,Fx,Yx],"html"),wh=Hx([qx,Mw,Vx,Fx,Yx],"svg");function qw(a){return a.join(" ").trim()}var Hs={},Ed,lp;function $w(){if(lp)return Ed;lp=1;var a=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,m=/^\s+|\s+$/g,p=`
`,g="/",x="*",b="",w="comment",v="declaration";function S(A,E){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];E=E||{};var q=1,O=1;function Y(de){var te=de.match(n);te&&(q+=te.length);var L=de.lastIndexOf(p);O=~L?de.length-L:O+de.length}function I(){var de={line:q,column:O};return function(te){return te.position=new D(de),le(),te}}function D(de){this.start=de,this.end={line:q,column:O},this.source=E.source}D.prototype.content=A;function G(de){var te=new Error(E.source+":"+q+":"+O+": "+de);if(te.reason=de,te.filename=E.source,te.line=q,te.column=O,te.source=A,!E.silent)throw te}function Z(de){var te=de.exec(A);if(te){var L=te[0];return Y(L),A=A.slice(L.length),te}}function le(){Z(r)}function re(de){var te;for(de=de||[];te=oe();)te!==!1&&de.push(te);return de}function oe(){var de=I();if(!(g!=A.charAt(0)||x!=A.charAt(1))){for(var te=2;b!=A.charAt(te)&&(x!=A.charAt(te)||g!=A.charAt(te+1));)++te;if(te+=2,b===A.charAt(te-1))return G("End of comment missing");var L=A.slice(2,te-2);return O+=2,Y(L),A=A.slice(te),O+=2,de({type:w,comment:L})}}function W(){var de=I(),te=Z(i);if(te){if(oe(),!Z(c))return G("property missing ':'");var L=Z(u),V=de({type:v,property:_(te[0].replace(a,b)),value:L?_(L[0].replace(a,b)):b});return Z(d),V}}function he(){var de=[];re(de);for(var te;te=W();)te!==!1&&(de.push(te),re(de));return de}return le(),he()}function _(A){return A?A.replace(m,b):b}return Ed=S,Ed}var op;function Gw(){if(op)return Hs;op=1;var a=Hs&&Hs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.default=r;const n=a($w());function r(i,c){let u=null;if(!i||typeof i!="string")return u;const d=(0,n.default)(i),m=typeof c=="function";return d.forEach(p=>{if(p.type!=="declaration")return;const{property:g,value:x}=p;m?c(g,x,p):x&&(u=u||{},u[g]=x)}),u}return Hs}var Ji={},cp;function Vw(){if(cp)return Ji;cp=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.camelCase=void 0;var a=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,u=function(g){return!g||r.test(g)||a.test(g)},d=function(g,x){return x.toUpperCase()},m=function(g,x){return"".concat(x,"-")},p=function(g,x){return x===void 0&&(x={}),u(g)?g:(g=g.toLowerCase(),x.reactCompat?g=g.replace(c,m):g=g.replace(i,m),g.replace(n,d))};return Ji.camelCase=p,Ji}var Xi,up;function Fw(){if(up)return Xi;up=1;var a=Xi&&Xi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},n=a(Gw()),r=Vw();function i(c,u){var d={};return!c||typeof c!="string"||(0,n.default)(c,function(m,p){m&&p&&(d[(0,r.camelCase)(m,u)]=p)}),d}return i.default=i,Xi=i,Xi}var Yw=Fw();const Kw=fl(Yw),Kx=Qx("end"),kh=Qx("start");function Qx(a){return n;function n(r){const i=r&&r.position&&r.position[a]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Qw(a){const n=kh(a),r=Kx(a);if(n&&r)return{start:n,end:r}}function sl(a){return!a||typeof a!="object"?"":"position"in a||"type"in a?dp(a.position):"start"in a||"end"in a?dp(a):"line"in a||"column"in a?nh(a):""}function nh(a){return hp(a&&a.line)+":"+hp(a&&a.column)}function dp(a){return nh(a&&a.start)+"-"+nh(a&&a.end)}function hp(a){return a&&typeof a=="number"?a:1}class Yt extends Error{constructor(n,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let c="",u={},d=!1;if(r&&("line"in r&&"column"in r?u={place:r}:"start"in r&&"end"in r?u={place:r}:"type"in r?u={ancestors:[r],place:r.position}:u={...r}),typeof n=="string"?c=n:!u.cause&&n&&(d=!0,c=n.message,u.cause=n),!u.ruleId&&!u.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?u.ruleId=i:(u.source=i.slice(0,p),u.ruleId=i.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const m=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=c,this.line=m?m.line:void 0,this.name=sl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const jh={}.hasOwnProperty,Ww=new Map,Jw=/[A-Z]/g,Xw=new Set(["table","tbody","thead","tfoot","tr"]),Zw=new Set(["td","th"]),Wx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function e5(a,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let i;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=o5(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=l5(r,n.jsx,n.jsxs)}const c={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:i,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?wh:Hw,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},u=Jx(c,a,void 0);return u&&typeof u!="string"?u:c.create(a,c.Fragment,{children:u||void 0},void 0)}function Jx(a,n,r){if(n.type==="element")return t5(a,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return n5(a,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return r5(a,n,r);if(n.type==="mdxjsEsm")return a5(a,n);if(n.type==="root")return s5(a,n,r);if(n.type==="text")return i5(a,n)}function t5(a,n,r){const i=a.schema;let c=i;n.tagName.toLowerCase()==="svg"&&i.space==="html"&&(c=wh,a.schema=c),a.ancestors.push(n);const u=Zx(a,n.tagName,!1),d=c5(a,n);let m=_h(a,n);return Xw.has(n.tagName)&&(m=m.filter(function(p){return typeof p=="string"?!Ow(p):!0})),Xx(a,d,u,n),Sh(d,m),a.ancestors.pop(),a.schema=i,a.create(n,u,d,r)}function n5(a,n){if(n.data&&n.data.estree&&a.evaluater){const i=n.data.estree.body[0];return i.type,a.evaluater.evaluateExpression(i.expression)}hl(a,n.position)}function a5(a,n){if(n.data&&n.data.estree&&a.evaluater)return a.evaluater.evaluateProgram(n.data.estree);hl(a,n.position)}function r5(a,n,r){const i=a.schema;let c=i;n.name==="svg"&&i.space==="html"&&(c=wh,a.schema=c),a.ancestors.push(n);const u=n.name===null?a.Fragment:Zx(a,n.name,!0),d=u5(a,n),m=_h(a,n);return Xx(a,d,u,n),Sh(d,m),a.ancestors.pop(),a.schema=i,a.create(n,u,d,r)}function s5(a,n,r){const i={};return Sh(i,_h(a,n)),a.create(n,a.Fragment,i,r)}function i5(a,n){return n.value}function Xx(a,n,r,i){typeof r!="string"&&r!==a.Fragment&&a.passNode&&(n.node=i)}function Sh(a,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(a.children=r)}}function l5(a,n,r){return i;function i(c,u,d,m){const g=Array.isArray(d.children)?r:n;return m?g(u,d,m):g(u,d)}}function o5(a,n){return r;function r(i,c,u,d){const m=Array.isArray(u.children),p=kh(i);return n(c,u,d,m,{columnNumber:p?p.column-1:void 0,fileName:a,lineNumber:p?p.line:void 0},void 0)}}function c5(a,n){const r={};let i,c;for(c in n.properties)if(c!=="children"&&jh.call(n.properties,c)){const u=d5(a,c,n.properties[c]);if(u){const[d,m]=u;a.tableCellAlignToStyle&&d==="align"&&typeof m=="string"&&Zw.has(n.tagName)?i=m:r[d]=m}}if(i){const u=r.style||(r.style={});u[a.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function u5(a,n){const r={};for(const i of n.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&a.evaluater){const u=i.data.estree.body[0];u.type;const d=u.expression;d.type;const m=d.properties[0];m.type,Object.assign(r,a.evaluater.evaluateExpression(m.argument))}else hl(a,n.position);else{const c=i.name;let u;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&a.evaluater){const m=i.value.data.estree.body[0];m.type,u=a.evaluater.evaluateExpression(m.expression)}else hl(a,n.position);else u=i.value===null?!0:i.value;r[c]=u}return r}function _h(a,n){const r=[];let i=-1;const c=a.passKeys?new Map:Ww;for(;++i<n.children.length;){const u=n.children[i];let d;if(a.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const g=c.get(p)||0;d=p+"-"+g,c.set(p,g+1)}}const m=Jx(a,u,d);m!==void 0&&r.push(m)}return r}function d5(a,n,r){const i=Uw(a.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Nw(r):qw(r)),i.property==="style"){let c=typeof r=="object"?r:h5(a,String(r));return a.stylePropertyNameCase==="css"&&(c=f5(c)),["style",c]}return[a.elementAttributeNameCase==="react"&&i.space?Lw[i.property]||i.property:i.attribute,r]}}function h5(a,n){try{return Kw(n,{reactCompat:!0})}catch(r){if(a.ignoreInvalidStyle)return{};const i=r,c=new Yt("Cannot parse `style` attribute",{ancestors:a.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=a.filePath||void 0,c.url=Wx+"#cannot-parse-style-attribute",c}}function Zx(a,n,r){let i;if(!r)i={type:"Literal",value:n};else if(n.includes(".")){const c=n.split(".");let u=-1,d;for(;++u<c.length;){const m=ap(c[u])?{type:"Identifier",name:c[u]}:{type:"Literal",value:c[u]};d=d?{type:"MemberExpression",object:d,property:m,computed:!!(u&&m.type==="Literal"),optional:!1}:m}i=d}else i=ap(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(i.type==="Literal"){const c=i.value;return jh.call(a.components,c)?a.components[c]:c}if(a.evaluater)return a.evaluater.evaluateExpression(i);hl(a)}function hl(a,n){const r=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:a.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=a.filePath||void 0,r.url=Wx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function f5(a){const n={};let r;for(r in a)jh.call(a,r)&&(n[m5(r)]=a[r]);return n}function m5(a){let n=a.replace(Jw,g5);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function g5(a){return"-"+a.toLowerCase()}const Cd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},p5={};function x5(a,n){const r=p5,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,c=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return eb(a,i,c)}function eb(a,n,r){if(b5(a)){if("value"in a)return a.type==="html"&&!r?"":a.value;if(n&&"alt"in a&&a.alt)return a.alt;if("children"in a)return fp(a.children,n,r)}return Array.isArray(a)?fp(a,n,r):""}function fp(a,n,r){const i=[];let c=-1;for(;++c<a.length;)i[c]=eb(a[c],n,r);return i.join("")}function b5(a){return!!(a&&typeof a=="object")}const mp=document.createElement("i");function Nh(a){const n="&"+a+";";mp.innerHTML=n;const r=mp.textContent;return r.charCodeAt(r.length-1)===59&&a!=="semi"||r===n?!1:r}function sa(a,n,r,i){const c=a.length;let u=0,d;if(n<0?n=-n>c?0:c+n:n=n>c?c:n,r=r>0?r:0,i.length<1e4)d=Array.from(i),d.unshift(n,r),a.splice(...d);else for(r&&a.splice(n,r);u<i.length;)d=i.slice(u,u+1e4),d.unshift(n,0),a.splice(...d),u+=1e4,n+=1e4}function zn(a,n){return a.length>0?(sa(a,a.length,0,n),a):n}const gp={}.hasOwnProperty;function y5(a){const n={};let r=-1;for(;++r<a.length;)v5(n,a[r]);return n}function v5(a,n){let r;for(r in n){const c=(gp.call(a,r)?a[r]:void 0)||(a[r]={}),u=n[r];let d;if(u)for(d in u){gp.call(c,d)||(c[d]=[]);const m=u[d];w5(c[d],Array.isArray(m)?m:m?[m]:[])}}}function w5(a,n){let r=-1;const i=[];for(;++r<n.length;)(n[r].add==="after"?a:i).push(n[r]);sa(a,0,0,i)}function tb(a,n){const r=Number.parseInt(a,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Ks(a){return a.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ra=br(/[A-Za-z]/),jn=br(/[\dA-Za-z]/),k5=br(/[#-'*+\--9=?A-Z^-~]/);function ah(a){return a!==null&&(a<32||a===127)}const rh=br(/\d/),j5=br(/[\dA-Fa-f]/),S5=br(/[!-/:-@[-`{-~]/);function Se(a){return a!==null&&a<-2}function ln(a){return a!==null&&(a<0||a===32)}function Ve(a){return a===-2||a===-1||a===32}const _5=br(new RegExp("\\p{P}|\\p{S}","u")),N5=br(/\s/);function br(a){return n;function n(r){return r!==null&&r>-1&&a.test(String.fromCharCode(r))}}function ei(a){const n=[];let r=-1,i=0,c=0;for(;++r<a.length;){const u=a.charCodeAt(r);let d="";if(u===37&&jn(a.charCodeAt(r+1))&&jn(a.charCodeAt(r+2)))c=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const m=a.charCodeAt(r+1);u<56320&&m>56319&&m<57344?(d=String.fromCharCode(u,m),c=1):d=""}else d=String.fromCharCode(u);d&&(n.push(a.slice(i,r),encodeURIComponent(d)),i=r+c+1,d=""),c&&(r+=c,c=0)}return n.join("")+a.slice(i)}function rt(a,n,r,i){const c=i?i-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(p){return Ve(p)?(a.enter(r),m(p)):n(p)}function m(p){return Ve(p)&&u++<c?(a.consume(p),m):(a.exit(r),n(p))}}const E5={tokenize:C5};function C5(a){const n=a.attempt(this.parser.constructs.contentInitial,i,c);let r;return n;function i(m){if(m===null){a.consume(m);return}return a.enter("lineEnding"),a.consume(m),a.exit("lineEnding"),rt(a,n,"linePrefix")}function c(m){return a.enter("paragraph"),u(m)}function u(m){const p=a.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=p),r=p,d(m)}function d(m){if(m===null){a.exit("chunkText"),a.exit("paragraph"),a.consume(m);return}return Se(m)?(a.consume(m),a.exit("chunkText"),u):(a.consume(m),d)}}const T5={tokenize:A5},pp={tokenize:O5};function A5(a){const n=this,r=[];let i=0,c,u,d;return m;function m(O){if(i<r.length){const Y=r[i];return n.containerState=Y[1],a.attempt(Y[0].continuation,p,g)(O)}return g(O)}function p(O){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,c&&q();const Y=n.events.length;let I=Y,D;for(;I--;)if(n.events[I][0]==="exit"&&n.events[I][1].type==="chunkFlow"){D=n.events[I][1].end;break}E(i);let G=Y;for(;G<n.events.length;)n.events[G][1].end={...D},G++;return sa(n.events,I+1,0,n.events.slice(Y)),n.events.length=G,g(O)}return m(O)}function g(O){if(i===r.length){if(!c)return w(O);if(c.currentConstruct&&c.currentConstruct.concrete)return S(O);n.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return n.containerState={},a.check(pp,x,b)(O)}function x(O){return c&&q(),E(i),w(O)}function b(O){return n.parser.lazy[n.now().line]=i!==r.length,d=n.now().offset,S(O)}function w(O){return n.containerState={},a.attempt(pp,v,S)(O)}function v(O){return i++,r.push([n.currentConstruct,n.containerState]),w(O)}function S(O){if(O===null){c&&q(),E(0),a.consume(O);return}return c=c||n.parser.flow(n.now()),a.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:u}),_(O)}function _(O){if(O===null){A(a.exit("chunkFlow"),!0),E(0),a.consume(O);return}return Se(O)?(a.consume(O),A(a.exit("chunkFlow")),i=0,n.interrupt=void 0,m):(a.consume(O),_)}function A(O,Y){const I=n.sliceStream(O);if(Y&&I.push(null),O.previous=u,u&&(u.next=O),u=O,c.defineSkip(O.start),c.write(I),n.parser.lazy[O.start.line]){let D=c.events.length;for(;D--;)if(c.events[D][1].start.offset<d&&(!c.events[D][1].end||c.events[D][1].end.offset>d))return;const G=n.events.length;let Z=G,le,re;for(;Z--;)if(n.events[Z][0]==="exit"&&n.events[Z][1].type==="chunkFlow"){if(le){re=n.events[Z][1].end;break}le=!0}for(E(i),D=G;D<n.events.length;)n.events[D][1].end={...re},D++;sa(n.events,Z+1,0,n.events.slice(G)),n.events.length=D}}function E(O){let Y=r.length;for(;Y-- >O;){const I=r[Y];n.containerState=I[1],I[0].exit.call(n,a)}r.length=O}function q(){c.write([null]),u=void 0,c=void 0,n.containerState._closeFlow=void 0}}function O5(a,n,r){return rt(a,a.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xp(a){if(a===null||ln(a)||N5(a))return 1;if(_5(a))return 2}function Eh(a,n,r){const i=[];let c=-1;for(;++c<a.length;){const u=a[c].resolveAll;u&&!i.includes(u)&&(n=u(n,r),i.push(u))}return n}const sh={name:"attention",resolveAll:R5,tokenize:D5};function R5(a,n){let r=-1,i,c,u,d,m,p,g,x;for(;++r<a.length;)if(a[r][0]==="enter"&&a[r][1].type==="attentionSequence"&&a[r][1]._close){for(i=r;i--;)if(a[i][0]==="exit"&&a[i][1].type==="attentionSequence"&&a[i][1]._open&&n.sliceSerialize(a[i][1]).charCodeAt(0)===n.sliceSerialize(a[r][1]).charCodeAt(0)){if((a[i][1]._close||a[r][1]._open)&&(a[r][1].end.offset-a[r][1].start.offset)%3&&!((a[i][1].end.offset-a[i][1].start.offset+a[r][1].end.offset-a[r][1].start.offset)%3))continue;p=a[i][1].end.offset-a[i][1].start.offset>1&&a[r][1].end.offset-a[r][1].start.offset>1?2:1;const b={...a[i][1].end},w={...a[r][1].start};bp(b,-p),bp(w,p),d={type:p>1?"strongSequence":"emphasisSequence",start:b,end:{...a[i][1].end}},m={type:p>1?"strongSequence":"emphasisSequence",start:{...a[r][1].start},end:w},u={type:p>1?"strongText":"emphasisText",start:{...a[i][1].end},end:{...a[r][1].start}},c={type:p>1?"strong":"emphasis",start:{...d.start},end:{...m.end}},a[i][1].end={...d.start},a[r][1].start={...m.end},g=[],a[i][1].end.offset-a[i][1].start.offset&&(g=zn(g,[["enter",a[i][1],n],["exit",a[i][1],n]])),g=zn(g,[["enter",c,n],["enter",d,n],["exit",d,n],["enter",u,n]]),g=zn(g,Eh(n.parser.constructs.insideSpan.null,a.slice(i+1,r),n)),g=zn(g,[["exit",u,n],["enter",m,n],["exit",m,n],["exit",c,n]]),a[r][1].end.offset-a[r][1].start.offset?(x=2,g=zn(g,[["enter",a[r][1],n],["exit",a[r][1],n]])):x=0,sa(a,i-1,r-i+3,g),r=i+g.length-x-2;break}}for(r=-1;++r<a.length;)a[r][1].type==="attentionSequence"&&(a[r][1].type="data");return a}function D5(a,n){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,c=xp(i);let u;return d;function d(p){return u=p,a.enter("attentionSequence"),m(p)}function m(p){if(p===u)return a.consume(p),m;const g=a.exit("attentionSequence"),x=xp(p),b=!x||x===2&&c||r.includes(p),w=!c||c===2&&x||r.includes(i);return g._open=!!(u===42?b:b&&(c||!w)),g._close=!!(u===42?w:w&&(x||!b)),n(p)}}function bp(a,n){a.column+=n,a.offset+=n,a._bufferIndex+=n}const M5={name:"autolink",tokenize:L5};function L5(a,n,r){let i=0;return c;function c(v){return a.enter("autolink"),a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.enter("autolinkProtocol"),u}function u(v){return ra(v)?(a.consume(v),d):v===64?r(v):g(v)}function d(v){return v===43||v===45||v===46||jn(v)?(i=1,m(v)):g(v)}function m(v){return v===58?(a.consume(v),i=0,p):(v===43||v===45||v===46||jn(v))&&i++<32?(a.consume(v),m):(i=0,g(v))}function p(v){return v===62?(a.exit("autolinkProtocol"),a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.exit("autolink"),n):v===null||v===32||v===60||ah(v)?r(v):(a.consume(v),p)}function g(v){return v===64?(a.consume(v),x):k5(v)?(a.consume(v),g):r(v)}function x(v){return jn(v)?b(v):r(v)}function b(v){return v===46?(a.consume(v),i=0,x):v===62?(a.exit("autolinkProtocol").type="autolinkEmail",a.enter("autolinkMarker"),a.consume(v),a.exit("autolinkMarker"),a.exit("autolink"),n):w(v)}function w(v){if((v===45||jn(v))&&i++<63){const S=v===45?w:b;return a.consume(v),S}return r(v)}}const ac={partial:!0,tokenize:z5};function z5(a,n,r){return i;function i(u){return Ve(u)?rt(a,c,"linePrefix")(u):c(u)}function c(u){return u===null||Se(u)?n(u):r(u)}}const nb={continuation:{tokenize:U5},exit:I5,name:"blockQuote",tokenize:B5};function B5(a,n,r){const i=this;return c;function c(d){if(d===62){const m=i.containerState;return m.open||(a.enter("blockQuote",{_container:!0}),m.open=!0),a.enter("blockQuotePrefix"),a.enter("blockQuoteMarker"),a.consume(d),a.exit("blockQuoteMarker"),u}return r(d)}function u(d){return Ve(d)?(a.enter("blockQuotePrefixWhitespace"),a.consume(d),a.exit("blockQuotePrefixWhitespace"),a.exit("blockQuotePrefix"),n):(a.exit("blockQuotePrefix"),n(d))}}function U5(a,n,r){const i=this;return c;function c(d){return Ve(d)?rt(a,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return a.attempt(nb,n,r)(d)}}function I5(a){a.exit("blockQuote")}const ab={name:"characterEscape",tokenize:P5};function P5(a,n,r){return i;function i(u){return a.enter("characterEscape"),a.enter("escapeMarker"),a.consume(u),a.exit("escapeMarker"),c}function c(u){return S5(u)?(a.enter("characterEscapeValue"),a.consume(u),a.exit("characterEscapeValue"),a.exit("characterEscape"),n):r(u)}}const rb={name:"characterReference",tokenize:H5};function H5(a,n,r){const i=this;let c=0,u,d;return m;function m(b){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(b),a.exit("characterReferenceMarker"),p}function p(b){return b===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(b),a.exit("characterReferenceMarkerNumeric"),g):(a.enter("characterReferenceValue"),u=31,d=jn,x(b))}function g(b){return b===88||b===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(b),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),u=6,d=j5,x):(a.enter("characterReferenceValue"),u=7,d=rh,x(b))}function x(b){if(b===59&&c){const w=a.exit("characterReferenceValue");return d===jn&&!Nh(i.sliceSerialize(w))?r(b):(a.enter("characterReferenceMarker"),a.consume(b),a.exit("characterReferenceMarker"),a.exit("characterReference"),n)}return d(b)&&c++<u?(a.consume(b),x):r(b)}}const yp={partial:!0,tokenize:$5},vp={concrete:!0,name:"codeFenced",tokenize:q5};function q5(a,n,r){const i=this,c={partial:!0,tokenize:I};let u=0,d=0,m;return p;function p(D){return g(D)}function g(D){const G=i.events[i.events.length-1];return u=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,m=D,a.enter("codeFenced"),a.enter("codeFencedFence"),a.enter("codeFencedFenceSequence"),x(D)}function x(D){return D===m?(d++,a.consume(D),x):d<3?r(D):(a.exit("codeFencedFenceSequence"),Ve(D)?rt(a,b,"whitespace")(D):b(D))}function b(D){return D===null||Se(D)?(a.exit("codeFencedFence"),i.interrupt?n(D):a.check(yp,_,Y)(D)):(a.enter("codeFencedFenceInfo"),a.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===null||Se(D)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),b(D)):Ve(D)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),rt(a,v,"whitespace")(D)):D===96&&D===m?r(D):(a.consume(D),w)}function v(D){return D===null||Se(D)?b(D):(a.enter("codeFencedFenceMeta"),a.enter("chunkString",{contentType:"string"}),S(D))}function S(D){return D===null||Se(D)?(a.exit("chunkString"),a.exit("codeFencedFenceMeta"),b(D)):D===96&&D===m?r(D):(a.consume(D),S)}function _(D){return a.attempt(c,Y,A)(D)}function A(D){return a.enter("lineEnding"),a.consume(D),a.exit("lineEnding"),E}function E(D){return u>0&&Ve(D)?rt(a,q,"linePrefix",u+1)(D):q(D)}function q(D){return D===null||Se(D)?a.check(yp,_,Y)(D):(a.enter("codeFlowValue"),O(D))}function O(D){return D===null||Se(D)?(a.exit("codeFlowValue"),q(D)):(a.consume(D),O)}function Y(D){return a.exit("codeFenced"),n(D)}function I(D,G,Z){let le=0;return re;function re(te){return D.enter("lineEnding"),D.consume(te),D.exit("lineEnding"),oe}function oe(te){return D.enter("codeFencedFence"),Ve(te)?rt(D,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):W(te)}function W(te){return te===m?(D.enter("codeFencedFenceSequence"),he(te)):Z(te)}function he(te){return te===m?(le++,D.consume(te),he):le>=d?(D.exit("codeFencedFenceSequence"),Ve(te)?rt(D,de,"whitespace")(te):de(te)):Z(te)}function de(te){return te===null||Se(te)?(D.exit("codeFencedFence"),G(te)):Z(te)}}}function $5(a,n,r){const i=this;return c;function c(d){return d===null?r(d):(a.enter("lineEnding"),a.consume(d),a.exit("lineEnding"),u)}function u(d){return i.parser.lazy[i.now().line]?r(d):n(d)}}const Td={name:"codeIndented",tokenize:V5},G5={partial:!0,tokenize:F5};function V5(a,n,r){const i=this;return c;function c(g){return a.enter("codeIndented"),rt(a,u,"linePrefix",5)(g)}function u(g){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?d(g):r(g)}function d(g){return g===null?p(g):Se(g)?a.attempt(G5,d,p)(g):(a.enter("codeFlowValue"),m(g))}function m(g){return g===null||Se(g)?(a.exit("codeFlowValue"),d(g)):(a.consume(g),m)}function p(g){return a.exit("codeIndented"),n(g)}}function F5(a,n,r){const i=this;return c;function c(d){return i.parser.lazy[i.now().line]?r(d):Se(d)?(a.enter("lineEnding"),a.consume(d),a.exit("lineEnding"),c):rt(a,u,"linePrefix",5)(d)}function u(d){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?n(d):Se(d)?c(d):r(d)}}const Y5={name:"codeText",previous:Q5,resolve:K5,tokenize:W5};function K5(a){let n=a.length-4,r=3,i,c;if((a[r][1].type==="lineEnding"||a[r][1].type==="space")&&(a[n][1].type==="lineEnding"||a[n][1].type==="space")){for(i=r;++i<n;)if(a[i][1].type==="codeTextData"){a[r][1].type="codeTextPadding",a[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(i=r-1,n++;++i<=n;)c===void 0?i!==n&&a[i][1].type!=="lineEnding"&&(c=i):(i===n||a[i][1].type==="lineEnding")&&(a[c][1].type="codeTextData",i!==c+2&&(a[c][1].end=a[i-1][1].end,a.splice(c+2,i-c-2),n-=i-c-2,i=c+2),c=void 0);return a}function Q5(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function W5(a,n,r){let i=0,c,u;return d;function d(b){return a.enter("codeText"),a.enter("codeTextSequence"),m(b)}function m(b){return b===96?(a.consume(b),i++,m):(a.exit("codeTextSequence"),p(b))}function p(b){return b===null?r(b):b===32?(a.enter("space"),a.consume(b),a.exit("space"),p):b===96?(u=a.enter("codeTextSequence"),c=0,x(b)):Se(b)?(a.enter("lineEnding"),a.consume(b),a.exit("lineEnding"),p):(a.enter("codeTextData"),g(b))}function g(b){return b===null||b===32||b===96||Se(b)?(a.exit("codeTextData"),p(b)):(a.consume(b),g)}function x(b){return b===96?(a.consume(b),c++,x):c===i?(a.exit("codeTextSequence"),a.exit("codeText"),n(b)):(u.type="codeTextData",g(b))}}class J5{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(n,i):n>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(n,r,i){const c=r||0;this.setCursor(Math.trunc(n));const u=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return i&&Zi(this.left,i),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Zi(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Zi(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);Zi(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Zi(this.left,r.reverse())}}}function Zi(a,n){let r=0;if(n.length<1e4)a.push(...n);else for(;r<n.length;)a.push(...n.slice(r,r+1e4)),r+=1e4}function sb(a){const n={};let r=-1,i,c,u,d,m,p,g;const x=new J5(a);for(;++r<x.length;){for(;r in n;)r=n[r];if(i=x.get(r),r&&i[1].type==="chunkFlow"&&x.get(r-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,X5(x,r)),r=n[r],g=!0);else if(i[1]._container){for(u=r,c=void 0;u--;)if(d=x.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(c&&(x.get(c)[1].type="lineEndingBlank"),d[1].type="lineEnding",c=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;c&&(i[1].end={...x.get(c)[1].start},m=x.slice(c,r),m.unshift(i),x.splice(c,r-c+1,m))}}return sa(a,0,Number.POSITIVE_INFINITY,x.slice(0)),!g}function X5(a,n){const r=a.get(n)[1],i=a.get(n)[2];let c=n-1;const u=[];let d=r._tokenizer;d||(d=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const m=d.events,p=[],g={};let x,b,w=-1,v=r,S=0,_=0;const A=[_];for(;v;){for(;a.get(++c)[1]!==v;);u.push(c),v._tokenizer||(x=i.sliceStream(v),v.next||x.push(null),b&&d.defineSkip(v.start),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(x),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),b=v,v=v.next}for(v=r;++w<m.length;)m[w][0]==="exit"&&m[w-1][0]==="enter"&&m[w][1].type===m[w-1][1].type&&m[w][1].start.line!==m[w][1].end.line&&(_=w+1,A.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(d.events=[],v?(v._tokenizer=void 0,v.previous=void 0):A.pop(),w=A.length;w--;){const E=m.slice(A[w],A[w+1]),q=u.pop();p.push([q,q+E.length-1]),a.splice(q,2,E)}for(p.reverse(),w=-1;++w<p.length;)g[S+p[w][0]]=S+p[w][1],S+=p[w][1]-p[w][0]-1;return g}const Z5={resolve:tk,tokenize:nk},ek={partial:!0,tokenize:ak};function tk(a){return sb(a),a}function nk(a,n){let r;return i;function i(m){return a.enter("content"),r=a.enter("chunkContent",{contentType:"content"}),c(m)}function c(m){return m===null?u(m):Se(m)?a.check(ek,d,u)(m):(a.consume(m),c)}function u(m){return a.exit("chunkContent"),a.exit("content"),n(m)}function d(m){return a.consume(m),a.exit("chunkContent"),r.next=a.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,c}}function ak(a,n,r){const i=this;return c;function c(d){return a.exit("chunkContent"),a.enter("lineEnding"),a.consume(d),a.exit("lineEnding"),rt(a,u,"linePrefix")}function u(d){if(d===null||Se(d))return r(d);const m=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?n(d):a.interrupt(i.parser.constructs.flow,r,n)(d)}}function ib(a,n,r,i,c,u,d,m,p){const g=p||Number.POSITIVE_INFINITY;let x=0;return b;function b(E){return E===60?(a.enter(i),a.enter(c),a.enter(u),a.consume(E),a.exit(u),w):E===null||E===32||E===41||ah(E)?r(E):(a.enter(i),a.enter(d),a.enter(m),a.enter("chunkString",{contentType:"string"}),_(E))}function w(E){return E===62?(a.enter(u),a.consume(E),a.exit(u),a.exit(c),a.exit(i),n):(a.enter(m),a.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(a.exit("chunkString"),a.exit(m),w(E)):E===null||E===60||Se(E)?r(E):(a.consume(E),E===92?S:v)}function S(E){return E===60||E===62||E===92?(a.consume(E),v):v(E)}function _(E){return!x&&(E===null||E===41||ln(E))?(a.exit("chunkString"),a.exit(m),a.exit(d),a.exit(i),n(E)):x<g&&E===40?(a.consume(E),x++,_):E===41?(a.consume(E),x--,_):E===null||E===32||E===40||ah(E)?r(E):(a.consume(E),E===92?A:_)}function A(E){return E===40||E===41||E===92?(a.consume(E),_):_(E)}}function lb(a,n,r,i,c,u){const d=this;let m=0,p;return g;function g(v){return a.enter(i),a.enter(c),a.consume(v),a.exit(c),a.enter(u),x}function x(v){return m>999||v===null||v===91||v===93&&!p||v===94&&!m&&"_hiddenFootnoteSupport"in d.parser.constructs?r(v):v===93?(a.exit(u),a.enter(c),a.consume(v),a.exit(c),a.exit(i),n):Se(v)?(a.enter("lineEnding"),a.consume(v),a.exit("lineEnding"),x):(a.enter("chunkString",{contentType:"string"}),b(v))}function b(v){return v===null||v===91||v===93||Se(v)||m++>999?(a.exit("chunkString"),x(v)):(a.consume(v),p||(p=!Ve(v)),v===92?w:b)}function w(v){return v===91||v===92||v===93?(a.consume(v),m++,b):b(v)}}function ob(a,n,r,i,c,u){let d;return m;function m(w){return w===34||w===39||w===40?(a.enter(i),a.enter(c),a.consume(w),a.exit(c),d=w===40?41:w,p):r(w)}function p(w){return w===d?(a.enter(c),a.consume(w),a.exit(c),a.exit(i),n):(a.enter(u),g(w))}function g(w){return w===d?(a.exit(u),p(d)):w===null?r(w):Se(w)?(a.enter("lineEnding"),a.consume(w),a.exit("lineEnding"),rt(a,g,"linePrefix")):(a.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===d||w===null||Se(w)?(a.exit("chunkString"),g(w)):(a.consume(w),w===92?b:x)}function b(w){return w===d||w===92?(a.consume(w),x):x(w)}}function il(a,n){let r;return i;function i(c){return Se(c)?(a.enter("lineEnding"),a.consume(c),a.exit("lineEnding"),r=!0,i):Ve(c)?rt(a,i,r?"linePrefix":"lineSuffix")(c):n(c)}}const rk={name:"definition",tokenize:ik},sk={partial:!0,tokenize:lk};function ik(a,n,r){const i=this;let c;return u;function u(v){return a.enter("definition"),d(v)}function d(v){return lb.call(i,a,m,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function m(v){return c=Ks(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(a.enter("definitionMarker"),a.consume(v),a.exit("definitionMarker"),p):r(v)}function p(v){return ln(v)?il(a,g)(v):g(v)}function g(v){return ib(a,x,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function x(v){return a.attempt(sk,b,b)(v)}function b(v){return Ve(v)?rt(a,w,"whitespace")(v):w(v)}function w(v){return v===null||Se(v)?(a.exit("definition"),i.parser.defined.push(c),n(v)):r(v)}}function lk(a,n,r){return i;function i(m){return ln(m)?il(a,c)(m):r(m)}function c(m){return ob(a,u,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function u(m){return Ve(m)?rt(a,d,"whitespace")(m):d(m)}function d(m){return m===null||Se(m)?n(m):r(m)}}const ok={name:"hardBreakEscape",tokenize:ck};function ck(a,n,r){return i;function i(u){return a.enter("hardBreakEscape"),a.consume(u),c}function c(u){return Se(u)?(a.exit("hardBreakEscape"),n(u)):r(u)}}const uk={name:"headingAtx",resolve:dk,tokenize:hk};function dk(a,n){let r=a.length-2,i=3,c,u;return a[i][1].type==="whitespace"&&(i+=2),r-2>i&&a[r][1].type==="whitespace"&&(r-=2),a[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&a[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(c={type:"atxHeadingText",start:a[i][1].start,end:a[r][1].end},u={type:"chunkText",start:a[i][1].start,end:a[r][1].end,contentType:"text"},sa(a,i,r-i+1,[["enter",c,n],["enter",u,n],["exit",u,n],["exit",c,n]])),a}function hk(a,n,r){let i=0;return c;function c(x){return a.enter("atxHeading"),u(x)}function u(x){return a.enter("atxHeadingSequence"),d(x)}function d(x){return x===35&&i++<6?(a.consume(x),d):x===null||ln(x)?(a.exit("atxHeadingSequence"),m(x)):r(x)}function m(x){return x===35?(a.enter("atxHeadingSequence"),p(x)):x===null||Se(x)?(a.exit("atxHeading"),n(x)):Ve(x)?rt(a,m,"whitespace")(x):(a.enter("atxHeadingText"),g(x))}function p(x){return x===35?(a.consume(x),p):(a.exit("atxHeadingSequence"),m(x))}function g(x){return x===null||x===35||ln(x)?(a.exit("atxHeadingText"),m(x)):(a.consume(x),g)}}const fk=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wp=["pre","script","style","textarea"],mk={concrete:!0,name:"htmlFlow",resolveTo:xk,tokenize:bk},gk={partial:!0,tokenize:vk},pk={partial:!0,tokenize:yk};function xk(a){let n=a.length;for(;n--&&!(a[n][0]==="enter"&&a[n][1].type==="htmlFlow"););return n>1&&a[n-2][1].type==="linePrefix"&&(a[n][1].start=a[n-2][1].start,a[n+1][1].start=a[n-2][1].start,a.splice(n-2,2)),a}function bk(a,n,r){const i=this;let c,u,d,m,p;return g;function g(j){return x(j)}function x(j){return a.enter("htmlFlow"),a.enter("htmlFlowData"),a.consume(j),b}function b(j){return j===33?(a.consume(j),w):j===47?(a.consume(j),u=!0,_):j===63?(a.consume(j),c=3,i.interrupt?n:N):ra(j)?(a.consume(j),d=String.fromCharCode(j),A):r(j)}function w(j){return j===45?(a.consume(j),c=2,v):j===91?(a.consume(j),c=5,m=0,S):ra(j)?(a.consume(j),c=4,i.interrupt?n:N):r(j)}function v(j){return j===45?(a.consume(j),i.interrupt?n:N):r(j)}function S(j){const U="CDATA[";return j===U.charCodeAt(m++)?(a.consume(j),m===U.length?i.interrupt?n:W:S):r(j)}function _(j){return ra(j)?(a.consume(j),d=String.fromCharCode(j),A):r(j)}function A(j){if(j===null||j===47||j===62||ln(j)){const U=j===47,Q=d.toLowerCase();return!U&&!u&&wp.includes(Q)?(c=1,i.interrupt?n(j):W(j)):fk.includes(d.toLowerCase())?(c=6,U?(a.consume(j),E):i.interrupt?n(j):W(j)):(c=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(j):u?q(j):O(j))}return j===45||jn(j)?(a.consume(j),d+=String.fromCharCode(j),A):r(j)}function E(j){return j===62?(a.consume(j),i.interrupt?n:W):r(j)}function q(j){return Ve(j)?(a.consume(j),q):re(j)}function O(j){return j===47?(a.consume(j),re):j===58||j===95||ra(j)?(a.consume(j),Y):Ve(j)?(a.consume(j),O):re(j)}function Y(j){return j===45||j===46||j===58||j===95||jn(j)?(a.consume(j),Y):I(j)}function I(j){return j===61?(a.consume(j),D):Ve(j)?(a.consume(j),I):O(j)}function D(j){return j===null||j===60||j===61||j===62||j===96?r(j):j===34||j===39?(a.consume(j),p=j,G):Ve(j)?(a.consume(j),D):Z(j)}function G(j){return j===p?(a.consume(j),p=null,le):j===null||Se(j)?r(j):(a.consume(j),G)}function Z(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||ln(j)?I(j):(a.consume(j),Z)}function le(j){return j===47||j===62||Ve(j)?O(j):r(j)}function re(j){return j===62?(a.consume(j),oe):r(j)}function oe(j){return j===null||Se(j)?W(j):Ve(j)?(a.consume(j),oe):r(j)}function W(j){return j===45&&c===2?(a.consume(j),L):j===60&&c===1?(a.consume(j),V):j===62&&c===4?(a.consume(j),T):j===63&&c===3?(a.consume(j),N):j===93&&c===5?(a.consume(j),fe):Se(j)&&(c===6||c===7)?(a.exit("htmlFlowData"),a.check(gk,M,he)(j)):j===null||Se(j)?(a.exit("htmlFlowData"),he(j)):(a.consume(j),W)}function he(j){return a.check(pk,de,M)(j)}function de(j){return a.enter("lineEnding"),a.consume(j),a.exit("lineEnding"),te}function te(j){return j===null||Se(j)?he(j):(a.enter("htmlFlowData"),W(j))}function L(j){return j===45?(a.consume(j),N):W(j)}function V(j){return j===47?(a.consume(j),d="",ee):W(j)}function ee(j){if(j===62){const U=d.toLowerCase();return wp.includes(U)?(a.consume(j),T):W(j)}return ra(j)&&d.length<8?(a.consume(j),d+=String.fromCharCode(j),ee):W(j)}function fe(j){return j===93?(a.consume(j),N):W(j)}function N(j){return j===62?(a.consume(j),T):j===45&&c===2?(a.consume(j),N):W(j)}function T(j){return j===null||Se(j)?(a.exit("htmlFlowData"),M(j)):(a.consume(j),T)}function M(j){return a.exit("htmlFlow"),n(j)}}function yk(a,n,r){const i=this;return c;function c(d){return Se(d)?(a.enter("lineEnding"),a.consume(d),a.exit("lineEnding"),u):r(d)}function u(d){return i.parser.lazy[i.now().line]?r(d):n(d)}}function vk(a,n,r){return i;function i(c){return a.enter("lineEnding"),a.consume(c),a.exit("lineEnding"),a.attempt(ac,n,r)}}const wk={name:"htmlText",tokenize:kk};function kk(a,n,r){const i=this;let c,u,d;return m;function m(N){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(N),p}function p(N){return N===33?(a.consume(N),g):N===47?(a.consume(N),I):N===63?(a.consume(N),O):ra(N)?(a.consume(N),Z):r(N)}function g(N){return N===45?(a.consume(N),x):N===91?(a.consume(N),u=0,S):ra(N)?(a.consume(N),q):r(N)}function x(N){return N===45?(a.consume(N),v):r(N)}function b(N){return N===null?r(N):N===45?(a.consume(N),w):Se(N)?(d=b,V(N)):(a.consume(N),b)}function w(N){return N===45?(a.consume(N),v):b(N)}function v(N){return N===62?L(N):N===45?w(N):b(N)}function S(N){const T="CDATA[";return N===T.charCodeAt(u++)?(a.consume(N),u===T.length?_:S):r(N)}function _(N){return N===null?r(N):N===93?(a.consume(N),A):Se(N)?(d=_,V(N)):(a.consume(N),_)}function A(N){return N===93?(a.consume(N),E):_(N)}function E(N){return N===62?L(N):N===93?(a.consume(N),E):_(N)}function q(N){return N===null||N===62?L(N):Se(N)?(d=q,V(N)):(a.consume(N),q)}function O(N){return N===null?r(N):N===63?(a.consume(N),Y):Se(N)?(d=O,V(N)):(a.consume(N),O)}function Y(N){return N===62?L(N):O(N)}function I(N){return ra(N)?(a.consume(N),D):r(N)}function D(N){return N===45||jn(N)?(a.consume(N),D):G(N)}function G(N){return Se(N)?(d=G,V(N)):Ve(N)?(a.consume(N),G):L(N)}function Z(N){return N===45||jn(N)?(a.consume(N),Z):N===47||N===62||ln(N)?le(N):r(N)}function le(N){return N===47?(a.consume(N),L):N===58||N===95||ra(N)?(a.consume(N),re):Se(N)?(d=le,V(N)):Ve(N)?(a.consume(N),le):L(N)}function re(N){return N===45||N===46||N===58||N===95||jn(N)?(a.consume(N),re):oe(N)}function oe(N){return N===61?(a.consume(N),W):Se(N)?(d=oe,V(N)):Ve(N)?(a.consume(N),oe):le(N)}function W(N){return N===null||N===60||N===61||N===62||N===96?r(N):N===34||N===39?(a.consume(N),c=N,he):Se(N)?(d=W,V(N)):Ve(N)?(a.consume(N),W):(a.consume(N),de)}function he(N){return N===c?(a.consume(N),c=void 0,te):N===null?r(N):Se(N)?(d=he,V(N)):(a.consume(N),he)}function de(N){return N===null||N===34||N===39||N===60||N===61||N===96?r(N):N===47||N===62||ln(N)?le(N):(a.consume(N),de)}function te(N){return N===47||N===62||ln(N)?le(N):r(N)}function L(N){return N===62?(a.consume(N),a.exit("htmlTextData"),a.exit("htmlText"),n):r(N)}function V(N){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(N),a.exit("lineEnding"),ee}function ee(N){return Ve(N)?rt(a,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):fe(N)}function fe(N){return a.enter("htmlTextData"),d(N)}}const Ch={name:"labelEnd",resolveAll:Nk,resolveTo:Ek,tokenize:Ck},jk={tokenize:Tk},Sk={tokenize:Ak},_k={tokenize:Ok};function Nk(a){let n=-1;const r=[];for(;++n<a.length;){const i=a[n][1];if(r.push(a[n]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const c=i.type==="labelImage"?4:2;i.type="data",n+=c}}return a.length!==r.length&&sa(a,0,a.length,r),a}function Ek(a,n){let r=a.length,i=0,c,u,d,m;for(;r--;)if(c=a[r][1],u){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;a[r][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(d){if(a[r][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(u=r,c.type!=="labelLink")){i=2;break}}else c.type==="labelEnd"&&(d=r);const p={type:a[u][1].type==="labelLink"?"link":"image",start:{...a[u][1].start},end:{...a[a.length-1][1].end}},g={type:"label",start:{...a[u][1].start},end:{...a[d][1].end}},x={type:"labelText",start:{...a[u+i+2][1].end},end:{...a[d-2][1].start}};return m=[["enter",p,n],["enter",g,n]],m=zn(m,a.slice(u+1,u+i+3)),m=zn(m,[["enter",x,n]]),m=zn(m,Eh(n.parser.constructs.insideSpan.null,a.slice(u+i+4,d-3),n)),m=zn(m,[["exit",x,n],a[d-2],a[d-1],["exit",g,n]]),m=zn(m,a.slice(d+1)),m=zn(m,[["exit",p,n]]),sa(a,u,a.length,m),a}function Ck(a,n,r){const i=this;let c=i.events.length,u,d;for(;c--;)if((i.events[c][1].type==="labelImage"||i.events[c][1].type==="labelLink")&&!i.events[c][1]._balanced){u=i.events[c][1];break}return m;function m(w){return u?u._inactive?b(w):(d=i.parser.defined.includes(Ks(i.sliceSerialize({start:u.end,end:i.now()}))),a.enter("labelEnd"),a.enter("labelMarker"),a.consume(w),a.exit("labelMarker"),a.exit("labelEnd"),p):r(w)}function p(w){return w===40?a.attempt(jk,x,d?x:b)(w):w===91?a.attempt(Sk,x,d?g:b)(w):d?x(w):b(w)}function g(w){return a.attempt(_k,x,b)(w)}function x(w){return n(w)}function b(w){return u._balanced=!0,r(w)}}function Tk(a,n,r){return i;function i(b){return a.enter("resource"),a.enter("resourceMarker"),a.consume(b),a.exit("resourceMarker"),c}function c(b){return ln(b)?il(a,u)(b):u(b)}function u(b){return b===41?x(b):ib(a,d,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function d(b){return ln(b)?il(a,p)(b):x(b)}function m(b){return r(b)}function p(b){return b===34||b===39||b===40?ob(a,g,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function g(b){return ln(b)?il(a,x)(b):x(b)}function x(b){return b===41?(a.enter("resourceMarker"),a.consume(b),a.exit("resourceMarker"),a.exit("resource"),n):r(b)}}function Ak(a,n,r){const i=this;return c;function c(m){return lb.call(i,a,u,d,"reference","referenceMarker","referenceString")(m)}function u(m){return i.parser.defined.includes(Ks(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(m):r(m)}function d(m){return r(m)}}function Ok(a,n,r){return i;function i(u){return a.enter("reference"),a.enter("referenceMarker"),a.consume(u),a.exit("referenceMarker"),c}function c(u){return u===93?(a.enter("referenceMarker"),a.consume(u),a.exit("referenceMarker"),a.exit("reference"),n):r(u)}}const Rk={name:"labelStartImage",resolveAll:Ch.resolveAll,tokenize:Dk};function Dk(a,n,r){const i=this;return c;function c(m){return a.enter("labelImage"),a.enter("labelImageMarker"),a.consume(m),a.exit("labelImageMarker"),u}function u(m){return m===91?(a.enter("labelMarker"),a.consume(m),a.exit("labelMarker"),a.exit("labelImage"),d):r(m)}function d(m){return m===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(m):n(m)}}const Mk={name:"labelStartLink",resolveAll:Ch.resolveAll,tokenize:Lk};function Lk(a,n,r){const i=this;return c;function c(d){return a.enter("labelLink"),a.enter("labelMarker"),a.consume(d),a.exit("labelMarker"),a.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(d):n(d)}}const Ad={name:"lineEnding",tokenize:zk};function zk(a,n){return r;function r(i){return a.enter("lineEnding"),a.consume(i),a.exit("lineEnding"),rt(a,n,"linePrefix")}}const Vo={name:"thematicBreak",tokenize:Bk};function Bk(a,n,r){let i=0,c;return u;function u(g){return a.enter("thematicBreak"),d(g)}function d(g){return c=g,m(g)}function m(g){return g===c?(a.enter("thematicBreakSequence"),p(g)):i>=3&&(g===null||Se(g))?(a.exit("thematicBreak"),n(g)):r(g)}function p(g){return g===c?(a.consume(g),i++,p):(a.exit("thematicBreakSequence"),Ve(g)?rt(a,m,"whitespace")(g):m(g))}}const sn={continuation:{tokenize:Hk},exit:$k,name:"list",tokenize:Pk},Uk={partial:!0,tokenize:Gk},Ik={partial:!0,tokenize:qk};function Pk(a,n,r){const i=this,c=i.events[i.events.length-1];let u=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,d=0;return m;function m(v){const S=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:rh(v)){if(i.containerState.type||(i.containerState.type=S,a.enter(S,{_container:!0})),S==="listUnordered")return a.enter("listItemPrefix"),v===42||v===45?a.check(Vo,r,g)(v):g(v);if(!i.interrupt||v===49)return a.enter("listItemPrefix"),a.enter("listItemValue"),p(v)}return r(v)}function p(v){return rh(v)&&++d<10?(a.consume(v),p):(!i.interrupt||d<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(a.exit("listItemValue"),g(v)):r(v)}function g(v){return a.enter("listItemMarker"),a.consume(v),a.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,a.check(ac,i.interrupt?r:x,a.attempt(Uk,w,b))}function x(v){return i.containerState.initialBlankLine=!0,u++,w(v)}function b(v){return Ve(v)?(a.enter("listItemPrefixWhitespace"),a.consume(v),a.exit("listItemPrefixWhitespace"),w):r(v)}function w(v){return i.containerState.size=u+i.sliceSerialize(a.exit("listItemPrefix"),!0).length,n(v)}}function Hk(a,n,r){const i=this;return i.containerState._closeFlow=void 0,a.check(ac,c,u);function c(m){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,rt(a,n,"listItemIndent",i.containerState.size+1)(m)}function u(m){return i.containerState.furtherBlankLines||!Ve(m)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,d(m)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a.attempt(Ik,n,d)(m))}function d(m){return i.containerState._closeFlow=!0,i.interrupt=void 0,rt(a,a.attempt(sn,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function qk(a,n,r){const i=this;return rt(a,c,"listItemIndent",i.containerState.size+1);function c(u){const d=i.events[i.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===i.containerState.size?n(u):r(u)}}function $k(a){a.exit(this.containerState.type)}function Gk(a,n,r){const i=this;return rt(a,c,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(u){const d=i.events[i.events.length-1];return!Ve(u)&&d&&d[1].type==="listItemPrefixWhitespace"?n(u):r(u)}}const kp={name:"setextUnderline",resolveTo:Vk,tokenize:Fk};function Vk(a,n){let r=a.length,i,c,u;for(;r--;)if(a[r][0]==="enter"){if(a[r][1].type==="content"){i=r;break}a[r][1].type==="paragraph"&&(c=r)}else a[r][1].type==="content"&&a.splice(r,1),!u&&a[r][1].type==="definition"&&(u=r);const d={type:"setextHeading",start:{...a[i][1].start},end:{...a[a.length-1][1].end}};return a[c][1].type="setextHeadingText",u?(a.splice(c,0,["enter",d,n]),a.splice(u+1,0,["exit",a[i][1],n]),a[i][1].end={...a[u][1].end}):a[i][1]=d,a.push(["exit",d,n]),a}function Fk(a,n,r){const i=this;let c;return u;function u(g){let x=i.events.length,b;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){b=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||b)?(a.enter("setextHeadingLine"),c=g,d(g)):r(g)}function d(g){return a.enter("setextHeadingLineSequence"),m(g)}function m(g){return g===c?(a.consume(g),m):(a.exit("setextHeadingLineSequence"),Ve(g)?rt(a,p,"lineSuffix")(g):p(g))}function p(g){return g===null||Se(g)?(a.exit("setextHeadingLine"),n(g)):r(g)}}const Yk={tokenize:Kk};function Kk(a){const n=this,r=a.attempt(ac,i,a.attempt(this.parser.constructs.flowInitial,c,rt(a,a.attempt(this.parser.constructs.flow,c,a.attempt(Z5,c)),"linePrefix")));return r;function i(u){if(u===null){a.consume(u);return}return a.enter("lineEndingBlank"),a.consume(u),a.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function c(u){if(u===null){a.consume(u);return}return a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),n.currentConstruct=void 0,r}}const Qk={resolveAll:ub()},Wk=cb("string"),Jk=cb("text");function cb(a){return{resolveAll:ub(a==="text"?Xk:void 0),tokenize:n};function n(r){const i=this,c=this.parser.constructs[a],u=r.attempt(c,d,m);return d;function d(x){return g(x)?u(x):m(x)}function m(x){if(x===null){r.consume(x);return}return r.enter("data"),r.consume(x),p}function p(x){return g(x)?(r.exit("data"),u(x)):(r.consume(x),p)}function g(x){if(x===null)return!0;const b=c[x];let w=-1;if(b)for(;++w<b.length;){const v=b[w];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function ub(a){return n;function n(r,i){let c=-1,u;for(;++c<=r.length;)u===void 0?r[c]&&r[c][1].type==="data"&&(u=c,c++):(!r[c]||r[c][1].type!=="data")&&(c!==u+2&&(r[u][1].end=r[c-1][1].end,r.splice(u+2,c-u-2),c=u+2),u=void 0);return a?a(r,i):r}}function Xk(a,n){let r=0;for(;++r<=a.length;)if((r===a.length||a[r][1].type==="lineEnding")&&a[r-1][1].type==="data"){const i=a[r-1][1],c=n.sliceStream(i);let u=c.length,d=-1,m=0,p;for(;u--;){const g=c[u];if(typeof g=="string"){for(d=g.length;g.charCodeAt(d-1)===32;)m++,d--;if(d)break;d=-1}else if(g===-2)p=!0,m++;else if(g!==-1){u++;break}}if(n._contentTypeTextTrailing&&r===a.length&&(m=0),m){const g={type:r===a.length||p||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:i.start._bufferIndex+d,_index:i.start._index+u,line:i.end.line,column:i.end.column-m,offset:i.end.offset-m},end:{...i.end}};i.end={...g.start},i.start.offset===i.end.offset?Object.assign(i,g):(a.splice(r,0,["enter",g,n],["exit",g,n]),r+=2)}r++}return a}const Zk={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:nb},ej={91:rk},tj={[-2]:Td,[-1]:Td,32:Td},nj={35:uk,42:Vo,45:[kp,Vo],60:mk,61:kp,95:Vo,96:vp,126:vp},aj={38:rb,92:ab},rj={[-5]:Ad,[-4]:Ad,[-3]:Ad,33:Rk,38:rb,42:sh,60:[M5,wk],91:Mk,92:[ok,ab],93:Ch,95:sh,96:Y5},sj={null:[sh,Qk]},ij={null:[42,95]},lj={null:[]},oj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ij,contentInitial:ej,disable:lj,document:Zk,flow:nj,flowInitial:tj,insideSpan:sj,string:aj,text:rj},Symbol.toStringTag,{value:"Module"}));function cj(a,n,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const c={},u=[];let d=[],m=[];const p={attempt:G(I),check:G(D),consume:q,enter:O,exit:Y,interrupt:G(D,{interrupt:!0})},g={code:null,containerState:{},defineSkip:_,events:[],now:S,parser:a,previous:null,sliceSerialize:w,sliceStream:v,write:b};let x=n.tokenize.call(g,p);return n.resolveAll&&u.push(n),g;function b(oe){return d=zn(d,oe),A(),d[d.length-1]!==null?[]:(Z(n,0),g.events=Eh(u,g.events,g),g.events)}function w(oe,W){return dj(v(oe),W)}function v(oe){return uj(d,oe)}function S(){const{_bufferIndex:oe,_index:W,line:he,column:de,offset:te}=i;return{_bufferIndex:oe,_index:W,line:he,column:de,offset:te}}function _(oe){c[oe.line]=oe.column,re()}function A(){let oe;for(;i._index<d.length;){const W=d[i._index];if(typeof W=="string")for(oe=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===oe&&i._bufferIndex<W.length;)E(W.charCodeAt(i._bufferIndex));else E(W)}}function E(oe){x=x(oe)}function q(oe){Se(oe)?(i.line++,i.column=1,i.offset+=oe===-3?2:1,re()):oe!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===d[i._index].length&&(i._bufferIndex=-1,i._index++)),g.previous=oe}function O(oe,W){const he=W||{};return he.type=oe,he.start=S(),g.events.push(["enter",he,g]),m.push(he),he}function Y(oe){const W=m.pop();return W.end=S(),g.events.push(["exit",W,g]),W}function I(oe,W){Z(oe,W.from)}function D(oe,W){W.restore()}function G(oe,W){return he;function he(de,te,L){let V,ee,fe,N;return Array.isArray(de)?M(de):"tokenize"in de?M([de]):T(de);function T(se){return je;function je(_e){const Oe=_e!==null&&se[_e],gt=_e!==null&&se.null,cn=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(gt)?gt:gt?[gt]:[]];return M(cn)(_e)}}function M(se){return V=se,ee=0,se.length===0?L:j(se[ee])}function j(se){return je;function je(_e){return N=le(),fe=se,se.partial||(g.currentConstruct=se),se.name&&g.parser.constructs.disable.null.includes(se.name)?Q():se.tokenize.call(W?Object.assign(Object.create(g),W):g,p,U,Q)(_e)}}function U(se){return oe(fe,N),te}function Q(se){return N.restore(),++ee<V.length?j(V[ee]):L}}}function Z(oe,W){oe.resolveAll&&!u.includes(oe)&&u.push(oe),oe.resolve&&sa(g.events,W,g.events.length-W,oe.resolve(g.events.slice(W),g)),oe.resolveTo&&(g.events=oe.resolveTo(g.events,g))}function le(){const oe=S(),W=g.previous,he=g.currentConstruct,de=g.events.length,te=Array.from(m);return{from:de,restore:L};function L(){i=oe,g.previous=W,g.currentConstruct=he,g.events.length=de,m=te,re()}}function re(){i.line in c&&i.column<2&&(i.column=c[i.line],i.offset+=c[i.line]-1)}}function uj(a,n){const r=n.start._index,i=n.start._bufferIndex,c=n.end._index,u=n.end._bufferIndex;let d;if(r===c)d=[a[r].slice(i,u)];else{if(d=a.slice(r,c),i>-1){const m=d[0];typeof m=="string"?d[0]=m.slice(i):d.shift()}u>0&&d.push(a[c].slice(0,u))}return d}function dj(a,n){let r=-1;const i=[];let c;for(;++r<a.length;){const u=a[r];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=n?" ":"	";break}case-1:{if(!n&&c)continue;d=" ";break}default:d=String.fromCharCode(u)}c=u===-2,i.push(d)}return i.join("")}function hj(a){const i={constructs:y5([oj,...(a||{}).extensions||[]]),content:c(E5),defined:[],document:c(T5),flow:c(Yk),lazy:{},string:c(Wk),text:c(Jk)};return i;function c(u){return d;function d(m){return cj(i,u,m)}}}function fj(a){for(;!sb(a););return a}const jp=/[\0\t\n\r]/g;function mj(){let a=1,n="",r=!0,i;return c;function c(u,d,m){const p=[];let g,x,b,w,v;for(u=n+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),b=0,n="",r&&(u.charCodeAt(0)===65279&&b++,r=void 0);b<u.length;){if(jp.lastIndex=b,g=jp.exec(u),w=g&&g.index!==void 0?g.index:u.length,v=u.charCodeAt(w),!g){n=u.slice(b);break}if(v===10&&b===w&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),b<w&&(p.push(u.slice(b,w)),a+=w-b),v){case 0:{p.push(65533),a++;break}case 9:{for(x=Math.ceil(a/4)*4,p.push(-2);a++<x;)p.push(-1);break}case 10:{p.push(-4),a=1;break}default:i=!0,a=1}b=w+1}return m&&(i&&p.push(-5),n&&p.push(n),p.push(null)),p}}const gj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pj(a){return a.replace(gj,xj)}function xj(a,n,r){if(n)return n;if(r.charCodeAt(0)===35){const c=r.charCodeAt(1),u=c===120||c===88;return tb(r.slice(u?2:1),u?16:10)}return Nh(r)||a}const db={}.hasOwnProperty;function bj(a,n,r){return typeof n!="string"&&(r=n,n=void 0),yj(r)(fj(hj(r).document().write(mj()(a,n,!0))))}function yj(a){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Kt),autolinkProtocol:le,autolinkEmail:le,atxHeading:u(Un),blockQuote:u(gt),characterEscape:le,characterReference:le,codeFenced:u(cn),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(cn,d),codeText:u(ht,d),codeTextData:le,data:le,codeFlowValue:le,definition:u(Bn),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(Et),hardBreakEscape:u(ia),hardBreakTrailing:u(ia),htmlFlow:u(yr,d),htmlFlowData:le,htmlText:u(yr,d),htmlTextData:le,image:u(_n),label:d,link:u(Kt),listItem:u(za),listItemValue:w,listOrdered:u(Lt,b),listUnordered:u(Lt),paragraph:u(un),reference:j,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(Un),strong:u(Nn),thematicBreak:u(la)},exit:{atxHeading:p(),atxHeadingSequence:I,autolink:p(),autolinkEmail:Oe,autolinkProtocol:_e,blockQuote:p(),characterEscapeValue:re,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:se,characterReference:je,codeFenced:p(A),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:re,codeIndented:p(E),codeText:p(te),codeTextData:re,data:re,definition:p(),definitionDestinationString:Y,definitionLabelString:q,definitionTitleString:O,emphasis:p(),hardBreakEscape:p(W),hardBreakTrailing:p(W),htmlFlow:p(he),htmlFlowData:re,htmlText:p(de),htmlTextData:re,image:p(V),label:fe,labelText:ee,lineEnding:oe,link:p(L),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:U,resourceDestinationString:N,resourceTitleString:T,resource:M,setextHeading:p(Z),setextHeadingLineSequence:G,setextHeadingText:D,strong:p(),thematicBreak:p()}};hb(n,(a||{}).mdastExtensions||[]);const r={};return i;function i(K){let ce={type:"root",children:[]};const ve={stack:[ce],tokenStack:[],config:n,enter:m,exit:g,buffer:d,resume:x,data:r},Ne=[];let He=-1;for(;++He<K.length;)if(K[He][1].type==="listOrdered"||K[He][1].type==="listUnordered")if(K[He][0]==="enter")Ne.push(He);else{const Ot=Ne.pop();He=c(K,Ot,He)}for(He=-1;++He<K.length;){const Ot=n[K[He][0]];db.call(Ot,K[He][1].type)&&Ot[K[He][1].type].call(Object.assign({sliceSerialize:K[He][2].sliceSerialize},ve),K[He][1])}if(ve.tokenStack.length>0){const Ot=ve.tokenStack[ve.tokenStack.length-1];(Ot[1]||Sp).call(ve,void 0,Ot[0])}for(ce.position={start:mr(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:mr(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<n.transforms.length;)ce=n.transforms[He](ce)||ce;return ce}function c(K,ce,ve){let Ne=ce-1,He=-1,Ot=!1,In,Rt,pt,Dt;for(;++Ne<=ve;){const Fe=K[Ne];switch(Fe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Fe[0]==="enter"?He++:He--,Dt=void 0;break}case"lineEndingBlank":{Fe[0]==="enter"&&(In&&!Dt&&!He&&!pt&&(pt=Ne),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!He&&Fe[0]==="enter"&&Fe[1].type==="listItemPrefix"||He===-1&&Fe[0]==="exit"&&(Fe[1].type==="listUnordered"||Fe[1].type==="listOrdered")){if(In){let Pn=Ne;for(Rt=void 0;Pn--;){const qt=K[Pn];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;Rt&&(K[Rt][1].type="lineEndingBlank",Ot=!0),qt[1].type="lineEnding",Rt=Pn}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}pt&&(!Rt||pt<Rt)&&(In._spread=!0),In.end=Object.assign({},Rt?K[Rt][1].start:Fe[1].end),K.splice(Rt||Ne,0,["exit",In,Fe[2]]),Ne++,ve++}if(Fe[1].type==="listItemPrefix"){const Pn={type:"listItem",_spread:!1,start:Object.assign({},Fe[1].start),end:void 0};In=Pn,K.splice(Ne,0,["enter",Pn,Fe[2]]),Ne++,ve++,pt=void 0,Dt=!0}}}return K[ce][1]._spread=Ot,ve}function u(K,ce){return ve;function ve(Ne){m.call(this,K(Ne),Ne),ce&&ce.call(this,Ne)}}function d(){this.stack.push({type:"fragment",children:[]})}function m(K,ce,ve){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ce,ve||void 0]),K.position={start:mr(ce.start),end:void 0}}function p(K){return ce;function ce(ve){K&&K.call(this,ve),g.call(this,ve)}}function g(K,ce){const ve=this.stack.pop(),Ne=this.tokenStack.pop();if(Ne)Ne[0].type!==K.type&&(ce?ce.call(this,K,Ne[0]):(Ne[1]||Sp).call(this,K,Ne[0]));else throw new Error("Cannot close `"+K.type+"` ("+sl({start:K.start,end:K.end})+"): its not open");ve.position.end=mr(K.end)}function x(){return x5(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function w(K){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function v(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=K}function S(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=K}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.value=K.replace(/(\r?\n|\r)$/g,"")}function q(K){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ce,ve.identifier=Ks(this.sliceSerialize(K)).toLowerCase()}function O(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.title=K}function Y(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.url=K}function I(K){const ce=this.stack[this.stack.length-1];if(!ce.depth){const ve=this.sliceSerialize(K).length;ce.depth=ve}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function G(K){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function le(K){const ve=this.stack[this.stack.length-1].children;let Ne=ve[ve.length-1];(!Ne||Ne.type!=="text")&&(Ne=tt(),Ne.position={start:mr(K.start),end:void 0},ve.push(Ne)),this.stack.push(Ne)}function re(K){const ce=this.stack.pop();ce.value+=this.sliceSerialize(K),ce.position.end=mr(K.end)}function oe(K){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ce.children[ce.children.length-1];ve.position.end=mr(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(ce.type)&&(le.call(this,K),re.call(this,K))}function W(){this.data.atHardBreak=!0}function he(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.value=K}function de(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.value=K}function te(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.value=K}function L(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ce,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function V(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ce,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ee(K){const ce=this.sliceSerialize(K),ve=this.stack[this.stack.length-2];ve.label=pj(ce),ve.identifier=Ks(ce).toLowerCase()}function fe(){const K=this.stack[this.stack.length-1],ce=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Ne=K.children;ve.children=Ne}else ve.alt=ce}function N(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.url=K}function T(){const K=this.resume(),ce=this.stack[this.stack.length-1];ce.title=K}function M(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function U(K){const ce=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ce,ve.identifier=Ks(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function Q(K){this.data.characterReferenceType=K.type}function se(K){const ce=this.sliceSerialize(K),ve=this.data.characterReferenceType;let Ne;ve?(Ne=tb(ce,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ne=Nh(ce);const He=this.stack[this.stack.length-1];He.value+=Ne}function je(K){const ce=this.stack.pop();ce.position.end=mr(K.end)}function _e(K){re.call(this,K);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(K)}function Oe(K){re.call(this,K);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(K)}function gt(){return{type:"blockquote",children:[]}}function cn(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function Bn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Et(){return{type:"emphasis",children:[]}}function Un(){return{type:"heading",depth:0,children:[]}}function ia(){return{type:"break"}}function yr(){return{type:"html",value:""}}function _n(){return{type:"image",title:null,url:"",alt:null}}function Kt(){return{type:"link",title:null,url:"",children:[]}}function Lt(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function za(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function un(){return{type:"paragraph",children:[]}}function Nn(){return{type:"strong",children:[]}}function tt(){return{type:"text",value:""}}function la(){return{type:"thematicBreak"}}}function mr(a){return{line:a.line,column:a.column,offset:a.offset}}function hb(a,n){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?hb(a,i):vj(a,i)}}function vj(a,n){let r;for(r in n)if(db.call(n,r))switch(r){case"canContainEols":{const i=n[r];i&&a[r].push(...i);break}case"transforms":{const i=n[r];i&&a[r].push(...i);break}case"enter":case"exit":{const i=n[r];i&&Object.assign(a[r],i);break}}}function Sp(a,n){throw a?new Error("Cannot close `"+a.type+"` ("+sl({start:a.start,end:a.end})+"): a different token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+sl({start:n.start,end:n.end})+") is still open")}function wj(a){const n=this;n.parser=r;function r(i){return bj(i,{...n.data("settings"),...a,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function kj(a,n){const r={type:"element",tagName:"blockquote",properties:{},children:a.wrap(a.all(n),!0)};return a.patch(n,r),a.applyData(n,r)}function jj(a,n){const r={type:"element",tagName:"br",properties:{},children:[]};return a.patch(n,r),[a.applyData(n,r),{type:"text",value:`
`}]}function Sj(a,n){const r=n.value?n.value+`
`:"",i={},c=n.lang?n.lang.split(/\s+/):[];c.length>0&&(i.className=["language-"+c[0]]);let u={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return n.meta&&(u.data={meta:n.meta}),a.patch(n,u),u=a.applyData(n,u),u={type:"element",tagName:"pre",properties:{},children:[u]},a.patch(n,u),u}function _j(a,n){const r={type:"element",tagName:"del",properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}function Nj(a,n){const r={type:"element",tagName:"em",properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}function Ej(a,n){const r=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",i=String(n.identifier).toUpperCase(),c=ei(i.toLowerCase()),u=a.footnoteOrder.indexOf(i);let d,m=a.footnoteCounts.get(i);m===void 0?(m=0,a.footnoteOrder.push(i),d=a.footnoteOrder.length):d=u+1,m+=1,a.footnoteCounts.set(i,m);const p={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+c,id:r+"fnref-"+c+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};a.patch(n,p);const g={type:"element",tagName:"sup",properties:{},children:[p]};return a.patch(n,g),a.applyData(n,g)}function Cj(a,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}function Tj(a,n){if(a.options.allowDangerousHtml){const r={type:"raw",value:n.value};return a.patch(n,r),a.applyData(n,r)}}function fb(a,n){const r=n.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+i}];const c=a.all(n),u=c[0];u&&u.type==="text"?u.value="["+u.value:c.unshift({type:"text",value:"["});const d=c[c.length-1];return d&&d.type==="text"?d.value+=i:c.push({type:"text",value:i}),c}function Aj(a,n){const r=String(n.identifier).toUpperCase(),i=a.definitionById.get(r);if(!i)return fb(a,n);const c={src:ei(i.url||""),alt:n.alt};i.title!==null&&i.title!==void 0&&(c.title=i.title);const u={type:"element",tagName:"img",properties:c,children:[]};return a.patch(n,u),a.applyData(n,u)}function Oj(a,n){const r={src:ei(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return a.patch(n,i),a.applyData(n,i)}function Rj(a,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};a.patch(n,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return a.patch(n,i),a.applyData(n,i)}function Dj(a,n){const r=String(n.identifier).toUpperCase(),i=a.definitionById.get(r);if(!i)return fb(a,n);const c={href:ei(i.url||"")};i.title!==null&&i.title!==void 0&&(c.title=i.title);const u={type:"element",tagName:"a",properties:c,children:a.all(n)};return a.patch(n,u),a.applyData(n,u)}function Mj(a,n){const r={href:ei(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:a.all(n)};return a.patch(n,i),a.applyData(n,i)}function Lj(a,n,r){const i=a.all(n),c=r?zj(r):mb(n),u={},d=[];if(typeof n.checked=="boolean"){const x=i[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},i.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let m=-1;for(;++m<i.length;){const x=i[m];(c||m!==0||x.type!=="element"||x.tagName!=="p")&&d.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!c?d.push(...x.children):d.push(x)}const p=i[i.length-1];p&&(c||p.type!=="element"||p.tagName!=="p")&&d.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:u,children:d};return a.patch(n,g),a.applyData(n,g)}function zj(a){let n=!1;if(a.type==="list"){n=a.spread||!1;const r=a.children;let i=-1;for(;!n&&++i<r.length;)n=mb(r[i])}return n}function mb(a){const n=a.spread;return n??a.children.length>1}function Bj(a,n){const r={},i=a.all(n);let c=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++c<i.length;){const d=i[c];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const u={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:a.wrap(i,!0)};return a.patch(n,u),a.applyData(n,u)}function Uj(a,n){const r={type:"element",tagName:"p",properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}function Ij(a,n){const r={type:"root",children:a.wrap(a.all(n))};return a.patch(n,r),a.applyData(n,r)}function Pj(a,n){const r={type:"element",tagName:"strong",properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}function Hj(a,n){const r=a.all(n),i=r.shift(),c=[];if(i){const d={type:"element",tagName:"thead",properties:{},children:a.wrap([i],!0)};a.patch(n.children[0],d),c.push(d)}if(r.length>0){const d={type:"element",tagName:"tbody",properties:{},children:a.wrap(r,!0)},m=kh(n.children[1]),p=Kx(n.children[n.children.length-1]);m&&p&&(d.position={start:m,end:p}),c.push(d)}const u={type:"element",tagName:"table",properties:{},children:a.wrap(c,!0)};return a.patch(n,u),a.applyData(n,u)}function qj(a,n,r){const i=r?r.children:void 0,u=(i?i.indexOf(n):1)===0?"th":"td",d=r&&r.type==="table"?r.align:void 0,m=d?d.length:n.children.length;let p=-1;const g=[];for(;++p<m;){const b=n.children[p],w={},v=d?d[p]:void 0;v&&(w.align=v);let S={type:"element",tagName:u,properties:w,children:[]};b&&(S.children=a.all(b),a.patch(b,S),S=a.applyData(b,S)),g.push(S)}const x={type:"element",tagName:"tr",properties:{},children:a.wrap(g,!0)};return a.patch(n,x),a.applyData(n,x)}function $j(a,n){const r={type:"element",tagName:"td",properties:{},children:a.all(n)};return a.patch(n,r),a.applyData(n,r)}const _p=9,Np=32;function Gj(a){const n=String(a),r=/\r?\n|\r/g;let i=r.exec(n),c=0;const u=[];for(;i;)u.push(Ep(n.slice(c,i.index),c>0,!0),i[0]),c=i.index+i[0].length,i=r.exec(n);return u.push(Ep(n.slice(c),c>0,!1)),u.join("")}function Ep(a,n,r){let i=0,c=a.length;if(n){let u=a.codePointAt(i);for(;u===_p||u===Np;)i++,u=a.codePointAt(i)}if(r){let u=a.codePointAt(c-1);for(;u===_p||u===Np;)c--,u=a.codePointAt(c-1)}return c>i?a.slice(i,c):""}function Vj(a,n){const r={type:"text",value:Gj(String(n.value))};return a.patch(n,r),a.applyData(n,r)}function Fj(a,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return a.patch(n,r),a.applyData(n,r)}const Yj={blockquote:kj,break:jj,code:Sj,delete:_j,emphasis:Nj,footnoteReference:Ej,heading:Cj,html:Tj,imageReference:Aj,image:Oj,inlineCode:Rj,linkReference:Dj,link:Mj,listItem:Lj,list:Bj,paragraph:Uj,root:Ij,strong:Pj,table:Hj,tableCell:$j,tableRow:qj,text:Vj,thematicBreak:Fj,toml:qo,yaml:qo,definition:qo,footnoteDefinition:qo};function qo(){}const gb=-1,rc=0,ll=1,Xo=2,Th=3,Ah=4,Oh=5,Rh=6,pb=7,xb=8,Cp=typeof self=="object"?self:globalThis,Kj=(a,n)=>{const r=(c,u)=>(a.set(u,c),c),i=c=>{if(a.has(c))return a.get(c);const[u,d]=n[c];switch(u){case rc:case gb:return r(d,c);case ll:{const m=r([],c);for(const p of d)m.push(i(p));return m}case Xo:{const m=r({},c);for(const[p,g]of d)m[i(p)]=i(g);return m}case Th:return r(new Date(d),c);case Ah:{const{source:m,flags:p}=d;return r(new RegExp(m,p),c)}case Oh:{const m=r(new Map,c);for(const[p,g]of d)m.set(i(p),i(g));return m}case Rh:{const m=r(new Set,c);for(const p of d)m.add(i(p));return m}case pb:{const{name:m,message:p}=d;return r(new Cp[m](p),c)}case xb:return r(BigInt(d),c);case"BigInt":return r(Object(BigInt(d)),c);case"ArrayBuffer":return r(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:m}=new Uint8Array(d);return r(new DataView(m),d)}}return r(new Cp[u](d),c)};return i},Tp=a=>Kj(new Map,a)(0),qs="",{toString:Qj}={},{keys:Wj}=Object,el=a=>{const n=typeof a;if(n!=="object"||!a)return[rc,n];const r=Qj.call(a).slice(8,-1);switch(r){case"Array":return[ll,qs];case"Object":return[Xo,qs];case"Date":return[Th,qs];case"RegExp":return[Ah,qs];case"Map":return[Oh,qs];case"Set":return[Rh,qs];case"DataView":return[ll,r]}return r.includes("Array")?[ll,r]:r.includes("Error")?[pb,r]:[Xo,r]},$o=([a,n])=>a===rc&&(n==="function"||n==="symbol"),Jj=(a,n,r,i)=>{const c=(d,m)=>{const p=i.push(d)-1;return r.set(m,p),p},u=d=>{if(r.has(d))return r.get(d);let[m,p]=el(d);switch(m){case rc:{let x=d;switch(p){case"bigint":m=xb,x=d.toString();break;case"function":case"symbol":if(a)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return c([gb],d)}return c([m,x],d)}case ll:{if(p){let w=d;return p==="DataView"?w=new Uint8Array(d.buffer):p==="ArrayBuffer"&&(w=new Uint8Array(d)),c([p,[...w]],d)}const x=[],b=c([m,x],d);for(const w of d)x.push(u(w));return b}case Xo:{if(p)switch(p){case"BigInt":return c([p,d.toString()],d);case"Boolean":case"Number":case"String":return c([p,d.valueOf()],d)}if(n&&"toJSON"in d)return u(d.toJSON());const x=[],b=c([m,x],d);for(const w of Wj(d))(a||!$o(el(d[w])))&&x.push([u(w),u(d[w])]);return b}case Th:return c([m,d.toISOString()],d);case Ah:{const{source:x,flags:b}=d;return c([m,{source:x,flags:b}],d)}case Oh:{const x=[],b=c([m,x],d);for(const[w,v]of d)(a||!($o(el(w))||$o(el(v))))&&x.push([u(w),u(v)]);return b}case Rh:{const x=[],b=c([m,x],d);for(const w of d)(a||!$o(el(w)))&&x.push(u(w));return b}}const{message:g}=d;return c([m,{name:p,message:g}],d)};return u},Ap=(a,{json:n,lossy:r}={})=>{const i=[];return Jj(!(n||r),!!n,new Map,i)(a),i},Zo=typeof structuredClone=="function"?(a,n)=>n&&("json"in n||"lossy"in n)?Tp(Ap(a,n)):structuredClone(a):(a,n)=>Tp(Ap(a,n));function Xj(a,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function Zj(a,n){return"Back to reference "+(a+1)+(n>1?"-"+n:"")}function e3(a){const n=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",r=a.options.footnoteBackContent||Xj,i=a.options.footnoteBackLabel||Zj,c=a.options.footnoteLabel||"Footnotes",u=a.options.footnoteLabelTagName||"h2",d=a.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let p=-1;for(;++p<a.footnoteOrder.length;){const g=a.footnoteById.get(a.footnoteOrder[p]);if(!g)continue;const x=a.all(g),b=String(g.identifier).toUpperCase(),w=ei(b.toLowerCase());let v=0;const S=[],_=a.footnoteCounts.get(b);for(;_!==void 0&&++v<=_;){S.length>0&&S.push({type:"text",value:" "});let q=typeof r=="string"?r:r(p,v);typeof q=="string"&&(q={type:"text",value:q}),S.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+w+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,v),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const A=x[x.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const q=A.children[A.children.length-1];q&&q.type==="text"?q.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...S)}else x.push(...S);const E={type:"element",tagName:"li",properties:{id:n+"fn-"+w},children:a.wrap(x,!0)};a.patch(g,E),m.push(E)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Zo(d),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(m,!0)},{type:"text",value:`
`}]}}const bb=(function(a){if(a==null)return r3;if(typeof a=="function")return sc(a);if(typeof a=="object")return Array.isArray(a)?t3(a):n3(a);if(typeof a=="string")return a3(a);throw new Error("Expected function, string, or object as test")});function t3(a){const n=[];let r=-1;for(;++r<a.length;)n[r]=bb(a[r]);return sc(i);function i(...c){let u=-1;for(;++u<n.length;)if(n[u].apply(this,c))return!0;return!1}}function n3(a){const n=a;return sc(r);function r(i){const c=i;let u;for(u in a)if(c[u]!==n[u])return!1;return!0}}function a3(a){return sc(n);function n(r){return r&&r.type===a}}function sc(a){return n;function n(r,i,c){return!!(s3(r)&&a.call(this,r,typeof i=="number"?i:void 0,c||void 0))}}function r3(){return!0}function s3(a){return a!==null&&typeof a=="object"&&"type"in a}const yb=[],i3=!0,Op=!1,l3="skip";function o3(a,n,r,i){let c;typeof n=="function"&&typeof r!="function"?(i=r,r=n):c=n;const u=bb(c),d=i?-1:1;m(a,void 0,[])();function m(p,g,x){const b=p&&typeof p=="object"?p:{};if(typeof b.type=="string"){const v=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(w,"name",{value:"node ("+(p.type+(v?"<"+v+">":""))+")"})}return w;function w(){let v=yb,S,_,A;if((!n||u(p,g,x[x.length-1]||void 0))&&(v=c3(r(p,x)),v[0]===Op))return v;if("children"in p&&p.children){const E=p;if(E.children&&v[0]!==l3)for(_=(i?E.children.length:-1)+d,A=x.concat(E);_>-1&&_<E.children.length;){const q=E.children[_];if(S=m(q,_,A)(),S[0]===Op)return S;_=typeof S[1]=="number"?S[1]:_+d}}return v}}}function c3(a){return Array.isArray(a)?a:typeof a=="number"?[i3,a]:a==null?yb:[a]}function vb(a,n,r,i){let c,u,d;typeof n=="function"&&typeof r!="function"?(u=void 0,d=n,c=r):(u=n,d=r,c=i),o3(a,u,m,c);function m(p,g){const x=g[g.length-1],b=x?x.children.indexOf(p):void 0;return d(p,b,x)}}const ih={}.hasOwnProperty,u3={};function d3(a,n){const r=n||u3,i=new Map,c=new Map,u=new Map,d={...Yj,...r.handlers},m={all:g,applyData:f3,definitionById:i,footnoteById:c,footnoteCounts:u,footnoteOrder:[],handlers:d,one:p,options:r,patch:h3,wrap:g3};return vb(a,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?i:c,w=String(x.identifier).toUpperCase();b.has(w)||b.set(w,x)}}),m;function p(x,b){const w=x.type,v=m.handlers[w];if(ih.call(m.handlers,w)&&v)return v(m,x,b);if(m.options.passThrough&&m.options.passThrough.includes(w)){if("children"in x){const{children:_,...A}=x,E=Zo(A);return E.children=m.all(x),E}return Zo(x)}return(m.options.unknownHandler||m3)(m,x,b)}function g(x){const b=[];if("children"in x){const w=x.children;let v=-1;for(;++v<w.length;){const S=m.one(w[v],x);if(S){if(v&&w[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Rp(S.value)),!Array.isArray(S)&&S.type==="element")){const _=S.children[0];_&&_.type==="text"&&(_.value=Rp(_.value))}Array.isArray(S)?b.push(...S):b.push(S)}}}return b}}function h3(a,n){a.position&&(n.position=Qw(a))}function f3(a,n){let r=n;if(a&&a.data){const i=a.data.hName,c=a.data.hChildren,u=a.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const d="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:d}}r.type==="element"&&u&&Object.assign(r.properties,Zo(u)),"children"in r&&r.children&&c!==null&&c!==void 0&&(r.children=c)}return r}function m3(a,n){const r=n.data||{},i="value"in n&&!(ih.call(r,"hProperties")||ih.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:a.all(n)};return a.patch(n,i),a.applyData(n,i)}function g3(a,n){const r=[];let i=-1;for(n&&r.push({type:"text",value:`
`});++i<a.length;)i&&r.push({type:"text",value:`
`}),r.push(a[i]);return n&&a.length>0&&r.push({type:"text",value:`
`}),r}function Rp(a){let n=0,r=a.charCodeAt(n);for(;r===9||r===32;)n++,r=a.charCodeAt(n);return a.slice(n)}function Dp(a,n){const r=d3(a,n),i=r.one(a,void 0),c=e3(r),u=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return c&&u.children.push({type:"text",value:`
`},c),u}function p3(a,n){return a&&"run"in a?async function(r,i){const c=Dp(r,{file:i,...n});await a.run(c,i)}:function(r,i){return Dp(r,{file:i,...a||n})}}function Mp(a){if(a)throw a}var Od,Lp;function x3(){if(Lp)return Od;Lp=1;var a=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,c=function(g){return typeof Array.isArray=="function"?Array.isArray(g):n.call(g)==="[object Array]"},u=function(g){if(!g||n.call(g)!=="[object Object]")return!1;var x=a.call(g,"constructor"),b=g.constructor&&g.constructor.prototype&&a.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!x&&!b)return!1;var w;for(w in g);return typeof w>"u"||a.call(g,w)},d=function(g,x){r&&x.name==="__proto__"?r(g,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):g[x.name]=x.newValue},m=function(g,x){if(x==="__proto__")if(a.call(g,x)){if(i)return i(g,x).value}else return;return g[x]};return Od=function p(){var g,x,b,w,v,S,_=arguments[0],A=1,E=arguments.length,q=!1;for(typeof _=="boolean"&&(q=_,_=arguments[1]||{},A=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});A<E;++A)if(g=arguments[A],g!=null)for(x in g)b=m(_,x),w=m(g,x),_!==w&&(q&&w&&(u(w)||(v=c(w)))?(v?(v=!1,S=b&&c(b)?b:[]):S=b&&u(b)?b:{},d(_,{name:x,newValue:p(q,S,w)})):typeof w<"u"&&d(_,{name:x,newValue:w}));return _},Od}var b3=x3();const Rd=fl(b3);function lh(a){if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function y3(){const a=[],n={run:r,use:i};return n;function r(...c){let u=-1;const d=c.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);m(null,...c);function m(p,...g){const x=a[++u];let b=-1;if(p){d(p);return}for(;++b<c.length;)(g[b]===null||g[b]===void 0)&&(g[b]=c[b]);c=g,x?v3(x,m)(...g):d(null,...g)}}function i(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return a.push(c),n}}function v3(a,n){let r;return i;function i(...d){const m=a.length>d.length;let p;m&&d.push(c);try{p=a.apply(this,d)}catch(g){const x=g;if(m&&r)throw x;return c(x)}m||(p&&p.then&&typeof p.then=="function"?p.then(u,c):p instanceof Error?c(p):u(p))}function c(d,...m){r||(r=!0,n(d,...m))}function u(d){c(null,d)}}const aa={basename:w3,dirname:k3,extname:j3,join:S3,sep:"/"};function w3(a,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');pl(a);let r=0,i=-1,c=a.length,u;if(n===void 0||n.length===0||n.length>a.length){for(;c--;)if(a.codePointAt(c)===47){if(u){r=c+1;break}}else i<0&&(u=!0,i=c+1);return i<0?"":a.slice(r,i)}if(n===a)return"";let d=-1,m=n.length-1;for(;c--;)if(a.codePointAt(c)===47){if(u){r=c+1;break}}else d<0&&(u=!0,d=c+1),m>-1&&(a.codePointAt(c)===n.codePointAt(m--)?m<0&&(i=c):(m=-1,i=d));return r===i?i=d:i<0&&(i=a.length),a.slice(r,i)}function k3(a){if(pl(a),a.length===0)return".";let n=-1,r=a.length,i;for(;--r;)if(a.codePointAt(r)===47){if(i){n=r;break}}else i||(i=!0);return n<0?a.codePointAt(0)===47?"/":".":n===1&&a.codePointAt(0)===47?"//":a.slice(0,n)}function j3(a){pl(a);let n=a.length,r=-1,i=0,c=-1,u=0,d;for(;n--;){const m=a.codePointAt(n);if(m===47){if(d){i=n+1;break}continue}r<0&&(d=!0,r=n+1),m===46?c<0?c=n:u!==1&&(u=1):c>-1&&(u=-1)}return c<0||r<0||u===0||u===1&&c===r-1&&c===i+1?"":a.slice(c,r)}function S3(...a){let n=-1,r;for(;++n<a.length;)pl(a[n]),a[n]&&(r=r===void 0?a[n]:r+"/"+a[n]);return r===void 0?".":_3(r)}function _3(a){pl(a);const n=a.codePointAt(0)===47;let r=N3(a,!n);return r.length===0&&!n&&(r="."),r.length>0&&a.codePointAt(a.length-1)===47&&(r+="/"),n?"/"+r:r}function N3(a,n){let r="",i=0,c=-1,u=0,d=-1,m,p;for(;++d<=a.length;){if(d<a.length)m=a.codePointAt(d);else{if(m===47)break;m=47}if(m===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(p=r.lastIndexOf("/"),p!==r.length-1){p<0?(r="",i=0):(r=r.slice(0,p),i=r.length-1-r.lastIndexOf("/")),c=d,u=0;continue}}else if(r.length>0){r="",i=0,c=d,u=0;continue}}n&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+a.slice(c+1,d):r=a.slice(c+1,d),i=d-c-1;c=d,u=0}else m===46&&u>-1?u++:u=-1}return r}function pl(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}const E3={cwd:C3};function C3(){return"/"}function oh(a){return!!(a!==null&&typeof a=="object"&&"href"in a&&a.href&&"protocol"in a&&a.protocol&&a.auth===void 0)}function T3(a){if(typeof a=="string")a=new URL(a);else if(!oh(a)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+a+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(a.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return A3(a)}function A3(a){if(a.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=a.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(n)}const Dd=["history","path","basename","stem","extname","dirname"];class wb{constructor(n){let r;n?oh(n)?r={path:n}:typeof n=="string"||O3(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":E3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Dd.length;){const u=Dd[i];u in r&&r[u]!==void 0&&r[u]!==null&&(this[u]=u==="history"?[...r[u]]:r[u])}let c;for(c in r)Dd.includes(c)||(this[c]=r[c])}get basename(){return typeof this.path=="string"?aa.basename(this.path):void 0}set basename(n){Ld(n,"basename"),Md(n,"basename"),this.path=aa.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?aa.dirname(this.path):void 0}set dirname(n){zp(this.basename,"dirname"),this.path=aa.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?aa.extname(this.path):void 0}set extname(n){if(Md(n,"extname"),zp(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=aa.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){oh(n)&&(n=T3(n)),Ld(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?aa.basename(this.path,this.extname):void 0}set stem(n){Ld(n,"stem"),Md(n,"stem"),this.path=aa.join(this.dirname||"",n+(this.extname||""))}fail(n,r,i){const c=this.message(n,r,i);throw c.fatal=!0,c}info(n,r,i){const c=this.message(n,r,i);return c.fatal=void 0,c}message(n,r,i){const c=new Yt(n,r,i);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function Md(a,n){if(a&&a.includes(aa.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+aa.sep+"`")}function Ld(a,n){if(!a)throw new Error("`"+n+"` cannot be empty")}function zp(a,n){if(!a)throw new Error("Setting `"+n+"` requires `path` to be set too")}function O3(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const R3=(function(a){const i=this.constructor.prototype,c=i[a],u=function(){return c.apply(u,arguments)};return Object.setPrototypeOf(u,i),u}),D3={}.hasOwnProperty;class Dh extends R3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=y3()}copy(){const n=new Dh;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];n.use(...i)}return n.data(Rd(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(Ud("data",this.frozen),this.namespace[n]=r,this):D3.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Ud("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const c=r.call(n,...i);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=Go(n),i=this.parser||this.Parser;return zd("parse",i),i(String(r),r)}process(n,r){const i=this;return this.freeze(),zd("process",this.parser||this.Parser),Bd("process",this.compiler||this.Compiler),r?c(void 0,r):new Promise(c);function c(u,d){const m=Go(n),p=i.parse(m);i.run(p,m,function(x,b,w){if(x||!b||!w)return g(x);const v=b,S=i.stringify(v,w);z3(S)?w.value=S:w.result=S,g(x,w)});function g(x,b){x||!b?d(x):u?u(b):r(void 0,b)}}}processSync(n){let r=!1,i;return this.freeze(),zd("processSync",this.parser||this.Parser),Bd("processSync",this.compiler||this.Compiler),this.process(n,c),Up("processSync","process",r),i;function c(u,d){r=!0,Mp(u),i=d}}run(n,r,i){Bp(n),this.freeze();const c=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?u(void 0,i):new Promise(u);function u(d,m){const p=Go(r);c.run(n,p,g);function g(x,b,w){const v=b||n;x?m(x):d?d(v):i(void 0,v,w)}}}runSync(n,r){let i=!1,c;return this.run(n,r,u),Up("runSync","run",i),c;function u(d,m){Mp(d),c=m,i=!0}}stringify(n,r){this.freeze();const i=Go(r),c=this.compiler||this.Compiler;return Bd("stringify",c),Bp(n),c(n,i)}use(n,...r){const i=this.attachers,c=this.namespace;if(Ud("use",this.frozen),n!=null)if(typeof n=="function")p(n,r);else if(typeof n=="object")Array.isArray(n)?m(n):d(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function u(g){if(typeof g=="function")p(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[x,...b]=g;p(x,b)}else d(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function d(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(g.plugins),g.settings&&(c.settings=Rd(!0,c.settings,g.settings))}function m(g){let x=-1;if(g!=null)if(Array.isArray(g))for(;++x<g.length;){const b=g[x];u(b)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function p(g,x){let b=-1,w=-1;for(;++b<i.length;)if(i[b][0]===g){w=b;break}if(w===-1)i.push([g,...x]);else if(x.length>0){let[v,...S]=x;const _=i[w][1];lh(_)&&lh(v)&&(v=Rd(!0,_,v)),i[w]=[g,v,...S]}}}}const M3=new Dh().freeze();function zd(a,n){if(typeof n!="function")throw new TypeError("Cannot `"+a+"` without `parser`")}function Bd(a,n){if(typeof n!="function")throw new TypeError("Cannot `"+a+"` without `compiler`")}function Ud(a,n){if(n)throw new Error("Cannot call `"+a+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bp(a){if(!lh(a)||typeof a.type!="string")throw new TypeError("Expected node, got `"+a+"`")}function Up(a,n,r){if(!r)throw new Error("`"+a+"` finished async. Use `"+n+"` instead")}function Go(a){return L3(a)?a:new wb(a)}function L3(a){return!!(a&&typeof a=="object"&&"message"in a&&"messages"in a)}function z3(a){return typeof a=="string"||B3(a)}function B3(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const U3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ip=[],Pp={allowDangerousHtml:!0},I3=/^(https?|ircs?|mailto|xmpp)$/i,P3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H3(a){const n=q3(a),r=$3(a);return G3(n.runSync(n.parse(r),r),a)}function q3(a){const n=a.rehypePlugins||Ip,r=a.remarkPlugins||Ip,i=a.remarkRehypeOptions?{...a.remarkRehypeOptions,...Pp}:Pp;return M3().use(wj).use(r).use(p3,i).use(n)}function $3(a){const n=a.children||"",r=new wb;return typeof n=="string"&&(r.value=n),r}function G3(a,n){const r=n.allowedElements,i=n.allowElement,c=n.components,u=n.disallowedElements,d=n.skipHtml,m=n.unwrapDisallowed,p=n.urlTransform||V3;for(const x of P3)Object.hasOwn(n,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+U3+x.id,void 0);return vb(a,g),e5(a,{Fragment:l.Fragment,components:c,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function g(x,b,w){if(x.type==="raw"&&w&&typeof b=="number")return d?w.children.splice(b,1):w.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let v;for(v in Cd)if(Object.hasOwn(Cd,v)&&Object.hasOwn(x.properties,v)){const S=x.properties[v],_=Cd[v];(_===null||_.includes(x.tagName))&&(x.properties[v]=p(String(S||""),v,x))}}if(x.type==="element"){let v=r?!r.includes(x.tagName):u?u.includes(x.tagName):!1;if(!v&&i&&typeof b=="number"&&(v=!i(x,b,w)),v&&w&&typeof b=="number")return m&&x.children?w.children.splice(b,1,...x.children):w.children.splice(b,1),b}}}function V3(a){const n=a.indexOf(":"),r=a.indexOf("?"),i=a.indexOf("#"),c=a.indexOf("/");return n===-1||c!==-1&&n>c||r!==-1&&n>r||i!==-1&&n>i||I3.test(a.slice(0,n))?a:""}const F3=({onBack:a,onStart:n,isAuthenticated:r,userRole:i})=>{const[c,u]=z.useState([]),[d,m]=z.useState(""),[p,g]=z.useState(!1),[x,b]=z.useState(""),[w,v]=z.useState(null),[S,_]=z.useState(""),[A,E]=z.useState(null);z.useEffect(()=>{q()},[]);const q=async()=>{g(!0);try{const D=await(await Qn("/blogs")).json();Array.isArray(D)&&u(D)}catch(I){console.error("Error fetching blogs:",I)}finally{g(!1)}},O=async I=>{if(I.preventDefault(),!(!x.trim()||!S.trim())){g(!0);try{const D=new FormData;D.append("title",x),D.append("slug",x.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")),D.append("content",S),D.append("status","published"),w&&D.append("image",w);const G=localStorage.getItem("token"),Z=await Qn("/blogs",{method:"POST",headers:{Authorization:`Bearer ${G}`},body:D});if(!Z.ok){const le=await Z.text();if(console.error("Upload failed:",Z.status,le),Z.status===401){alert("Your session has expired. Please login again."),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload();return}throw new Error(`Server Error (${Z.status}): ${le}`)}alert("Blog post published successfully!"),b(""),v(null),_(""),q()}catch(D){console.error("Error saving blog:",D),alert(`Failed to publish: ${D.message||"Unknown error"}`)}finally{g(!1)}}},Y=c.filter(I=>I.title.toLowerCase().includes(d.toLowerCase())||I.content.toLowerCase().includes(d.toLowerCase()));return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-white font-sans flex flex-col",children:[l.jsx("nav",{className:"sticky top-0 z-40 w-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2 group",children:[l.jsx(Sn,{className:"w-8 h-8 text-medical-600"}),l.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-medical-600 to-medical-500",children:"MDnexa Blog"})]}),!r&&l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"})]})}),l.jsxs("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[r&&i==="admin"&&l.jsxs("div",{className:"mb-12 bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-lg font-bold",children:"Create New Blog Post"})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Title"}),l.jsx("input",{type:"text",value:x,onChange:I=>b(I.target.value),placeholder:"Enter blog title...",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-medical-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cover Image"}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"file",accept:"image/*",onChange:I=>v(I.target.files?I.target.files[0]:null),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-medical-500 outline-none text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-medical-50 file:text-medical-700 hover:file:bg-medical-100"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Content (Markdown)"}),l.jsx("textarea",{value:S,onChange:I=>_(I.target.value),placeholder:"Write your article here...",rows:6,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-medical-500 outline-none resize-y"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:p||!x.trim()||!S.trim(),className:"px-6 py-2.5 bg-medical-600 hover:bg-medical-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-medical-600/20 disabled:opacity-50 flex items-center gap-2",children:p?"Publishing...":"Publish Post"})})]})]}),l.jsxs("div",{className:"mb-8 relative max-w-2xl mx-auto",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l.jsx("svg",{className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),l.jsx("input",{type:"text",value:d,onChange:I=>m(I.target.value),placeholder:"Search medical insights...",className:"w-full pl-12 pr-4 py-4 rounded-full border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm focus:ring-2 focus:ring-medical-500 outline-none transition-all placeholder:text-slate-400"})]}),p?l.jsx("div",{className:"flex justify-center py-20",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medical-600"})}):Y.length===0?l.jsxs("div",{className:"text-center py-20 text-slate-500",children:["No blogs found. ",r&&i==="admin"?"Try creating one!":""]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Y.map(I=>{const D=I.image_url;return l.jsxs("div",{onClick:()=>E(I),className:"group bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all border border-slate-200 dark:border-slate-800 cursor-pointer flex flex-col h-full",children:[l.jsxs("div",{className:"h-48 overflow-hidden bg-slate-100 dark:bg-slate-800 relative",children:[D?l.jsx("img",{src:D,alt:I.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:l.jsx(Sn,{className:"w-12 h-12 opacity-20"})}),l.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-black/80 backdrop-blur px-3 py-1 rounded-full text-xs font-semibold shadow-sm",children:"Medical"})]}),l.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-xl font-bold mb-3 line-clamp-2 text-slate-900 dark:text-white group-hover:text-medical-600 dark:group-hover:text-medical-400 transition-colors",children:I.title}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm line-clamp-3 mb-4 flex-1",children:[I.content.replace(/[#*`]/g,"").substring(0,150),"..."]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 border-t border-slate-100 dark:border-slate-800 pt-4 mt-auto",children:[l.jsx("span",{children:new Date(I.created_at).toLocaleDateString()}),l.jsx("span",{children:"Read More "})]})]})]},I.id)})})]}),A&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>E(null),children:l.jsxs("div",{className:"bg-white dark:bg-slate-950 w-full max-w-4xl max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl flex flex-col animate-slide-up",onClick:I=>I.stopPropagation(),children:[l.jsxs("div",{className:"h-64 sm:h-80 relative flex-shrink-0",children:[A.image_url&&l.jsx("img",{src:A.image_url,alt:A.title,className:"w-full h-full object-cover"}),l.jsx("button",{onClick:()=>E(null),className:"absolute top-4 right-4 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center backdrop-blur transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-8 sm:p-10 overflow-y-auto custom-scrollbar",children:[l.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-6 text-slate-900 dark:text-white leading-tight",children:A.title}),l.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:l.jsx(H3,{children:A.content})})]})]})})]})},Y3=({onBack:a,onStart:n})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900 flex flex-col",children:[l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between w-full sticky top-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md z-40 border-b border-slate-100 dark:border-slate-900",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity group",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center overflow-hidden",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"MDnexa"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"}),l.jsx("button",{onClick:n,className:"hidden md:block px-5 py-2 rounded-lg bg-medical-600 text-white text-sm font-medium hover:bg-medical-700 transition-colors shadow-lg shadow-medical-600/20",children:"Start Now"})]})]}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 py-16 md:py-20 border-b border-slate-200 dark:border-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:["About ",l.jsx("span",{className:"text-medical-600 dark:text-medical-400",children:"MDnexa"})]}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Innovating the future of medical learning from Berlin, Germany."}),l.jsx("p",{className:"mt-4 text-xl font-bold text-slate-900 dark:text-white tracking-wide",children:"Built by Clinicians."})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-16 space-y-16",children:[l.jsx("section",{children:l.jsxs("p",{className:"text-lg md:text-xl leading-relaxed text-slate-700 dark:text-slate-300",children:["MDnexa is an advanced, guideline-aware medical education AI assistant developed by ",l.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Trulonis Tech"}),", a physician-led health-technology company based in Berlin, Germany."]})}),l.jsxs("section",{className:"bg-medical-50 dark:bg-medical-900/10 rounded-2xl p-8 md:p-10 border border-medical-100 dark:border-medical-900/30",children:[l.jsx("h2",{className:"text-2xl font-bold text-medical-700 dark:text-medical-400 mb-4",children:"Our Mission"}),l.jsx("p",{className:"text-lg text-slate-700 dark:text-slate-300 leading-relaxed",children:"To empower medical students, doctors, and healthcare professionals with structured, accurate, clinically aligned knowledge - instantly."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"What We Do"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["Understand pathophysiology","Explore differential diagnoses","Review drug suitability & interactions","Interpret labs, imaging, and clinical findings","Prepare for exams and OSCEs","Strengthen clinical reasoning"].map((r,i)=>l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-medical-500",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:r})]},i))}),l.jsx("p",{className:"mt-6 text-slate-500 dark:text-slate-400 italic",children:"All within seconds - designed for education, not real-world patient care."})]}),l.jsx("hr",{className:"border-slate-200 dark:border-slate-800"}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"Who We Are"}),l.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-6 leading-relaxed",children:"Trulonis Tech is a Berlin-based medical AI company building safe, transparent, and high-quality tools for medical learning and hospital training."}),l.jsx("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[{icon:"",text:"Clinical Expertise"},{icon:"",text:"AI Engineering"},{icon:"",text:"Medical Education"},{icon:"",text:"User-Centered Design"}].map((r,i)=>l.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[l.jsx("div",{className:"text-2xl mb-2",children:r.icon}),l.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:r.text})]},i))}),l.jsx("p",{className:"mt-6 text-slate-600 dark:text-slate-400",children:"Our broader vision is to create a modular medical intelligence ecosystem that supports every specialty - starting with MDnexa."})]}),l.jsxs("section",{className:"bg-blue-50 dark:bg-slate-900 text-slate-900 dark:text-white rounded-2xl p-8 md:p-12 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-medical-500 opacity-10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),l.jsx("h2",{className:"text-2xl font-bold mb-6 relative z-10 text-slate-900 dark:text-white",children:"Why We Built MDnexa"}),l.jsxs("div",{className:"space-y-4 text-slate-600 dark:text-slate-300 relative z-10",children:[l.jsx("p",{children:"Medicine is expanding rapidly, and healthcare professionals are under enormous pressure. Students face intense exam preparation, while clinicians must keep up with evolving guidelines."}),l.jsx("p",{children:"MDnexa was created to solve these challenges by offering:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-slate-700 dark:text-slate-300 font-medium",children:[l.jsx("li",{children:"Fast, structured medical explanations"}),l.jsx("li",{children:"Guideline-aware reasoning"}),l.jsx("li",{children:"Region-adapted outputs"}),l.jsx("li",{children:"Safe educational use"}),l.jsx("li",{children:"Clear, accurate breakdowns of complex topics"})]}),l.jsx("p",{className:"pt-4 font-semibold text-medical-600 dark:text-medical-400",children:"We believe medical learning should be accessible, intuitive, and modern - not overwhelming."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-8",children:"Our Values"}),l.jsx("div",{className:"space-y-6",children:[{title:"Safety First",desc:"MDnexa is strictly for educational use."},{title:"Accuracy",desc:"Answers follow medical guidelines and structured clinical logic."},{title:"Transparency",desc:"Clear disclaimers and limitations."},{title:"Accessibility",desc:"High-quality medical learning for everyone."},{title:"Respect",desc:"Tools that support, never replace."}].map((r,i)=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-1.5 h-full min-h-[40px] bg-medical-500 rounded-full"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:r.title}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:r.desc.replace("","-")})]})]},i))})]})]}),l.jsx("footer",{className:"bg-slate-50 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 py-12 mt-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Powered by Trulonis Tech"}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Berlin, Germany"})]}),l.jsx("div",{className:"text-sm text-slate-400 dark:text-slate-600",children:"Innovating the future of medical learning."})]})})]}),K3=({onBack:a,onStart:n})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900 flex flex-col",children:[l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between w-full sticky top-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md z-40 border-b border-slate-100 dark:border-slate-900",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity group",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center overflow-hidden text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"MDnexa"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"}),l.jsx("button",{onClick:n,className:"hidden md:block px-5 py-2 rounded-lg bg-medical-600 text-white text-sm font-medium hover:bg-medical-700 transition-colors shadow-lg shadow-medical-600/20",children:"Start Now"})]})]}),l.jsxs("div",{className:"flex-1 max-w-3xl mx-auto px-6 py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Terms of Service"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 text-sm",children:"Last updated: 23.11.2025"}),l.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsxs("p",{className:"lead text-lg text-slate-700 dark:text-slate-300 mb-8",children:["Welcome to ",l.jsx("strong",{children:"MDnexa"}),", a medical-education AI assistant provided by ",l.jsx("strong",{children:"Trulonis Holding UG (haftungsbeschrnkt)"})," operating under the brand name ",l.jsx("strong",{children:"Trulonis Tech"}),", based in Berlin, Germany.",l.jsx("br",{}),l.jsx("br",{}),"By accessing or using MDnexa, you agree to the following Terms of Service. Please read them carefully."]}),l.jsxs("div",{className:"space-y-10",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"1. Educational Use Only"}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-r-lg",children:[l.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"MDnexa is designed exclusively for educational, informational, and study-support purposes."}),l.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"It is not a medical device and must not be used for:"}),l.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1 text-sm text-blue-700 dark:text-blue-400",children:[l.jsx("li",{children:"Diagnosing conditions"}),l.jsx("li",{children:"Treating patients"}),l.jsx("li",{children:"Making clinical decisions"}),l.jsx("li",{children:"Emergency or life-critical situations"}),l.jsx("li",{children:"Providing professional medical advice"})]}),l.jsx("p",{className:"mt-3 text-sm font-bold text-blue-800 dark:text-blue-300",children:"Always consult qualified healthcare professionals for medical decisions."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"2. No Professional Relationship"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Using MDnexa does not create a doctor-patient relationship, clinician-user relationship, or any form of professional medical relationship."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"3. Accuracy & Limitations"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"While MDnexa aims to follow medical guidelines and best practices, it may:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Produce errors"}),l.jsx("li",{children:"Omit important details"}),l.jsx("li",{children:"Generate outdated information"}),l.jsx("li",{children:"Misinterpret queries"})]}),l.jsx("p",{className:"mt-2 font-medium text-slate-700 dark:text-slate-300",children:"You are responsible for verifying all information independently."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"4. User Responsibilities"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"You agree not to:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Input real patient data or identifiable personal health information (PII/PHI)"}),l.jsx("li",{children:"Use MDnexa for clinical decision-making"}),l.jsx("li",{children:"Misuse the platform for harmful or illegal activities"}),l.jsx("li",{children:"Attempt reverse engineering or unauthorized access"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"5. Accounts & Access"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"If MDnexa offers account creation, you must:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Provide accurate information"}),l.jsx("li",{children:"Keep login credentials secure"}),l.jsx("li",{children:"Be at least 16 years old"})]}),l.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Trulonis Holding UG (haftungsbeschrnkt) may suspend or terminate accounts that violate policies."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"6. Subscriptions & Payments"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"If MDnexa offers paid tiers:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Payments are processed securely via third-party providers (e.g., Stripe)"}),l.jsx("li",{children:"Subscriptions may auto-renew"}),l.jsx("li",{children:"Refunds follow our refund policy, if applicable"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"7. Intellectual Property"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"All content, branding, design, and technology of MDnexa belong to Trulonis Holding UG (haftungsbeschrnkt) (d/b/a Trulonis Tech). You may not copy, reproduce, or distribute content without permission."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"8. Service Availability"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"MDnexa may change, update, or discontinue features at any time. We cannot guarantee uninterrupted access."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"9. Limitation of Liability"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"Trulonis Holding UG (haftungsbeschrnkt) is not liable for:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Damages arising from reliance on MDnexa"}),l.jsx("li",{children:"Errors, inaccuracies, or omissions"}),l.jsx("li",{children:"Service interruptions"})]}),l.jsx("p",{className:"mt-2 font-medium text-slate-700 dark:text-slate-300",children:"Your use of MDnexa is at your own risk."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"10. Governing Law"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"These Terms are governed by the laws of Germany. Any disputes fall under the jurisdiction of Berlin courts."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"11. Changes to Terms"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"We may update these Terms. Continued use means you accept the changes."})]})]})]})]}),l.jsx("footer",{className:"bg-slate-50 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 py-12 mt-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Powered by Trulonis Tech"}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Berlin, Germany"})]}),l.jsx("div",{className:"text-sm text-slate-400 dark:text-slate-600",children:" 2025 MDnexa. All rights reserved."})]})})]}),Q3=({onBack:a,onStart:n})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900 flex flex-col",children:[l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between w-full sticky top-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md z-40 border-b border-slate-100 dark:border-slate-900",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity group",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center overflow-hidden text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"MDnexa"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"}),l.jsx("button",{onClick:n,className:"hidden md:block px-5 py-2 rounded-lg bg-medical-600 text-white text-sm font-medium hover:bg-medical-700 transition-colors shadow-lg shadow-medical-600/20",children:"Start Now"})]})]}),l.jsxs("div",{className:"flex-1 max-w-3xl mx-auto px-6 py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Privacy Policy"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 text-sm",children:"Last updated: 23.11.2025"}),l.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsxs("p",{className:"lead text-lg text-slate-700 dark:text-slate-300 mb-8",children:["This Privacy Policy explains how ",l.jsx("strong",{children:"Trulonis Holding UG (haftungsbeschrnkt)"})," (operating as ",l.jsx("strong",{children:"Trulonis Tech"}),"), based in Berlin, Germany, handles your data when you use ",l.jsx("strong",{children:"MDnexa"}),".",l.jsx("br",{}),l.jsx("br",{}),"We follow GDPR principles with a strong focus on privacy, safety, and transparency."]}),l.jsxs("div",{className:"space-y-10",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"1. Data We Collect"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"A. Information You Provide"}),l.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-400 space-y-1",children:[l.jsx("li",{children:"Email (if creating an account)"}),l.jsx("li",{children:"Login credentials"}),l.jsx("li",{children:"Subscription data (for paid plans)"})]}),l.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-500 italic",children:"We do not require or allow you to enter identifiable patient data."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"B. Automatically Collected Data"}),l.jsxs("ul",{className:"list-disc pl-5 text-slate-600 dark:text-slate-400 space-y-1",children:[l.jsx("li",{children:"Device type"}),l.jsx("li",{children:"Browser type"}),l.jsx("li",{children:"Usage patterns"}),l.jsx("li",{children:"Crash logs"}),l.jsx("li",{children:"Basic analytics (anonymous whenever possible)"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"C. AI Interactions"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your text inputs may be processed to generate responses. We do not store them permanently unless needed for service functionality (e.g., chat history if enabled)."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"2. No Patient Data Allowed"}),l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-r-lg",children:[l.jsx("p",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"MDnexa is not a clinical tool."}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mb-2",children:"You must not enter real patient names, identifiers, or medical records."}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"If such data is entered accidentally, it will be processed only to generate the response and not stored for profiling."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"3. How We Use Your Data"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"We use data to:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Operate and improve MDnexa"}),l.jsx("li",{children:"Provide customer support"}),l.jsx("li",{children:"Manage subscriptions"}),l.jsx("li",{children:"Optimize performance"}),l.jsx("li",{children:"Maintain security"})]}),l.jsx("p",{className:"mt-2 font-medium text-slate-700 dark:text-slate-300",children:"We never sell your personal data."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"4. Legal Basis (GDPR)"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"We process data based on:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Consent"})," (account creation, marketing emails)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Contract"})," (providing access to MDnexa)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Legitimate interests"})," (security, analytics)"]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"5. Third-Party Services"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"We may use secure third-party tools:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Authentication (e.g., Google Login)"}),l.jsx("li",{children:"Payment processing (e.g., Stripe)"}),l.jsx("li",{children:"Hosting and analytics"})]}),l.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Each provider follows its own privacy rules."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"6. Cookies"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"We may use cookies for:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Login sessions"}),l.jsx("li",{children:"Analytics"}),l.jsx("li",{children:"Preferences"})]}),l.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"You can disable cookies in your browser settings."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"7. Your Rights (GDPR)"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"You have the right to:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Access your data"}),l.jsx("li",{children:"Request deletion"}),l.jsx("li",{children:"Correct inaccuracies"}),l.jsx("li",{children:"Withdraw consent"}),l.jsx("li",{children:"Request data export"}),l.jsx("li",{children:"Lodge a complaint with a supervisory authority"})]}),l.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"To exercise these rights, contact us at the email below."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"8. Data Security"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"We use industry-standard security measures, encryption, and access controls. No system is 100% secure, but we continuously improve protections."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"9. Data Retention"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:"We keep personal data only as long as necessary for:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-slate-600 dark:text-slate-400",children:[l.jsx("li",{children:"Account management"}),l.jsx("li",{children:"Legal obligations"}),l.jsx("li",{children:"Security"}),l.jsx("li",{children:"Service operation"})]}),l.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"You may request deletion at any time."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3",children:"10. Updates"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"This Privacy Policy may be updated. We will notify users of significant changes."})]})]})]})]}),l.jsx("footer",{className:"bg-slate-50 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 py-12 mt-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Powered by Trulonis Tech"}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Berlin, Germany"})]}),l.jsx("div",{className:"text-sm text-slate-400 dark:text-slate-600",children:" 2025 MDnexa. All rights reserved."})]})})]}),W3=({onBack:a,onStart:n})=>{const[r,i]=z.useState(""),[c,u]=z.useState(""),[d,m]=z.useState(!1),[p,g]=z.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-800 dark:text-white font-sans selection:bg-medical-100 dark:selection:bg-medical-900 flex flex-col",children:[l.jsxs("nav",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between w-full sticky top-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md z-40 border-b border-slate-100 dark:border-slate-900",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-2.5 hover:opacity-80 transition-opacity group",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center overflow-hidden text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"MDnexa"})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("button",{onClick:n,className:"text-sm font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Login"}),l.jsx("button",{onClick:n,className:"hidden md:block px-5 py-2 rounded-lg bg-medical-600 text-white text-sm font-medium hover:bg-medical-700 transition-colors shadow-lg shadow-medical-600/20",children:"Start Now"})]})]}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 py-16 md:py-20 border-b border-slate-200 dark:border-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:["Contact ",l.jsx("span",{className:"text-medical-600 dark:text-medical-400",children:"Us"})]}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"We're here to help. Reach out for support, feedback, or business inquiries."})]})}),l.jsxs("div",{className:"flex-1 max-w-4xl mx-auto px-6 py-16 w-full",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-6",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Support & Feedback"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"For technical issues, account assistance, or general questions."}),l.jsx("a",{href:"mailto:service@mdnexa.com",className:"text-medical-600 dark:text-medical-400 font-semibold hover:underline text-lg",children:"service@mdnexa.com"})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-50 dark:bg-purple-900/20 rounded-xl flex items-center justify-center text-purple-600 dark:text-purple-400 mb-6",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Partnerships"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"For institutional licenses, research collaborations, or business inquiries."}),l.jsx("a",{href:"mailto:partner@mdnexa.com",className:"text-medical-600 dark:text-medical-400 font-semibold hover:underline text-lg",children:"partner@mdnexa.com"})]})]}),l.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-2xl p-8 border border-slate-200 dark:border-slate-800 flex flex-col md:flex-row items-center justify-between gap-6 text-center md:text-left",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:"Trulonis Tech"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Berlin, Germany"})]})}),l.jsx("p",{className:"mt-8 text-center text-sm text-slate-400 dark:text-slate-500 italic",children:"We aim to respond within 48 hours."})]}),l.jsx("footer",{className:"bg-slate-50 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-900 py-12 mt-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Powered by Trulonis Tech"}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Berlin, Germany"})]}),l.jsx("div",{className:"text-sm text-slate-400 dark:text-slate-600",children:" 2025 MDnexa. All rights reserved."})]})})]})},J3=({onBack:a,onSuccess:n,initialView:r="login",pendingSubscriptionPriceId:i})=>{console.log("[FORGOT] Component mounted (AuthPage)");const[c,u]=z.useState(r),[d,m]=z.useState(""),[p,g]=z.useState(""),[x,b]=z.useState(""),[w,v]=z.useState(!1),[S,_]=z.useState(null),[A,E]=z.useState(null),[q,O]=z.useState(null),[Y,I]=z.useState(null);z.useEffect(()=>{console.log("AuthPage Mounted. View:",c);const W=localStorage.getItem("mdnexa_ref");W&&(O(W),D(W))},[c]);const D=async W=>{try{const he=await lt(`/referrals/validate?code=${W}`);he&&he.valid?(!he.table&&he.category,I(he)):(console.log("Referral code invalid:",he==null?void 0:he.message),localStorage.removeItem("mdnexa_ref"))}catch(he){console.error("Referral validation failed",he)}},[G,Z]=z.useState(!1),le=async()=>{if(p){v(!0);try{const{error:W}=await Ft.auth.resend({type:"signup",email:p});if(W)throw W;E("Verification email sent! Please check your inbox."),Z(!1)}catch(W){console.error("Resend error:",W),_(W.message||"Failed to resend verification.")}finally{v(!1)}}},re=async W=>{v(!0),_(null);try{const{error:he}=await Ft.auth.signInWithOAuth({provider:W,options:{redirectTo:`${window.location.origin}/`}});if(he)throw he}catch(he){console.error(`${W} login error:`,he),_(he.message||`Failed to login with ${W}`),v(!1)}},oe=async W=>{if(W.preventDefault(),W.stopPropagation(),v(!0),_(null),E(null),Z(!1),c==="forgot-password"){console.log("[FORGOT] submitting reset for",p);try{const te=`${window.location.origin}/reset-password`;try{if(!(await lt("/users/check-email","POST",{email:p})).exists){_("We couldn't find an account with that email address.");return}}catch(ee){console.warn("Failed to check email existence, proceeding with standard flow.",ee)}const{data:L,error:V}=await Ft.auth.resetPasswordForEmail(p,{redirectTo:te});V?(console.error("[FORGOT] Error:",V),_(V.message)):E("A password reset link has been sent to your email.")}catch(te){console.error("[FORGOT] Exception:",te),_(te.message||"Failed to process request.")}finally{v(!1)}return}const he={price_1SYuANFvNzuNoc9FLyLTf8ny:"https://buy.stripe.com/9B6cN5dgg1Gt9sbegm5Ne07",price_1SYuB2FvNzuNoc9FjxK1LNyV:"https://buy.stripe.com/aFa8wPfoocl76fZ3BI5Ne08"};let de;c==="login"?i&&(de=he[i]):Y&&["team_referrals","family_referrals","ambassador_referrals","ambassador","team","family"].includes(Y.table||Y.category)?de=void 0:(de=he[i||"price_1SYuANFvNzuNoc9FLyLTf8ny"],de&&(Y!=null&&Y.promo_code)&&(de+=`?prefilled_promo_code=${Y.promo_code}`));try{if(c==="login"){const{data:te,error:L}=await Ft.auth.signInWithPassword({email:p,password:x});if(L)throw L;if(te.session&&(localStorage.setItem("token",te.session.access_token),localStorage.setItem("user",JSON.stringify(te.session.user))),de){const V=te.session.user.id,ee=te.session.user.email,fe=de.includes("?")?"&":"?",N=`${de}${fe}client_reference_id=${V}&prefilled_email=${encodeURIComponent(ee||"")}`;window.location.href=N;return}n()}else try{console.log("Attempting Supabase signup...");const{data:te,error:L}=await Ft.auth.signUp({email:p,password:x,options:{data:{full_name:d,ref_source:q||void 0}}});if(L)throw L;if(Y)try{lt("/referrals/track","POST",{code:Y.code,table:Y.table}).catch(fe=>console.warn("Referral tracking schema check",fe))}catch{}localStorage.removeItem("mdnexa_ref");const V=te.session,ee=te.user;if(V){if(localStorage.setItem("token",V.access_token),localStorage.setItem("user",JSON.stringify(V.user)),de){const fe=V.user.id,N=V.user.email,T=de.includes("?")?"&":"?",M=`${de}${T}client_reference_id=${fe}&prefilled_email=${encodeURIComponent(N||"")}`;window.location.href=M;return}n()}else if(ee)console.log("User created, waiting for email confirmation."),E("Account created! Please check your email inbox (and spam) to confirm your account."),ee.identities&&ee.identities.length;else throw new Error("Signup successful but no user returned.")}catch(te){if(console.error("Signup failed:",te),te.message.includes("User already registered"))_("Account already exists. Please log in."),u("login");else throw new Error(te.message||"Signup failed")}}catch(te){console.error("Auth error:",te);let L=te.message||"An error occurred during authentication.";L.includes("Invalid login credentials")?L="Invalid email or password.":L.includes("Email not confirmed")&&(L="Email not confirmed. Please verify your account.",Z(!0)),_(L)}finally{v(!1)}};return l.jsxs("div",{className:"fixed inset-0 z-[60] bg-white dark:bg-[#0B1120] flex flex-col items-center justify-center p-4",children:[l.jsx("button",{onClick:a,className:"absolute top-6 left-6 p-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:c==="login"?"Welcome Back":c==="signup"?"Create Account":"Reset Password"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:c==="login"?"Enter your credentials to access your account":c==="signup"?"Sign up to start your medical AI journey":"Enter your email to receive a reset link"}),c==="signup"&&Y&&l.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-sm font-medium border border-green-200 dark:border-green-800 animate-fade-in-up",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),Y.category&&["team_referrals","family_referrals","ambassador_referrals","ambassador","team","family"].includes(Y.table||Y.category)?"Unlimited Access Unlocked (Free)":`${Y.category?Y.category+" ":""}Referral Applied: ${Y.discount_percent}% Off`]})]}),l.jsxs("form",{onSubmit:oe,className:"space-y-4",target:"_self",children:[S&&l.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-300 text-sm",children:[l.jsx("p",{children:S}),G&&l.jsx("button",{type:"button",onClick:le,className:"mt-2 text-xs font-semibold underline hover:text-red-800 dark:hover:text-red-200",children:"Resend Verification Email"})]}),A&&l.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-300 text-sm",children:A}),c==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:d,onChange:W=>m(W.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-medical-500/20 focus:border-medical-500 transition-all text-slate-900 dark:text-white",placeholder:"Dr. Jane Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:p,onChange:W=>g(W.target.value.trim()),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-medical-500/20 focus:border-medical-500 transition-all text-slate-900 dark:text-white",placeholder:"doctor@hospital.com"})]}),c==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Referral Code (Optional)"}),l.jsx("input",{type:"text",value:q||"",onChange:W=>{const he=W.target.value.trim();O(he),he.length>2?D(he):I(null)},className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-medical-500/20 focus:border-medical-500 transition-all text-slate-900 dark:text-white",placeholder:"Have a code?"})]}),c!=="forgot-password"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),c==="login"&&l.jsx("button",{type:"button",onClick:()=>u("forgot-password"),className:"text-xs font-semibold text-medical-600 dark:text-medical-400 hover:underline",children:"Forgot password?"})]}),l.jsx("input",{type:"password",required:!0,minLength:6,value:x,onChange:W=>b(W.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-medical-500/20 focus:border-medical-500 transition-all text-slate-900 dark:text-white",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:w,className:"w-full py-3.5 bg-medical-600 hover:bg-medical-700 text-white font-bold rounded-xl shadow-lg shadow-medical-600/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:w?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):c==="login"?"Log In":c==="signup"?"Sign Up":"Send Reset Link"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white dark:bg-[#0B1120] text-slate-500",children:"Or continue with"})})]}),l.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:l.jsxs("button",{type:"button",onClick:()=>re("google"),disabled:w,className:"flex w-full items-center justify-center gap-3 rounded-xl bg-white dark:bg-slate-800 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-white shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 focus-visible:ring-transparent transition-all",children:[l.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M12.0003 20.45c4.6667 0 7.9167-3.25 7.9167-8.1667 0-.75-.0834-1.25-.1667-1.75H12.0003v3.3333h4.5833C16.2503 15.75 13.917 17.5 12.0003 17.5c-3.1666 0-5.75-2.1666-6.6666-5.25C5.0836 11.25 5.0836 10.1667 5.3336 9.16667c.9167-3.08334 3.5-5.25 6.6667-5.25 1.5833 0 3.0833.58333 4.25 1.58333l2.4167-2.41666C16.8336 1.41667 14.5003.5 12.0003.5 7.08363.5 2.83363 3.5 1.08363 7.75c-.66667 1.5833-1 3.1667-1 4.75 0 1.5833.33333 3.1667 1 4.75 1.75 4.25 6.00001 7.25 10.91667 7.25z",fill:"#4285F4"}),l.jsx("path",{d:"M16.5833 13.8667c0-.75-.0833-1.25-.1666-1.75H12v3.3333h4.5833c-.3333 1.25-1.5 3-4.5833 3v2.8333c5.0833 0 8.0833-3.6666 4.5833-7.4166z",fill:"#34A853"}),l.jsx("path",{d:"M2.91663 12.5c.25 1 .91666 2.0833 1.08333 2.5l2.4167-1.9167c-.25-.75-.33333-1.5833-.33333-2.5 0-.91666.08333-1.75.33333-2.5l-2.4167-1.83333C1.49996 9.33334 1.16663 10.9167 1.16663 12.5h1.75z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 3.91667c1.5833 0 3.0833.58333 4.25 1.58333l2.4167-2.41666C16.8333 1.41667 14.5.5 12 .5 7.08333.5 2.83333 3.5 1.08333 7.75l2.41667 1.83333c.91667-3.08333 3.5-5.25 6.6667-5.66666h1.8333z",fill:"#EA4335"})]}),l.jsx("span",{className:"text-sm font-semibold",children:"Google"})]})})]}),l.jsx("div",{className:"mt-8 text-center",children:c==="forgot-password"?l.jsx("button",{onClick:()=>{u("login"),_(null),E(null)},className:"text-slate-600 dark:text-slate-400 font-semibold hover:text-medical-600 dark:hover:text-medical-400 transition-colors",children:"Back to Login"}):l.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c==="login"?"Don't have an account? ":"Already have an account? ",l.jsx("button",{onClick:()=>{u(c==="login"?"signup":"login"),_(null),E(null)},className:"text-medical-600 dark:text-medical-400 font-semibold hover:underline",children:c==="login"?"Sign up":"Log in"})]})})]})]})},X3=()=>{const[a,n]=z.useState(""),[r,i]=z.useState(""),[c,u]=z.useState(!1),[d,m]=z.useState(null),[p,g]=z.useState(!1),[x,b]=z.useState(null);z.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("token");_?b(_):m("Invalid or missing reset token.")},[]);const w=()=>{window.location.href="/"},v=async S=>{if(S.preventDefault(),m(null),a.length<6){m("Password must be at least 6 characters.");return}if(a!==r){m("Passwords do not match.");return}u(!0);try{if(!x)throw new Error("Missing reset token.");const _=await Qn("/auth/reset-password-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x,newPassword:a})});if(_&&_.success===!1)throw new Error(_.error||_.message||"Failed to reset password");g(!0)}catch(_){console.error("Reset failed",_),m(_.message||"Failed to update password. Please try again.")}finally{u(!1)}};return p?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 px-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl shadow-xl w-full max-w-md text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-600 dark:text-green-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-900 dark:text-white",children:"Password Reset!"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8",children:"Your password has been successfully updated. You can now log in with your new password."}),l.jsx("button",{onClick:w,className:"w-full bg-medical-600 hover:bg-medical-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:"Go to Login"})]})}):l.jsx("div",{className:"min-h-screen bg-white dark:bg-slate-950 flex flex-col items-center justify-center px-4 font-sans",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"inline-block p-3 rounded-2xl bg-white dark:bg-slate-900 shadow-xl shadow-slate-200/50 dark:shadow-black/50 mb-6",children:l.jsx(Sn,{className:"w-12 h-12 text-medical-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Reset Password"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Enter your new password below."})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl shadow-2xl shadow-slate-200/50 dark:shadow-black/20 border border-slate-100 dark:border-slate-800",children:[d&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm font-medium",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 flex-shrink-0",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})}),d]}),l.jsxs("form",{onSubmit:v,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"New Password"}),l.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-medical-500 focus:border-transparent outline-none transition-all",placeholder:"",value:a,onChange:S=>n(S.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Confirm Password"}),l.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-medical-500 focus:border-transparent outline-none transition-all",placeholder:"",value:r,onChange:S=>i(S.target.value)})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full bg-medical-600 hover:bg-medical-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-medical-600/20 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Resetting...":"Reset Password"})]})]})]})})},Z3=()=>{const[a,n]=z.useState(""),[r,i]=z.useState("idle"),[c,u]=z.useState(null),d=async m=>{m.preventDefault(),console.log("[PW_RESET_CLIENT] submitting",a),i("loading"),u(null);try{const p=await Qn("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});console.log("[PW_RESET_CLIENT] response",p),p.success?i("success"):(i("error"),u(p.message||"Something went wrong while sending the reset email."))}catch(p){console.error("[PW_RESET_CLIENT] unexpected error",p),i("error"),u((p==null?void 0:p.message)??"Unexpected error")}};return l.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex flex-col items-center justify-center p-4 font-sans",children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-900 rounded-3xl shadow-xl p-8 border border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-medical-600",children:l.jsx(Sn,{className:"w-full h-full"})}),l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Reset Password"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Enter the email you used to sign up. Well send you a reset link."})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"email",required:!0,value:a,onChange:m=>n(m.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-medical-500/20 focus:border-medical-500 transition-all text-slate-900 dark:text-white"})}),l.jsx("button",{type:"submit",disabled:r==="loading",className:"w-full py-3.5 bg-medical-600 hover:bg-medical-700 text-white font-bold rounded-xl shadow-lg shadow-medical-600/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:r==="loading"?"Sending...":"Send reset link"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-slate-600 dark:text-slate-400 font-semibold hover:text-medical-600 dark:hover:text-medical-400 transition-colors",children:"Back to Login"})}),r==="success"&&l.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-xl text-center",children:"Weve sent a reset link to this email."}),r==="error"&&l.jsx("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-center",children:c??"Something went wrong. Please try again."})]})})},Hp=({isOpen:a,onLogin:n,onSignup:r})=>a?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-800 p-8 text-center transform transition-all scale-100",children:[l.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-500 dark:text-slate-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})}),l.jsx("p",{className:"text-slate-800 dark:text-white mb-8 text-lg font-medium leading-relaxed",children:"To continue using MDnexa and access unlimited information, please log in or create an account"}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-medical-600 hover:bg-medical-700 text-white font-semibold rounded-xl shadow-lg shadow-medical-600/20 transition-all transform hover:-translate-y-0.5",children:"Sign Up"}),l.jsx("button",{onClick:n,className:"w-full py-3 px-4 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:"Log In"})]})]})}):null,ch=({isOpen:a,onClose:n,toolName:r,userEmail:i,userId:c})=>{const[u,d]=z.useState(i||""),[m,p]=z.useState("idle"),[g,x]=z.useState("");if(!a)return null;const b=async w=>{w.preventDefault(),p("loading");try{const v=await lt("/tools/waitlist","POST",{email:u,tool_name:r,user_id:c});v.success?(p("success"),x(v.message),setTimeout(n,2e3)):(p("error"),x(v.error||"Failed to join waitlist."))}catch{p("error"),x("Network error. Please try again.")}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-sm p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-6 -right-6 text-slate-100 dark:text-slate-700/30 transform rotate-12",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-32 h-32",children:l.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})})}),l.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 relative z-10 flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-amber-500",children:l.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})}),r," Locked"]}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 relative z-10",children:"This advanced tool is currently in closed beta. Join the waitlist to get early access."}),m==="success"?l.jsx("div",{className:"text-center py-4 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 rounded-lg",children:g}):l.jsxs("form",{onSubmit:b,className:"relative z-10",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1.5 uppercase tracking-wide",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:u,onChange:w=>d(w.target.value),placeholder:"doctor@hospital.com",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-medical-500 focus:border-transparent outline-none transition-all dark:text-white mb-4"}),m==="error"&&l.jsx("p",{className:"text-xs text-red-500 mb-3",children:g}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:m==="loading",className:"flex-1 px-4 py-2.5 rounded-xl bg-slate-800 dark:bg-white text-white dark:text-slate-900 font-bold hover:opacity-90 transition-opacity disabled:opacity-50 flex justify-center items-center gap-2",children:m==="loading"?l.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Join Waitlist"})]})]})]})})},eS=({onSearch:a})=>{const[n,r]=z.useState(""),i=La.useMemo(()=>["Ask AI a specific medical question...",...Vp.slice(0,10)],[]),c=Wr(i),u=d=>{d.preventDefault(),n.trim()&&a(n)};return l.jsxs("form",{onSubmit:u,className:"mb-2 bg-white dark:bg-slate-800 rounded-xl shadow-card flex items-center gap-3 border border-slate-100 dark:border-slate-700 transition-all overflow-hidden",children:[l.jsx("div",{className:"pl-4 text-medical-500",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})}),l.jsx("input",{type:"text",value:n,onChange:d=>r(d.target.value),placeholder:c,className:"flex-1 py-4 bg-transparent border-none focus:ring-0 outline-none text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 font-medium"}),l.jsx("button",{type:"submit",disabled:!n.trim(),className:"pr-4 text-medical-600 hover:text-medical-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{d:"M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086l-1.414 4.926a.75.75 0 00.826.95 28.896 28.896 0 0015.293-7.154.75.75 0 000-1.115A28.897 28.897 0 003.105 2.289z"})})})]})},tS=({userName:a,onNavigateToAI:n,onOpenSession:r,recentSessions:i,favoriteSessions:c,userEmail:u,userId:d,currentView:m,onNavigateFooter:p,theme:g,onThemeChange:x,onSearch:b})=>{const[w,v]=z.useState(null),S=dh.filter(_=>["mdnexa-calc","mdnexa-labs","mdnexa-scores","mdnexa-drugs","mdnexa-ddx","mdnexa-docu"].includes(_.id));return l.jsxs("div",{className:"flex flex-col h-screen bg-[#F8FAFC] dark:bg-[#0B1120] font-sans",children:[l.jsxs("header",{className:"px-6 py-6 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:"/logo_full.png",alt:"MDnexa",className:"h-6 w-auto object-contain"})}),l.jsx("button",{onClick:()=>x(g==="dark"?"light":"dark"),className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors","aria-label":"Toggle Dark Mode",children:g==="dark"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})})]}),l.jsxs("main",{className:"flex-1 overflow-y-auto px-6 pb-24 custom-scrollbar",children:[l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"text-left",children:l.jsxs("h1",{className:"text-2xl font-semibold text-slate-800 dark:text-white cursor-default",children:["Good Morning ",a&&a!=="User"?`Dr. ${a}`:"Doc",".",l.jsx("br",{}),l.jsx("span",{className:"text-medical-600 block mt-1",children:"Welcome to MDnexa"})]})})}),l.jsx(eS,{onSearch:b}),l.jsx("div",{className:"mb-8 px-1",children:l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1.5 opacity-80",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 flex-shrink-0",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Set the country and language in settings for answers that follow your local guidelines."]})}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-3",children:"Recently Viewed"}),i.length>0?l.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x",children:i.slice(0,5).map(_=>l.jsx("div",{onClick:()=>r(_.id),className:"snap-start min-w-[200px] bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md cursor-pointer transition-all",children:l.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-200 line-clamp-2",children:_.title||"Untitled Chat"})},_.id))}):l.jsx("div",{className:"text-sm text-slate-500 italic",children:"No recent history."})]}),c.length>0&&l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-3",children:"Favorites"}),l.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(_=>l.jsxs("div",{onClick:()=>r(_.id),className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center justify-between cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:_.title}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-amber-400",children:l.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})})]},_.id))})]}),l.jsxs("section",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:"Tools (Coming Soon)"}),l.jsx("button",{onClick:()=>p("tools"),className:"text-sm font-medium text-medical-600 dark:text-medical-400 hover:underline",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(_=>l.jsxs("div",{onClick:()=>v(_.name),className:"p-6 rounded-2xl flex flex-col items-center justify-center gap-3 relative overflow-hidden group cursor-pointer border transition-all duration-300 bg-white dark:bg-slate-950",style:{borderColor:`${_.accentColor}${g==="dark"?"40":"4d"}`,color:g==="dark"?"#f8fafc":"#0f172a"},onMouseEnter:A=>{A.currentTarget.style.boxShadow=`0 0 20px -5px ${_.accentColor}`,A.currentTarget.style.borderColor=_.accentColor},onMouseLeave:A=>{A.currentTarget.style.boxShadow="none",A.currentTarget.style.borderColor=`${_.accentColor}${g==="dark"?"40":"4d"}`},children:[l.jsx("div",{className:"absolute top-2 right-2 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:l.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})})}),l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:`${_.accentColor}${g==="dark"?"40":"15"}`},children:l.jsx("img",{src:_.iconPath,alt:_.name,className:"w-6 h-6 object-contain dark:brightness-0 dark:invert"})}),l.jsx("span",{className:"font-bold text-lg text-center",style:{color:g==="dark"?"#fff":"#1e293b"},children:_.name})]},_.id))})]}),l.jsxs("section",{className:"mb-8 opacity-60",children:[l.jsx("h2",{className:"text-sm font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-3",children:"Trending Guidelines"}),l.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:l.jsx("p",{className:"text-sm text-slate-500",children:" Sepsis Management Protocol (2025 Update)"})})]})]}),l.jsx(ch,{isOpen:!!w,onClose:()=>v(null),toolName:w||"",userEmail:u,userId:d})]})},nS=({region:a,language:n})=>{const[r,i]=z.useState(""),[c,u]=z.useState(null),[d,m]=z.useState(!1),[p,g]=z.useState([]),[x,b]=z.useState(n||"English"),w=pr(x),v=La.useMemo(()=>["Search medical term...","Myocardial Infarction","Appendicitis","Hypertension","Acetaminophen","Diabetes Mellitus"],[]),S=Wr(v);z.useEffect(()=>{const E=localStorage.getItem("mdnexa_dict_history");E&&g(JSON.parse(E))},[]);const _=E=>{const q=[E,...p.filter(O=>O!==E)].slice(0,15);g(q),localStorage.setItem("mdnexa_dict_history",JSON.stringify(q))},A=async E=>{if(E.trim()){m(!0),u(null),i(E);try{const O=await Ix(E,"General Medical Context",x,"detailed");u(O),_(E)}catch(q){console.error(q),u(`## Error
Could not retrieve definition. Please try again.`)}finally{m(!1)}}};return l.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 animate-fade-in pb-24",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"MDnexa Medical Dictionary"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Comprehensive definitions, clinical context, and related terms."}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsxs("div",{className:"flex flex-col items-start text-left",children:[l.jsx("label",{className:"mb-1 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Language"}),l.jsxs("select",{value:x,onChange:E=>b(E.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-2 px-4 shadow-sm text-sm font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-teal-500 cursor-pointer hover:border-teal-500/50 transition-all w-40",children:[l.jsx("option",{value:"English",children:"English"}),l.jsx("option",{value:"German",children:"Deutsch"}),l.jsx("option",{value:"Spanish",children:"Espaol"}),l.jsx("option",{value:"French",children:"Franais"}),l.jsx("option",{value:"Hindi",children:"Hindi"}),l.jsx("option",{value:"Portuguese",children:"Portugus"}),l.jsx("option",{value:"Russian",children:""}),l.jsx("option",{value:"Italian",children:"Italiano"}),l.jsx("option",{value:"Chinese",children:""}),l.jsx("option",{value:"Arabic",children:""}),l.jsx("option",{value:"Japanese",children:""})]})]})}),l.jsxs("form",{onSubmit:E=>{E.preventDefault(),A(r)},className:"relative max-w-3xl mx-auto",children:[l.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),placeholder:S,className:"w-full pl-12 pr-40 py-4 rounded-xl border-none outline-none bg-slate-100 dark:bg-slate-800/50 focus:bg-white dark:focus:bg-slate-800 focus:ring-4 focus:ring-teal-500/20 shadow-lg shadow-teal-500/10 focus:shadow-teal-500/20 transition-all font-medium text-lg"}),l.jsx("button",{type:"submit",disabled:d||!r.trim(),className:"absolute right-3 top-1/2 -translate-y-1/2 px-6 py-2 bg-teal-600 hover:bg-teal-700 text-white font-semibold rounded-lg disabled:opacity-50 transition-colors",children:d?"Searching...":"Search"}),l.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),p.length>0&&!c&&l.jsx("div",{className:"max-w-3xl mx-auto mt-6 overflow-x-auto pb-2 custom-scrollbar",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider shrink-0",children:"Recent:"}),p.map(E=>l.jsx("button",{onClick:()=>A(E),className:"px-3 py-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full text-xs text-slate-600 dark:text-slate-300 hover:border-teal-500 hover:text-teal-600 transition-colors whitespace-nowrap",children:E},E))]})})]}),l.jsx("div",{className:"mt-8",children:l.jsx("div",{className:"",children:d?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 opacity-50 space-y-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"}),l.jsx("p",{className:"text-slate-500 font-medium",children:"Analyzing clinical data..."})]}):c?l.jsx("div",{className:`bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 p-8 animate-fade-in ${w?"text-right":"text-left"}`,dir:w?"rtl":"ltr",children:l.jsx(Fo,{content:c,className:"text-slate-800 dark:text-slate-200",onLinkClick:E=>A(E)})}):l.jsx("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400"})})})]})},aS=({country:a,region:n,language:r})=>{var le;const[i,c]=z.useState(""),[u,d]=z.useState(null),[m,p]=z.useState(!1),[g,x]=z.useState([]),[b,w]=z.useState(r||"English"),v=pr(b),[S,_]=z.useState("ICD-10 (WHO) International"),A=["ICD-10 (WHO) International","ICD-10-CM (USA)","ICD-10-GM (Germany)","ICD-10-AM (Australia)","ICD-10-CA (Canada)","ICD-10-FR (France, CIM-10)","ICD-10-JP (Japan)","ICD-10-CN (China)","ICD-10-BR (Brazil, CID-10)","ICD-10-ES (Spain, CIE-10)","ICD-10-NL (Netherlands)","ICD-10-SE (Sweden)"],E=La.useMemo(()=>["Describe the diagnosis...","Type 2 diabetes with polyneuropathy","Fracture of distal radius","Acute viral bronchitis","Essential hypertension"],[]),q=Wr(E),O=z.useRef(null);z.useEffect(()=>{O.current&&O.current.focus()},[]);const Y=["Acute","Chronic","Left","Right","Bilateral","Post-op","Complication"],I=re=>{x(oe=>oe.includes(re)?oe.filter(W=>W!==re):[...oe,re])},D=async re=>{const oe=re||i;if(oe.trim()){p(!0),d(null);try{const W=await lt("/gemini/icd10","POST",{query:oe,standard:S,language:b,contextChips:g});d(W)}catch(W){console.error(W)}finally{p(!1)}}},G=re=>{const oe=`${i} ${re}`;c(oe),D(oe)},Z=re=>{switch(re){case"High":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 border-green-200 dark:border-green-800";case"Medium":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800";case"Low":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-slate-100 text-slate-700"}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-fade-in",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white mb-2",children:"Medical Coding Assistant"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Find the precise code with rationale and validation."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:[l.jsxs("div",{className:"flex flex-col items-start text-left",children:[l.jsx("label",{className:"mb-1 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"ICD Standard"}),l.jsx("select",{value:S,onChange:re=>_(re.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-2 px-4 shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-medical-500 cursor-pointer hover:border-medical-500/50 transition-all w-64",children:A.map(re=>l.jsx("option",{value:re,children:re},re))})]}),l.jsxs("div",{className:"flex flex-col items-start text-left",children:[l.jsx("label",{className:"mb-1 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Language"}),l.jsxs("select",{value:b,onChange:re=>w(re.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-2 px-4 shadow-sm text-sm font-medium text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-medical-500 cursor-pointer hover:border-medical-500/50 transition-all w-40",children:[l.jsx("option",{value:"English",children:"English"}),l.jsx("option",{value:"German",children:"Deutsch"}),l.jsx("option",{value:"Spanish",children:"Espaol"}),l.jsx("option",{value:"French",children:"Franais"}),l.jsx("option",{value:"Hindi",children:"Hindi"}),l.jsx("option",{value:"Portuguese",children:"Portugus"}),l.jsx("option",{value:"Russian",children:""}),l.jsx("option",{value:"Italian",children:"Italiano"}),l.jsx("option",{value:"Chinese",children:""}),l.jsx("option",{value:"Arabic",children:""}),l.jsx("option",{value:"Japanese",children:""})]})]})]}),l.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[l.jsx("input",{ref:O,type:"text",value:i,onChange:re=>c(re.target.value),onKeyDown:re=>re.key==="Enter"&&D(),placeholder:q,className:"w-full text-lg pl-12 pr-40 py-4 rounded-xl border-none outline-none bg-slate-100 dark:bg-slate-800/50 focus:bg-white dark:focus:bg-slate-800 shadow-lg shadow-orange-500/10 focus:shadow-orange-500/20 transition-all font-medium"}),l.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l.jsx("button",{onClick:()=>D(),disabled:m,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 text-sm",children:m?"Checking...":"Check Code"})]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:Y.map(re=>l.jsxs("button",{onClick:()=>I(re),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${g.includes(re)?"bg-medical-100 text-medical-700 dark:bg-medical-900/40 dark:text-medical-300 border border-medical-200":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 border border-transparent"}`,children:[g.includes(re)?" ":"+ ",re]},re))})]}),u&&l.jsxs("div",{className:`space-y-6 ${v?"text-right":"text-left"}`,dir:v?"rtl":"ltr",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-xl overflow-hidden",children:l.jsxs("div",{className:"p-6 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:u.primary.code}),u.primary.isBillable&&l.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-bold rounded uppercase",children:"Billable"})]}),l.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-200",children:u.primary.description})]}),l.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-bold border ${Z(u.primary.confidence)}`,children:[u.primary.confidence," Match"]})]}),l.jsxs("div",{className:"prose dark:prose-invert max-w-none bg-slate-50 dark:bg-slate-900/50 p-6 rounded-xl border border-slate-100 dark:border-slate-700/50",children:[l.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Rationale"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-300 m-0",children:u.primary.rationale})]}),((le=u.primary.synonyms)==null?void 0:le.length)>0&&l.jsxs("div",{className:"mt-4 text-sm text-slate-500",children:[l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Matches: "}),u.primary.synonyms.join(", ")]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsxs("button",{onClick:()=>navigator.clipboard.writeText(u.primary.code),className:"flex-1 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy Code"]}),l.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`${u.primary.code} - ${u.primary.description}`),className:"flex-1 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Copy Full"]})]})]})}),u.refinements&&u.refinements.length>0&&l.jsxs("div",{className:"bg-medical-50 dark:bg-medical-900/20 border border-medical-100 dark:border-medical-800 rounded-xl p-6",children:[l.jsxs("h3",{className:"font-bold text-medical-800 dark:text-medical-300 mb-3 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Refine your result"]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:u.refinements.map((re,oe)=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-medical-100 dark:border-slate-700",children:[l.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-3",children:re.question}),l.jsx("div",{className:"flex flex-wrap gap-2",children:re.options.map(W=>l.jsx("button",{onClick:()=>G(W),className:"px-3 py-1.5 text-sm bg-slate-100 hover:bg-medical-600 hover:text-white dark:bg-slate-700 dark:hover:bg-medical-600 rounded-md transition-colors",children:W},W))})]},oe))})]}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-800",children:[l.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:l.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Other possibilities"})}),l.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:u.alternatives.map((re,oe)=>l.jsxs("div",{className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors flex justify-between items-center group cursor-pointer",onClick:()=>D(re.code+" "+re.description),children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono font-bold text-slate-600 dark:text-slate-400 group-hover:text-medical-600 transition-colors",children:re.code}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:re.description})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:re.distinction})]}),l.jsx("button",{className:"text-slate-300 group-hover:text-medical-600",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]},oe))})]})]})]})},rS=({language:a})=>{var N,T,M,j,U;const[n,r]=z.useState(""),[i,c]=z.useState(!1),[u,d]=z.useState(null),[m,p]=z.useState(""),[g,x]=z.useState(""),[b,w]=z.useState(!1),[v,S]=z.useState(null),[_,A]=z.useState("Germany (AMG / Fachinformation)"),[E,q]=z.useState("Adult"),[O,Y]=z.useState(a||"English");z.useEffect(()=>{a&&Y(a)},[a]);const I=pr(O),[D,G]=z.useState(!0),[Z,le]=z.useState(!0),[re,oe]=z.useState(!1),[W,he]=z.useState({renal:!1,interactions:!1,pregnancy:!1}),de=Q=>{he(se=>({...se,[Q]:!se[Q]}))},te=La.useMemo(()=>["Check drug details...","Metformin","Apixaban","Lisinopril","Amoxicillin","Bisoprolol"],[]),L=Wr(te),V=async()=>{var Q,se,je;if(n.trim()){c(!0),d(null),S(null),p(n),x("");try{const _e=await lt("/gemini/drug-check","POST",{drugName:n,standard:_,patientGroup:E,language:O,toggles:{renal:D,interactions:Z,pregnancy:re}});d(_e),((je=(se=(Q=_e==null?void 0:_e.clinical)==null?void 0:Q.interactions)==null?void 0:se.major)==null?void 0:je.length)>0&&he(Oe=>({...Oe,interactions:!0}))}catch(_e){console.error("Drug check failed",_e)}finally{c(!1)}}},ee=async()=>{if(!(!m.trim()||!g.trim())){w(!0),S(null);try{const Q=await lt("/gemini/drug-interaction","POST",{drugA:m,drugB:g,standard:_,patientGroup:E,language:O});S(Q)}catch(Q){console.error("Interaction check failed",Q)}finally{w(!1)}}},fe=Q=>{Q.key==="Enter"&&V()};return l.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 animate-fade-in pb-24",children:[l.jsxs("div",{className:"flex flex-col mb-8 gap-4 items-center text-center",children:[l.jsx("div",{children:l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white",children:"Quick Drug Checker"})}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-center",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Guidelines:"}),l.jsxs("select",{value:_,onChange:Q=>A(Q.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-1.5 px-3 text-sm font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{children:"Germany (AMG / Fachinformation)"}),l.jsx("option",{children:"USA (FDA)"}),l.jsx("option",{children:"UK (NICE / BNF)"}),l.jsx("option",{children:"EU (EMA / SmPC)"}),l.jsx("option",{children:"Australia (TGA / AMH)"}),l.jsx("option",{children:"Canada (Health Canada)"}),l.jsx("option",{children:"France (ANSM / VIDAL)"}),l.jsx("option",{children:"Japan (PMDA)"}),l.jsx("option",{children:"China (NMPA)"}),l.jsx("option",{children:"International (WHO)"})]}),l.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Language:"}),l.jsx("select",{value:O,onChange:Q=>Y(Q.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-1.5 px-3 text-sm font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500",children:Object.keys(Qs).map(Q=>l.jsx("option",{value:Q,children:Q},Q))}),l.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1 hidden md:block"}),l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Patient:"}),l.jsxs("select",{value:E,onChange:Q=>q(Q.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg py-1.5 px-3 text-sm font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{children:"Adult"}),l.jsx("option",{children:"Pediatric"}),l.jsx("option",{children:"Geriatric"})]})]})]}),l.jsxs("div",{className:"relative max-w-3xl mx-auto mb-8",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("input",{type:"text",value:n,onChange:Q=>r(Q.target.value),onKeyDown:fe,placeholder:L,className:"w-full text-lg pl-12 pr-40 py-4 rounded-xl border-none outline-none bg-slate-100 dark:bg-slate-800/50 focus:bg-white dark:focus:bg-slate-800 focus:ring-4 focus:ring-rose-500/20 shadow-lg shadow-rose-500/10 focus:shadow-rose-500/20 transition-all font-medium"}),l.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l.jsx("button",{onClick:V,disabled:i,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-rose-500 hover:bg-rose-600 text-white px-6 py-2 rounded-lg font-bold transition-colors disabled:opacity-50 text-sm",children:i?"Checking...":"Check Drug"})]}),l.jsxs("div",{className:"flex justify-center gap-3 flex-wrap",children:[l.jsxs("button",{onClick:()=>G(!D),className:`px-4 py-1.5 rounded-full text-sm font-medium border transition-colors ${D?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:["Renal Dosing ",D?"ON":"OFF"]}),l.jsxs("button",{onClick:()=>le(!Z),className:`px-4 py-1.5 rounded-full text-sm font-medium border transition-colors ${Z?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 text-purple-700 dark:text-purple-300":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:["Interactions ",Z?"ON":"OFF"]}),l.jsxs("button",{onClick:()=>oe(!re),className:`px-4 py-1.5 rounded-full text-sm font-medium border transition-colors ${re?"bg-pink-50 dark:bg-pink-900/20 border-pink-200 dark:border-pink-800 text-pink-700 dark:text-pink-300":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:["Pregnancy ",re?"ON":"OFF"]})]})]}),u&&l.jsxs("div",{className:`space-y-6 animate-fade-in-up ${I?"text-right":"text-left"}`,dir:I?"rtl":"ltr",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border-l-4 border-blue-500 shadow-sm p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-1",children:u.summary.name}),l.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 font-medium",children:u.summary.brand})]}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:u.summary.badges.map((Q,se)=>l.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs font-bold uppercase tracking-wide rounded-md",children:Q},se))})]}),l.jsxs("p",{className:"text-slate-500 dark:text-slate-500 text-sm",children:["Class: ",l.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:u.summary.class})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Indications"]}),l.jsx("ul",{className:"space-y-2",children:u.facts.indications.map((Q,se)=>l.jsxs("li",{className:"text-sm text-slate-700 dark:text-slate-300 leading-snug",children:[" ",Q]},se))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," Standard Dosing"]}),l.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white leading-relaxed",children:u.facts.dosing}),l.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["(",E,")"]})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," Contraindications"]}),l.jsx("ul",{className:"space-y-2",children:u.facts.contraindications.map((Q,se)=>l.jsxs("li",{className:"text-sm text-red-700 dark:text-red-400 leading-snug font-medium",children:[" ",Q]},se))})]}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm",children:[l.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"})," Adverse Effects"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:u.facts.adverse_effects.map((Q,se)=>l.jsx("span",{className:"px-2 py-1 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 text-xs rounded border border-orange-100 dark:border-orange-800",children:Q},se))})]})]}),D&&((N=u.clinical)==null?void 0:N.renal)&&l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>de("renal"),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white ml-1",children:"Renal & Hepatic Adjustments"}),l.jsxs("span",{className:"text-xs text-slate-500 hidden md:inline ml-2",children:[" ",u.clinical.renal.summary]})]}),l.jsx("span",{className:"text-slate-400 text-xl transform transition-transform duration-200",style:{transform:W.renal?"rotate(180deg)":"rotate(0deg)"},children:""})]}),W.renal&&l.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800 grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Renal Impairment"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:u.clinical.renal.detail})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Hepatic Impairment"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line",children:((M=(T=u.clinical)==null?void 0:T.hepatic)==null?void 0:M.detail)||"No specific data returned."})]})]})]}),Z&&((j=u.clinical)==null?void 0:j.interactions)&&l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>de("interactions"),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white ml-1",children:"Drug Interactions"}),l.jsxs("span",{className:"text-xs text-slate-500 hidden md:inline ml-2",children:[" ",u.clinical.interactions.major.length>0?`${u.clinical.interactions.major.length} Major Interactions`:"Common interactions summary"]})]}),l.jsx("span",{className:"text-slate-400 text-xl transform transition-transform duration-200",style:{transform:W.interactions?"rotate(180deg)":"rotate(0deg)"},children:""})]}),W.interactions&&l.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-red-600 dark:text-red-400 mb-2 uppercase tracking-wide",children:"Major / Serious"}),u.clinical.interactions.major.length>0?l.jsx("ul",{className:"list-disc list-inside space-y-1",children:u.clinical.interactions.major.map((Q,se)=>l.jsx("li",{className:"text-sm text-slate-700 dark:text-slate-300",children:Q},se))}):l.jsx("p",{className:"text-sm text-slate-500 italic",children:"None listed."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-yellow-600 dark:text-yellow-500 mb-2 uppercase tracking-wide",children:"Moderate / Caution"}),u.clinical.interactions.moderate.length>0?l.jsx("ul",{className:"list-disc list-inside space-y-1",children:u.clinical.interactions.moderate.map((Q,se)=>l.jsx("li",{className:"text-sm text-slate-700 dark:text-slate-300",children:Q},se))}):l.jsx("p",{className:"text-sm text-slate-500 italic",children:"None listed."})]})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800",children:[l.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:"Check Interaction Between Two Drugs"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl",children:[l.jsxs("div",{className:"flex-1 w-full",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1",children:"First Drug"}),l.jsx("input",{type:"text",value:m,onChange:Q=>p(Q.target.value),placeholder:"e.g. Warfarin",className:"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm"})]}),l.jsx("div",{className:"text-slate-400 font-bold px-2",children:"+"}),l.jsxs("div",{className:"flex-1 w-full",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1",children:"Second Drug"}),l.jsx("input",{type:"text",value:g,onChange:Q=>x(Q.target.value),placeholder:"e.g. Aspirin",className:"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm"})]}),l.jsx("button",{onClick:ee,disabled:b,className:"w-full md:w-auto px-6 py-2 bg-slate-800 dark:bg-slate-700 hover:bg-slate-900 dark:hover:bg-slate-600 text-white rounded-lg font-medium text-sm transition-colors disabled:opacity-50",children:b?"Checking...":"Check Interaction"})]}),v&&l.jsxs("div",{className:`mt-4 p-4 rounded-xl border ${v.severity.includes("Contraindicated")||v.severity.includes("Major")?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":v.severity.includes("Moderate")?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[l.jsx("div",{className:"flex items-center gap-3 mb-2",children:l.jsx("span",{className:`text-xs font-bold uppercase tracking-wide px-2 py-1 rounded ${v.severity.includes("Contraindicated")||v.severity.includes("Major")?"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300":v.severity.includes("Moderate")?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300"}`,children:v.severity})}),l.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white mb-1",children:v.mechanism}),l.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-2",children:v.description}),l.jsxs("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:["Management: ",l.jsx("span",{className:"font-normal",children:v.management})]})]})]})]})]}),re&&((U=u.clinical)==null?void 0:U.pregnancy_lactation)&&l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[l.jsxs("button",{onClick:()=>de("pregnancy"),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"font-bold text-slate-800 dark:text-white ml-1",children:"Pregnancy & Lactation"}),l.jsx("p",{className:"text-xs text-slate-500 hidden md:inline ml-2",children:" Safety profile"})]}),l.jsx("span",{className:"text-slate-400 text-xl transform transition-transform duration-200",style:{transform:W.pregnancy?"rotate(180deg)":"rotate(0deg)"},children:""})]}),W.pregnancy&&l.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800 grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-pink-600 dark:text-pink-400 mb-2",children:"Pregnancy"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:u.clinical.pregnancy_lactation.pregnancy})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-pink-600 dark:text-pink-400 mb-2",children:"Breastfeeding"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:u.clinical.pregnancy_lactation.lactation})]})]})]}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200 dark:border-slate-800 text-center",children:[l.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"References Utilized"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mb-6",children:u.references.map((Q,se)=>l.jsx("span",{className:"text-xs text-slate-500 italic",children:Q},se))}),l.jsx("p",{className:"text-xs text-slate-400 max-w-2xl mx-auto",children:"Disclaimer: Supports clinical decision-making. Always verify with official product information (e.g. Fachinformation, SmPC) before prescribing. AI-generated content may contain errors."})]})]})]})},sS=({userName:a,onNavigateToAI:n,userEmail:r,userId:i,currentView:c,onNavigateFooter:u,region:d,language:m,theme:p,onThemeChange:g})=>{var Y;const[x,b]=z.useState(null),[w,v]=z.useState(null),[S,_]=z.useState(!1),A=dh,E=I=>{I.access==="free"?I.id==="dictionary"||I.id==="icd10"||I.id==="drug_checker"?(v(I.id),_(!1)):n(`I want to use the ${I.name}. ${I.description}`):b(I.name)},q=I=>{if(I.access==="waitlist"){b(I.name);return}I.id==="dictionary"||I.id==="icd10"||I.id==="drug_checker"?(v(I.id),_(!1)):n(`I want to use the ${I.name}. ${I.description}`)},O=()=>{v(null)};return w==="dictionary"||w==="icd10"||w==="drug_checker"?(A.find(I=>I.id===w),l.jsxs("div",{className:"flex h-screen bg-[#F8FAFC] dark:bg-[#0B1120] font-sans overflow-hidden",children:[S&&l.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 md:hidden",onClick:()=>_(!1)}),l.jsxs("aside",{className:`
                    bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col z-30 shadow-xl
                    fixed inset-y-0 left-0 transition-all duration-300 ease-in-out
                    
                    /* Mobile: Off-canvas */
                    ${S?"translate-x-0":"-translate-x-full"}

                    /* Desktop (md+): Static with Width Transition */
                    md:translate-x-0 md:static md:shadow-none
                    ${S?"md:w-64":"md:w-0 md:overflow-hidden md:border-r-0"}
                `,children:[l.jsxs("div",{className:"h-16 flex items-center px-6 border-b border-slate-100 dark:border-slate-800 gap-3 min-w-[16rem]",children:[l.jsx("button",{onClick:O,className:"p-1 -ml-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:"/logo_full.png",alt:"MDnexa",className:"h-7 w-auto object-contain"})}),l.jsx("button",{onClick:()=>_(!1),className:"md:hidden ml-auto p-1 text-slate-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-1 custom-scrollbar min-w-[16rem]",children:[l.jsx("div",{className:"px-3 pb-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Active Tools"}),A.map(I=>l.jsx("button",{onClick:()=>q(I),className:`w-full text-left flex items-center gap-3 px-4 py-3 border-l-2 transition-all group ${I.id===w?"border-medical-600 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white font-semibold":I.access==="waitlist"?"border-transparent text-slate-500 dark:text-slate-400 opacity-50 cursor-not-allowed":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:l.jsx("span",{className:`text-sm tracking-tight ${I.id===w?"font-semibold":"font-medium"}`,children:I.name})},I.id)),l.jsx("div",{className:"mt-8 pt-4 border-t border-slate-100 dark:border-slate-800",children:l.jsxs("button",{onClick:()=>v(null),className:"w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-500 hover:text-red-500 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to All Tools"]})})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[l.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between bg-white dark:bg-slate-900 sticky top-0 z-20",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>_(!S),className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),l.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:(Y=A.find(I=>I.id===w))==null?void 0:Y.name})]}),l.jsx("button",{onClick:()=>g(p==="dark"?"light":"dark"),className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",children:p==="dark"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})})]}),w==="dictionary"&&l.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:l.jsx(nS,{language:m,region:d})}),w==="icd10"&&l.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:l.jsx(aS,{country:d,region:d,language:m})}),w==="drug_checker"&&l.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:l.jsx(rS,{language:m})})]}),l.jsx(ch,{isOpen:!!x,onClose:()=>b(null),toolName:x||"",userId:i})]})):l.jsxs("div",{className:"flex flex-col h-screen bg-[#F8FAFC] dark:bg-[#0B1120] font-sans",children:[l.jsxs("header",{className:"px-6 py-6 flex items-center justify-between bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:"/logo_full.png",alt:"MDnexa",className:"h-6 w-auto object-contain"})}),l.jsx("button",{onClick:()=>g(p==="dark"?"light":"dark"),className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",children:p==="dark"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})})]}),l.jsxs("main",{className:"flex-1 overflow-y-auto px-6 py-6 custom-scrollbar",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"MDnexa Medical Tools"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Access our suite of clinical utilities."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:A.map(I=>l.jsxs("div",{onClick:()=>E(I),className:"p-6 rounded-2xl border transition-all duration-300 cursor-pointer group relative overflow-hidden flex flex-col h-full bg-white dark:bg-slate-950",style:{borderColor:`${I.accentColor}${p==="dark"?"40":"4d"}`,color:p==="dark"?"#f8fafc":"#0f172a"},onMouseEnter:D=>{D.currentTarget.style.boxShadow=`0 0 20px -5px ${I.accentColor}`,D.currentTarget.style.borderColor=I.accentColor},onMouseLeave:D=>{D.currentTarget.style.boxShadow="none",D.currentTarget.style.borderColor=`${I.accentColor}${p==="dark"?"40":"4d"}`},children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:`${I.accentColor}${p==="dark"?"40":"15"}`},children:l.jsx("img",{src:I.iconPath,alt:I.name,className:"w-6 h-6 object-contain dark:brightness-0 dark:invert"})}),I.access==="waitlist"&&l.jsx("span",{className:"px-2 py-1 rounded-full bg-white/50 dark:bg-black/20 text-xs font-bold uppercase tracking-wider opacity-70",children:"Waitlist"})]}),l.jsx("h3",{className:"text-xl font-bold mb-2 transition-colors",style:{color:p==="dark"?"#fff":"#1e293b"},children:I.name}),l.jsx("p",{className:"text-sm leading-relaxed font-medium mb-6 flex-grow",style:{color:p==="dark"?"#94a3b8":"#475569"},children:I.description}),l.jsxs("div",{className:"flex items-center text-sm font-bold mt-auto transition-transform transform translate-y-2 opacity-0 group-hover:translate-y-0 group-hover:opacity-100",style:{color:I.accentColor},children:[I.access==="free"?"Open Tool":"Join Waitlist",l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 ml-1",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]},I.id))})]}),l.jsx(ch,{isOpen:!!x,onClose:()=>b(null),toolName:x||"",userEmail:r,userId:i})]})},iS=({currentView:a,onNavigate:n})=>{const r=[{id:"dashboard",label:"Dashboard",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})},{id:"ai",label:"Ask AI",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})})},{id:"tools",label:"Tools",icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]})},{id:"settings",label:"Settings",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})}];return console.log("GlobalFooter rendered. Current view:",a),l.jsx("footer",{className:"h-16 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 flex items-center justify-center gap-8 md:gap-12 px-6 relative z-50",children:r.map(i=>l.jsxs("button",{onClick:()=>{console.log("GlobalFooter button clicked:",i.id),n(i.id)},className:`flex flex-col items-center gap-1 min-w-[64px] transition-colors ${a===i.id?"text-medical-600 dark:text-medical-400":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:[i.icon,l.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:i.label})]},i.id))})},lS=({isOpen:a,onClose:n})=>a?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700 animate-scale-in",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between bg-slate-50 dark:bg-slate-800/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-amber-500",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),"Report AI Hallucination"]}),l.jsx("button",{onClick:n,className:"p-1 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"To help us improve MDnexa's accuracy, please send an email reporting the issue."}),l.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 space-y-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1",children:"To:"}),l.jsx("div",{className:"font-mono text-medical-600 dark:text-medical-400 font-medium select-all",children:"service@mdnexa.com"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1",children:"Subject:"}),l.jsx("div",{className:"font-medium text-slate-800 dark:text-white select-all",children:"Report AI Hallucination"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1",children:"Please Include:"}),l.jsxs("ul",{className:"list-disc list-inside text-slate-700 dark:text-slate-300 space-y-1",children:[l.jsx("li",{children:"Brief description of the problem"}),l.jsx("li",{children:"Screenshots (preferred)"})]})]})]})]})]})}):null,oS=({userName:a,setUserName:n,userRole:r,setUserRole:i,theme:c,onThemeChange:u,region:d,setRegion:m,country:p,setCountry:g,language:x,setLanguage:b,fontSize:w,setFontSize:v,isAuthenticated:S,onOpenAuth:_,onLogout:A,onClearHistory:E,userId:q})=>{var j;const[O,Y]=z.useState("account"),[I,D]=z.useState(null),[G,Z]=z.useState(null),[le,re]=z.useState(!1),[oe,W]=z.useState(""),[he,de]=z.useState(!1),[te,L]=z.useState(!1);z.useEffect(()=>{S&&V()},[S]);const V=async()=>{try{const{data:{user:U}}=await Ft.auth.getUser();U&&D(Q=>{var se,je;return{...Q,full_name:((se=U.user_metadata)==null?void 0:se.full_name)||(Q==null?void 0:Q.full_name),email:U.email||(Q==null?void 0:Q.email),role:((je=U.user_metadata)==null?void 0:je.role)||(Q==null?void 0:Q.role)||"user"}})}catch(U){console.error("Auth fetch failed",U)}try{const U=await lt("/users/me");D(U),U.specialty&&W(U.specialty);try{const{subscription:Q}=await lt("/subscriptions/status");Z(Q)}catch{console.log("No active subscription found or error fetching status")}}catch(U){console.error("Error fetching user profile from API:",U)}},ee=async()=>{re(!0);try{const{url:U}=await lt("/subscriptions/create-portal-session","POST");window.location.href=U}catch(U){console.error("Error creating portal session:",U),alert("Failed to open billing portal.")}finally{re(!1)}},fe=async()=>{try{const{data:{user:U}}=await Ft.auth.getUser(),Q=U==null?void 0:U.email;if(!Q){alert("Could not determine your email address.");return}if(confirm(`Send password reset email to ${Q}?`)){const se=await Qn("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Q})});se&&se.success?alert("Weve sent a reset link to your email."):alert(se.message||"Failed to send reset link.")}}catch(U){console.error("[PW_RESET_SETTINGS] Error:",U),alert(U.message||"An error occurred. Please try again.")}},N=async()=>{if(window.confirm("Are you sure you want to deactivate your account? This will permanently delete your data and log you out immediately."))try{await lt("/users/delete-account","DELETE"),alert("Account deactivated successfully."),A()}catch(U){console.error("Error deactivating account:",U),alert("Failed to deactivate account. Please try again or contact support.")}},T=U=>{const Q=U.target.value;m(Q),Wt[Q]&&Wt[Q].length>0&&g(Wt[Q][0])},M=()=>{de(!0)};return l.jsxs("div",{className:"flex h-screen bg-[#F8FAFC] dark:bg-[#0B1120] font-sans overflow-hidden",children:[te&&l.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 md:hidden",onClick:()=>L(!1)}),l.jsxs("aside",{className:`
                bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col z-30 shadow-sm
                fixed inset-y-0 left-0 transition-all duration-300 ease-in-out
                
                /* Mobile: Off-canvas */
                ${te?"translate-x-0":"-translate-x-full"}

                /* Desktop (md+): Static with Width Transition */
                md:translate-x-0 md:static md:shadow-none
                ${te?"md:w-64":"md:w-0 md:overflow-hidden md:border-r-0"}
            `,children:[l.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b border-slate-100 dark:border-slate-800 min-w-[16rem]",children:[l.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Settings"}),l.jsx("button",{onClick:()=>u(c==="dark"?"light":"dark"),className:"p-1.5 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",title:"Toggle Theme",children:c==="dark"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),l.jsx("button",{onClick:()=>L(!1),className:"md:hidden ml-2 p-1 text-slate-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex-1 py-4 px-3 space-y-1 min-w-[16rem]",children:[l.jsxs("button",{onClick:()=>Y("account"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${O==="account"?"bg-medical-50 dark:bg-medical-900/20 text-medical-700 dark:text-medical-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),"Account & Profile"]}),l.jsxs("button",{onClick:()=>Y("general"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${O==="general"?"bg-medical-50 dark:bg-medical-900/20 text-medical-700 dark:text-medical-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),"General Settings"]}),l.jsxs("button",{onClick:()=>Y("help"),className:`w-full text-left px-3 py-2.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-3 ${O==="help"?"bg-medical-50 dark:bg-medical-900/20 text-medical-700 dark:text-medical-400":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),"Help Center"]})]}),l.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 min-w-[16rem]",children:S?l.jsxs("button",{onClick:A,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),"Log Out"]}):l.jsx("button",{onClick:_,className:"w-full py-2 bg-medical-600 hover:bg-medical-700 text-white text-sm font-semibold rounded-lg transition-colors",children:"Log In"})})]}),l.jsxs("main",{className:"flex-1 overflow-y-auto px-8 py-8 custom-scrollbar relative",children:[l.jsx("button",{onClick:()=>L(!te),className:"absolute top-4 left-4 p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors z-10",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),l.jsxs("div",{className:"max-w-3xl mx-auto pt-8 md:pt-0",children:[l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 mb-8 shadow-sm flex items-start gap-6",children:[l.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-white text-3xl font-bold ring-4 ring-medical-50 dark:ring-slate-700 uppercase overflow-hidden flex-shrink-0 ${S?"bg-medical-600":"bg-slate-300 dark:bg-slate-700"}`,children:S&&(I!=null&&I.logo_url)?l.jsx("img",{src:I.logo_url,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("span",{children:S&&(I!=null&&I.full_name||a)?((I==null?void 0:I.full_name)||a).split(" ").map(U=>U[0]).join("").substring(0,2):"?"})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 dark:text-slate-200 uppercase tracking-wider mb-1",children:"Name"}),l.jsx("input",{type:"text",value:a,onChange:U=>n(U.target.value),placeholder:"Your Name",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500 font-semibold",disabled:!S})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 dark:text-slate-200 uppercase tracking-wider",children:"Role"}),l.jsx("select",{value:nl.includes(r)?r:"Other",onChange:U=>{const Q=U.target.value;i(Q==="Other"?"":Q)},className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",disabled:!S,children:nl.map(U=>l.jsx("option",{value:U,children:U},U))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 dark:text-slate-200 uppercase tracking-wider mb-1",children:"Specialty"}),l.jsx("input",{type:"text",value:oe,onChange:U=>W(U.target.value),placeholder:"e.g. Cardiology",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",disabled:!S})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 dark:text-slate-200 uppercase tracking-wider mb-1",children:"Status"}),l.jsx("div",{className:"px-3 py-2 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-900/30 w-fit",children:l.jsx("span",{className:"text-xs font-bold text-green-700 dark:text-green-400 uppercase tracking-wide",children:G?"Premium Plan":"Free Plan"})})]})]})]})]}),O==="account"&&l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Account Details"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:(I==null?void 0:I.email)||"",disabled:!0,className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-500 dark:text-indigo-200 cursor-not-allowed"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Password"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Secure your account"})]}),l.jsx("button",{onClick:fe,className:"px-4 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm font-medium text-slate-700 dark:text-white hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:"Reset Password"})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Subscription Plans"}),l.jsx(Px,{userId:q,getStripeUrl:U=>{if(!q)return U;const Q=U.includes("?")?"&":"?";return`${U}${Q}client_reference_id=${q}`}})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Manage Subscription"}),l.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Billing Portal"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Manage payment methods, download invoices, and cancel subscription."})]}),l.jsx("button",{onClick:ee,disabled:le||!G,className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:le?"Loading...":G?"Open Portal":"No Active Plan"})]})})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-red-600 dark:text-red-400 mb-4",children:"Danger Zone"}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl p-6 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-red-800 dark:text-red-300",children:"Delete Account"}),l.jsx("div",{className:"text-xs text-red-600/80 dark:text-red-400/70 mt-1",children:"Permanently remove your data and access."})]}),l.jsx("button",{onClick:N,className:"px-4 py-2 bg-white dark:bg-red-900/20 border border-red-200 dark:border-red-900/50 text-red-600 dark:text-red-300 rounded-lg text-sm font-bold hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:"Delete Account"})]})]})]}),O==="general"&&l.jsxs("div",{className:"space-y-8 animate-fade-in",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Appearance & Language"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Theme"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Select your preferred look"})]}),l.jsxs("select",{value:c,onChange:U=>u(U.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:[l.jsx("option",{value:"light",children:"Light"}),l.jsx("option",{value:"dark",children:"Dark"}),l.jsx("option",{value:"system",children:"System"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Font Size"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"Adjust reading size"})]}),l.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>v("small"),className:`px-3 py-1 text-xs rounded transition-colors ${w==="small"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"}),l.jsx("button",{onClick:()=>v("normal"),className:`px-3 py-1 text-sm rounded transition-colors ${w==="normal"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"}),l.jsx("button",{onClick:()=>v("large"),className:`px-3 py-1 text-base rounded transition-colors ${w==="large"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:"Aa"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Language"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"For AI responses and Tools"})]}),l.jsx("select",{value:x,onChange:U=>b(U.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:Object.keys(Qs).map(U=>l.jsx("option",{value:U,children:U},U))})]})]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Clinical Region"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider mb-2",children:"Region"}),l.jsx("select",{value:d,onChange:T,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:Object.keys(Wt).map(U=>l.jsx("option",{value:U,children:U},U))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-200 uppercase tracking-wider mb-2",children:"Country"}),l.jsx("select",{value:p,onChange:U=>g(U.target.value),className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm text-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-medical-500",children:(j=Wt[d])==null?void 0:j.map(U=>l.jsx("option",{value:U,children:U},U))})]})]})]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:()=>{confirm("Delete all history?")&&E()},className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 hover:underline",children:"Clear all consultation history"})})]}),O==="help"&&l.jsx("div",{className:"space-y-8 animate-fade-in",children:l.jsxs("section",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Help Center"}),l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Contact Support"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mb-2",children:"Need help with your account or found a bug?"}),l.jsx("a",{href:"mailto:service@mdnexa.com",className:"text-sm font-bold text-medical-600 dark:text-medical-400 hover:underline",children:"service@mdnexa.com"})]})]}),l.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-4"}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg text-amber-600 dark:text-amber-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:"Report AI Hallucination"}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mb-3",children:"Found an incorrect or misleading AI response? Help us improve."}),l.jsx("button",{onClick:M,className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-white rounded-lg text-sm font-medium transition-colors",children:"Report this issue"})]})]})]})]})})]})]}),l.jsx(lS,{isOpen:he,onClose:()=>de(!1)})]})},$s=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(parseInt(a)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>parseInt(a)/4).toString(16)),qp=["admin","superuser","owner","team","developer","support","friend","friends","family","friends_and_family","family_and_friends","ambassador","ambassadors","ambassasors","partner","vip"],cS=()=>{var kl,ns,li,_r;const[a,n]=z.useState(null),r=Wr(["Ask a clinical question...","What are the side effects of Lisinopril?","Differential diagnosis for chest pain...","Treatment for community-acquired pneumonia...","Dose of Amoxicillin for otitis media...","Contraindications for beta-blockers..."],50,30,3e3),[i,c]=z.useState(!0),[u,d]=z.useState(!1),[m,p]=z.useState(!1),[g,x]=z.useState(!1),[b,w]=z.useState("dashboard"),[v,S]=z.useState(!1),[_,A]=z.useState(!1),[E,q]=z.useState(!1),[O,Y]=z.useState(!1),[I,D]=z.useState(!1),[G,Z]=z.useState(!1),[le,re]=z.useState(!1),[oe,W]=z.useState(!1),[he,de]=z.useState(!1),[te,L]=z.useState("login"),V=X=>{window.history.pushState({},"",X)};z.useEffect(()=>{const X=()=>{const ue=window.location.pathname;ue==="/privacy-policy"?(D(!0),c(!1),d(!1)):ue==="/terms-of-service"?(Y(!0),c(!1),d(!1)):ue==="/pricing"?(S(!0),c(!1),d(!1)):ue==="/dashboard"?(d(!0),p(!1),c(!1),S(!1),re(!1),w("dashboard")):ue==="/tools"?(p(!0),d(!1),c(!1),S(!1),re(!1),w("tools")):ue==="/ai"?(d(!1),p(!1),c(!1),S(!1),re(!1),w("ai")):ue==="/settings"?(x(!0),d(!1),p(!1),c(!1),S(!1),re(!1),w("settings")):ue==="/reset-password"||window.location.hash.includes("type=recovery")?(console.log("[App] Recovery URL detection triggered."),W(!0),c(!1),d(!1),p(!1),re(!1),S(!1)):(d(!1),c(!0))};return window.addEventListener("popstate",X),X(),()=>window.removeEventListener("popstate",X)},[]),z.useEffect(()=>{const ue=new URLSearchParams(window.location.search).get("ref");ue&&localStorage.setItem("mdnexa_ref",ue)},[]),z.useEffect(()=>{b==="dashboard"&&!u&&!i&&!m&&(console.log("[App] Safety Sync: Forcing Dashboard View"),d(!0))},[b,u,i,m]);const[ee,fe]=z.useState(()=>{const X=localStorage.getItem("mdnexa_save_settings");return X===null?!0:X==="true"}),[N,T]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?"North America":localStorage.getItem("mdnexa_region")||"North America"),[M,j]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?"United States":localStorage.getItem("mdnexa_country")||"United States"),[U,Q]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?"English (US)":localStorage.getItem("mdnexa_language")||"English (US)"),[se,je]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?!1:localStorage.getItem("mdnexa_short_answer")==="true"),[_e,Oe]=z.useState(()=>localStorage.getItem("mdnexa_theme")||"system"),[gt,cn]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?"normal":localStorage.getItem("mdnexa_font_size")||"normal"),[ht,Bn]=z.useState(()=>localStorage.getItem("mdnexa_user_name")||""),[Et,Un]=z.useState(()=>localStorage.getItem("mdnexa_save_settings")==="false"?"Physician":localStorage.getItem("mdnexa_user_role")||"Physician"),[ia,yr]=z.useState("user"),[_n,Kt]=z.useState([]),[Lt,za]=z.useState($s()),[un,Nn]=z.useState([{id:$s(),role:Da.MODEL,text:jg(localStorage.getItem("mdnexa_save_settings")==="false"?"English":localStorage.getItem("mdnexa_language")||"English"),timestamp:new Date,shouldAnimate:!0}]),[tt,la]=z.useState(""),[K,ce]=z.useState(!1),[ve,Ne]=z.useState(!1),[He,Ot]=z.useState(!1),[In,Rt]=z.useState(!1),[pt,Dt]=z.useState(!1),[Fe,Pn]=z.useState({title:"",text:"",url:""}),[qt,ti]=z.useState(null),[Xr,Zr]=z.useState(!1),[vr,oa]=z.useState(!0),[wr,Ba]=z.useState(!1),[yt,Ua]=z.useState(!1),[es,ca]=z.useState(0),[ni,Ia]=z.useState(!1),[ai,kr]=z.useState(null),[jr,Pa]=z.useState(0),[xl,ic]=z.useState(null),[Hn,vt]=z.useState([]),[zt,ua]=z.useState(0),[ri,si]=z.useState([]);z.useEffect(()=>{const X=Ng(50,U);vt(X),si(X.slice(0,4)),ua(4)},[U]);const bl=z.useRef(!1);z.useEffect(()=>{if(!yt||_n.length===0||bl.current)return;const X=localStorage.getItem("mdnexa_active_session_id");if(X){const ue=_n.find(be=>be.id===X);ue&&ue.id!==Lt&&(console.log("Restoring last active session:",X),qa(ue),bl.current=!0)}},[_n,yt]);const yl=()=>{if(Hn.length===0)return[];let X=zt+4,ue=Hn.slice(zt,X);if(ue.length<4){const be=Ng(50,U);vt(be);const Le=4;ue=be.slice(0,Le),X=Le}return ua(X),ue};z.useEffect(()=>{const X=localStorage.getItem("mdnexa_guest_usage_v1");X&&ca(parseInt(X,10))},[]),z.useEffect(()=>{if(ht&&ht!=="Guest"){const X=`mdnexa_free_usage_${ht}`,ue=localStorage.getItem(X);Pa(ue?parseInt(ue,10):0)}},[ht]);const Ha=async X=>{var ue,be,Le,ct,Pe,We;try{const{data:{user:Ye}}=await Ft.auth.getUser();if(console.log("[App] Fetching User Profile...",Ye==null?void 0:Ye.email),Ye){const Jn=((ue=Ye.user_metadata)==null?void 0:ue.full_name)||((be=Ye.user_metadata)==null?void 0:be.name);Jn&&Bn(Jn);const En=[(Le=Ye.app_metadata)==null?void 0:Le.role,(ct=Ye.user_metadata)==null?void 0:ct.role,Ye.role],Re=En.filter(Boolean).map(Xn=>String(Xn).toLowerCase().trim()).filter(Xn=>Xn!=="authenticated");console.log("[App] Raw Roles:",En,"-> Cleaned:",Re);let Ct=Re.find(Xn=>qp.includes(Xn))||Re[0]||"user";const dn=["nexaldtechnologies@gmail.com","nexald.technologies@gmail.com","service@mdnexa.com"],as=Ye.email?Ye.email.toLowerCase().trim():"";dn.includes(as)&&(console.log(`[App]  ADMIN OVERRIDE TRIGGERED for ${as}`),Ct="admin"),Ct==="authenticated"&&(Ct="user"),console.log(`[App] Final Decision -> System Role: '${Ct}'`),yr(Ct)}const Ue=await lt("/users/me");if(Ue){console.log("[App] DB User Data Received:",Ue);const Jn=Ue.full_name||((Pe=Ue.email)==null?void 0:Pe.split("@")[0])||"Guest";Bn(Jn);const En=String(Ue.role||((We=Ue.app_metadata)==null?void 0:We.role)||"").toLowerCase();if(qp.includes(En))yr(En),console.log("[App] System Role Enforced from DB:",En);else{const Re=[];Ue.professional_role&&Re.push(Ue.professional_role),Ue.specialty&&Re.push(Ue.specialty),Un(Re.join(" - "))}try{const{subscription:Re}=await lt("/subscriptions/status");kr(Re)}catch{kr(null)}try{const Re=await lt("/settings/preferences");Re&&(Re.language&&Q(Re.language),Re.region&&T(Re.region),Re.country&&j(Re.country),Re.fontSize&&cn(Re.fontSize),Re.isShortAnswer!==void 0&&je(Re.isShortAnswer),Re.theme&&Oe(Re.theme),Re.userRole&&Un(Re.userRole))}catch(Re){console.error("Failed to load preferences",Re)}try{const Re=await lt("/sessions");if(Re){const Ct=Re.map(dn=>({id:dn.id,title:dn.title||"Chat",region:dn.region||"International",country:dn.country||"International",updatedAt:new Date(dn.updated_at),isFavorite:dn.is_favorite,messages:[]}));Kt(Ct)}}catch(Re){console.error("Failed to load sessions",Re)}}}catch(Ye){console.error("Error fetching user profile:",Ye)}};z.useEffect(()=>{Ft.auth.getSession().then(({data:ue,error:be})=>{var ct,Pe;be&&(console.error("Session Check Error:",be),((ct=be.message)!=null&&ct.includes("Refresh Token")||(Pe=be.message)!=null&&Pe.includes("refresh_token"))&&(console.warn("Invalid Refresh Token detected. Clearing session."),localStorage.removeItem("token"),localStorage.removeItem("user"),Ft.auth.signOut().catch(We=>console.error("SignOut cleanup error:",We))));const Le=ue==null?void 0:ue.session;Ua(!!Le),Le!=null&&Le.user?(n(Le.user.id),Ha(Le.user.id)):(n(null),Bn(""),kr(null),Pa(0))});const{data:{subscription:X}}=Ft.auth.onAuthStateChange(async(ue,be)=>{if(console.log(`[Auth] State Change: ${ue}`),ue==="PASSWORD_RECOVERY"){console.log("[Auth] Password Recovery Detected. Forcing Reset Page."),W(!0),d(!1),c(!1),re(!1);return}if(ue==="SIGNED_OUT"||ue==="USER_DELETED"){localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),Bn(""),kr(null),Pa(0),Ua(!1);return}Ua(!!be),be!=null&&be.user?(n(be.user.id),console.log(`[Auth] Session Active. User: ${be.user.email}`),localStorage.setItem("token",be.access_token),localStorage.setItem("user",JSON.stringify(be.user)),Ha(be.user.id)):console.log("[Auth] No User Session.")});return()=>X.unsubscribe()},[]);const da=z.useRef(null),ha=z.useRef(null),Jt=z.useRef(null),fa=z.useRef(null),Xt=z.useRef(!0),ot=(X,ue="info")=>{ti({message:X,type:ue}),setTimeout(()=>ti(null),6e3)},ii=()=>{var X;(X=ha.current)==null||X.scrollIntoView({behavior:"smooth"})},vl=()=>{if(fa.current){const{scrollTop:X,scrollHeight:ue,clientHeight:be}=fa.current,Le=ue-X-be,ct=Le<100;Xt.current=ct,Zr(Le>400)}},Wn=()=>{Oe(X=>X==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark":X==="dark"?"light":"dark")},ma=(X,ue,be)=>{const Le=!be,ct=Le?`${ue}

www.mdnexa.com`:ue,Pe=be||"https://www.mdnexa.com";navigator.share?navigator.share({title:X,text:ct,url:Le?void 0:Pe}).catch(We=>{console.warn("Native share failed/cancelled, falling back to modal."),Pn({title:X,text:ct,url:Pe}),Dt(!0)}):(Pn({title:X,text:ct,url:Pe}),Dt(!0))};z.useEffect(()=>{Xt.current&&!i&&!v&&!_&&!E&&!O&&!I&&!G&&!le&&ii()},[un,i,v,_,E,O,I,G,le]),z.useEffect(()=>{if(localStorage.setItem("mdnexa_save_settings",String(ee)),ee?(localStorage.setItem("mdnexa_region",N),localStorage.setItem("mdnexa_country",M),localStorage.setItem("mdnexa_language",U),localStorage.setItem("mdnexa_short_answer",String(se)),localStorage.setItem("mdnexa_font_size",gt),localStorage.setItem("mdnexa_user_name",ht),localStorage.setItem("mdnexa_user_role",Et)):localStorage.removeItem("mdnexa_region"),yt){const X=setTimeout(async()=>{try{await lt("/settings/preferences","PUT",{region:N,country:M,language:U,isShortAnswer:se,fontSize:gt,theme:_e,userRole:Et})}catch{}},2e3);return()=>clearTimeout(X)}},[ee,N,M,U,se,gt,ht,Et,yt,_e]),z.useEffect(()=>{localStorage.setItem("mdnexa_theme",_e)},[_e]),z.useEffect(()=>{const X=window.document.documentElement;_e==="dark"||_e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?X.classList.add("dark"):X.classList.remove("dark")},[_e]),z.useEffect(()=>{wr&&!K&&tt.trim()&&(console.log("[App] Auto-Submitting Query:",tt),Ba(!1),ts())},[wr,K,tt]),z.useEffect(()=>{const X=document.documentElement;gt==="small"?X.style.fontSize="87.5%":gt==="large"?X.style.fontSize="112.5%":X.style.fontSize="100%"},[gt]),z.useEffect(()=>{un.length<=1||(un.find(X=>X.role===Da.USER),Kt(X=>{const ue=X.findIndex(Pe=>Pe.id===Lt);let be=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});ue>=0&&(be=X[ue].title);const Le=ue>=0?X[ue].isFavorite:!1,ct={id:Lt,title:be,messages:un,region:N,country:M,updatedAt:new Date,isFavorite:Le};if(ue>=0){const Pe=[...X];return Pe[ue]=ct,Pe.sort((We,Ye)=>Ye.updatedAt.getTime()-We.updatedAt.getTime())}else return[ct,...X]}))},[un,N,M,Lt]),z.useEffect(()=>{Jt.current&&(Jt.current.style.height="auto",Jt.current.style.height=Jt.current.scrollHeight+"px")},[tt]);const Sr=()=>{da.current&&(da.current.abort(),da.current=null,ce(!1))},wl=async(X,ue)=>{if(ue.stopPropagation(),Kt(be=>be.filter(Le=>Le.id!==X)),Lt===X&&ga(!1),yt)try{await lt(`/sessions/${X}`,"DELETE")}catch(be){console.error("Failed to delete session",be),ot("Failed to delete session","error")}},ts=async()=>{if(!tt.trim()||K)return;if(yt){const We=["admin","superuser","owner","team","developer","support","friend","friends","family","friends_and_family","family_and_friends","ambassador","ambassadors","ambassasors","partner","vip"].includes(ia.toLowerCase()),Ye=ai&&ai.status==="active";if(console.log(`[Debug] Checking Limit: Count=${jr}, Active=${Ye}, SystemRole=${ia}, Privileged=${We}`),!Ye&&!We){if(jr>=5){alert("You have reached your 5 free questions limit. Upgrade for unlimited access."),S(!0);return}const Ue=jr+1;Pa(Ue),localStorage.setItem(`mdnexa_free_usage_${ht}`,String(Ue))}}else{if(es>=5){Ia(!0);return}const Pe=es+1;ca(Pe),localStorage.setItem("mdnexa_guest_usage_v1",String(Pe))}const X=new AbortController;da.current=X;const ue=tt.trim();la(""),Jt.current&&(Jt.current.style.height="auto");const be={id:$s(),role:Da.USER,text:ue,timestamp:new Date};Xt.current=!0,Nn(Pe=>[...Pe,be]),ce(!0);const Le=$s(),ct={id:Le,role:Da.MODEL,text:"",timestamp:new Date,shouldAnimate:!0};Nn(Pe=>[...Pe,ct]);try{const Pe=await xw({history:un,newMessage:ue,region:N,country:M,userRole:Et,isShortAnswer:se,language:U,onChunk:We=>{Nn(Ye=>Ye.map(Ue=>Ue.id===Le?{...Ue,text:We}:Ue))},signal:X.signal,sessionId:yt?Lt:void 0});try{const We=await bw(ue,Pe,Et,U);We&&We.length>0&&si(We)}catch(We){console.error("Failed to load suggestions",We)}yt&&un.length<=2&&setTimeout(async()=>{try{const We=await lt("/sessions");if(We){const Ye=We.map(Ue=>({id:Ue.id,title:Ue.title||"Chat",region:Ue.region||"International",country:Ue.country||"International",updatedAt:new Date(Ue.updated_at),isFavorite:Ue.is_favorite,messages:Ue.id===Lt?un:[]}));Kt(Ue=>{const Jn=Ye.map(Ct=>{const dn=Ue.find(as=>as.id===Ct.id);return dn?{...Ct,messages:dn.messages}:Ct}),En=Ue.find(Ct=>Ct.id===Lt),Re=Jn.some(Ct=>Ct.id===Lt);return En&&!Re?[En,...Jn]:Jn})}}catch(We){console.warn("Failed to refresh smart title",We)}},4e3)}catch(Pe){Pe.name==="AbortError"?console.log("Generation stopped by user"):(console.error(Pe),Nn(We=>We.map(Ye=>Ye.id===Le?{...Ye,text:"I apologize, but I encountered an error processing your request. Please try again.",isError:!0}:Ye)))}finally{ce(!1),da.current=null}},lc=X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),ts())},ga=async(X=!1)=>{Sr();let ue=$s();if(yt)try{const be=await lt("/sessions","POST",{title:"Chat",region:N,country:M});be&&be.id&&(ue=be.id)}catch(be){console.error("Failed to create session",be)}za(ue),localStorage.setItem("mdnexa_active_session_id",ue),Nn([{id:$s(),role:Da.MODEL,text:jg(U),timestamp:new Date,shouldAnimate:!0}]),si(yl()),Xt.current=!0,X||Ne(!1)},qa=async X=>{if(Sr(),za(X.id),localStorage.setItem("mdnexa_active_session_id",X.id),T(X.region),j(X.country),Ne(!1),yt&&(!X.messages||X.messages.length===0)){ce(!0);try{const ue=await lt(`/sessions/${X.id}/messages`);if(ue){const be=ue.map(Le=>({id:Le.id,role:Le.role==="user"?Da.USER:Da.MODEL,text:Le.content,timestamp:new Date(Le.created_at)}));Nn(be),Kt(Le=>Le.map(ct=>ct.id===X.id?{...ct,messages:be}:ct))}}catch(ue){console.error("Failed to load messages",ue),Nn([])}finally{ce(!1),Xt.current=!0}}else Nn(X.messages),Xt.current=!0},qn=X=>{Kt(ue=>ue.map(be=>be.id===X?{...be,isFavorite:!be.isFavorite}:be))},$t=async()=>{if(yt)try{await lt("/sessions/all","DELETE"),ot("Chat history cleared.","info")}catch(X){console.error("Failed to clear backend history",X),ot("Failed to clear history.","error")}Sr(),Kt([]),Xt.current=!0,ga(!1)};if(v)return l.jsx(_w,{onBack:()=>{S(!1),V("/")},onStart:()=>{S(!1),re(!0),L("login")},isAuthenticated:yt,userName:ht});if(_)return l.jsx(F3,{isAuthenticated:yt,userRole:Et,userName:ht,onBack:()=>A(!1),onStart:()=>{A(!1),c(!1)}});if(E)return l.jsx(Y3,{onBack:()=>q(!1),onStart:()=>{q(!1),c(!1)}});if(O)return l.jsx(K3,{onBack:()=>{Y(!1),V("/")},onStart:()=>{Y(!1),c(!1),V("/")}});if(I)return l.jsx(Q3,{onBack:()=>{D(!1),V("/")},onStart:()=>{D(!1),c(!1),V("/")}});if(G)return l.jsx(W3,{onBack:()=>Z(!1),onStart:()=>{Z(!1),c(!1)}});if(oe)return l.jsx(X3,{});if(he)return l.jsx(Z3,{});if(le)return l.jsx(J3,{onBack:()=>re(!1),onSuccess:()=>{re(!1),Ua(!0)},initialView:te,pendingSubscriptionPriceId:xl||void 0});const $a=async()=>{try{await Ft.auth.signOut()}catch(X){console.error("Logout error (ignoring):",X)}finally{Ua(!1),Kt([]),ca(0),ga(!1),L("login"),c(!0),ot("Logged out successfully."),ot("Logged out successfully."),localStorage.removeItem("mdnexa_user_name"),localStorage.removeItem("mdnexa_active_session_id")}};return i?l.jsx(np,{onStart:()=>{c(!1),V("/ai")},onPricing:()=>S(!0),onBlog:()=>A(!0),onAbout:()=>q(!0),onTerms:()=>{Y(!0),V("/terms_of_service")},onPrivacy:()=>{D(!0),V("/privacy-policy")},onContact:()=>Z(!0),onLogin:()=>{L("login"),re(!0)},onLogout:$a,onToggleTheme:Wn,isAuthenticated:yt,userName:ht,onNavigateToTools:()=>{c(!1),p(!0),V("/tools"),w("tools")}}):l.jsxs("div",{className:"flex h-screen bg-[#F8FAFC] dark:bg-[#0B1120] font-sans overflow-hidden transition-colors duration-300 relative",children:[u&&l.jsx("div",{className:"absolute inset-0 z-40 bg-[#F8FAFC] dark:bg-[#0B1120] overflow-hidden w-full h-full",children:l.jsx(tS,{userName:ht,recentSessions:_n.slice(0,10),favoriteSessions:_n.filter(X=>X.isFavorite),onNavigateToAI:()=>{d(!1),V("/ai"),w("ai")},onOpenSession:X=>{const ue=_n.find(be=>be.id===X);ue&&(qa(ue),d(!1),V("/ai"),w("ai"))},userEmail:typeof window<"u"?(kl=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:kl.email:"",userId:typeof window<"u"?(ns=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:ns.id:"",currentView:b,onNavigateFooter:X=>{X==="ai"?(d(!1),p(!1),x(!1),V("/ai"),w("ai")):X==="tools"?(d(!1),p(!0),x(!1),V("/tools"),w("tools")):X==="settings"?(d(!1),p(!1),x(!0),V("/settings"),w("settings")):(d(!0),p(!1),x(!1),w("dashboard"),V("/dashboard"))},theme:_e,onThemeChange:X=>Oe(X),onSearch:X=>{la(X),Ba(!0),d(!1),V("/ai"),w("ai")}})}),i&&l.jsx("div",{className:"absolute inset-0 z-40 bg-white dark:bg-slate-950 overflow-y-auto w-full h-full",children:l.jsx(np,{onStart:()=>{c(!1),d(!0),V("/dashboard"),w("dashboard")},onPricing:()=>S(!0),onBlog:()=>A(!0),onAbout:()=>q(!0),onTerms:()=>Y(!0),onPrivacy:()=>D(!0),onContact:()=>Z(!0),onLogin:()=>{L("login"),re(!0)},onLogout:$a,onToggleTheme:Wn,isAuthenticated:yt,userName:ht,onNavigateToTools:()=>{c(!1),p(!0),V("/tools"),w("tools")}})}),m&&l.jsx("div",{className:"absolute inset-0 z-40 bg-[#F8FAFC] dark:bg-[#0B1120] overflow-hidden w-full h-full",children:l.jsx(sS,{userName:ht,onNavigateToAI:X=>{X&&la(X),p(!1),V("/ai"),w("ai")},userEmail:typeof window<"u"?(li=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:li.email:"",userId:typeof window<"u"?(_r=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:_r.id:"",currentView:b,onNavigateFooter:X=>{X==="ai"?(d(!1),p(!1),x(!1),V("/ai"),w("ai")):X==="tools"?(d(!1),p(!0),x(!1),V("/tools"),w("tools")):X==="settings"?(d(!1),p(!1),x(!0),V("/settings"),w("settings")):(d(!0),p(!1),x(!1),w("dashboard"),V("/dashboard"))},region:N,language:U,theme:_e,onThemeChange:X=>Oe(X)})}),g&&l.jsx("div",{className:"absolute inset-0 z-40 bg-[#F8FAFC] dark:bg-[#0B1120] overflow-hidden w-full h-full",children:l.jsx(oS,{userName:ht,setUserName:Bn,userRole:Et,setUserRole:Un,theme:_e,onThemeChange:Oe,region:N,setRegion:T,country:M,setCountry:j,language:U,setLanguage:Q,fontSize:gt,setFontSize:cn,isAuthenticated:yt,onOpenAuth:()=>{L("login"),re(!0)},onLogout:$a,onClearHistory:$t})}),!u&&!m&&!g&&l.jsxs(l.Fragment,{children:[l.jsx(Uv,{region:N,setRegion:T,country:M,setCountry:j,language:U,setLanguage:Q,isShortAnswer:se,setIsShortAnswer:je,isOpen:ve,toggleSidebar:()=>Ne(!ve),resetChat:()=>ga(!1),sessions:_n,currentSessionId:Lt,onLoadSession:qa,onDeleteSession:wl,onToggleFavorite:qn,onOpenSettings:()=>{Ot(!0),Ne(!1)},onOpenDictionary:()=>{Rt(!0),Ne(!1)},onBackToLanding:()=>{d(!0),V("/dashboard"),w("dashboard")},onOpenShare:ma,saveSettings:ee,setSaveSettings:fe,isAuthenticated:yt,onOpenAuth:X=>{L(X),re(!0)},onLogout:$a,userName:ht,userRole:Et,onClearAll:$t,theme:_e,onThemeChange:Oe}),l.jsx(Hp,{isOpen:ni,onLogin:()=>{L("login"),re(!0),Ia(!1)},onSignup:()=>{L("signup"),re(!0),Ia(!1)}}),l.jsx(vw,{isOpen:He,onClose:()=>Ot(!1),onClearHistory:$t,theme:_e,onThemeChange:Oe,region:N,setRegion:T,country:M,setCountry:j,fontSize:gt,setFontSize:cn,userName:ht,setUserName:Bn,userRole:Et,setUserRole:Un,isAuthenticated:yt,onOpenAuth:()=>{Ot(!1),re(!0),L("login")},onLogout:()=>{$a(),Ot(!1),Ne(!1)},language:U,setLanguage:Q,isShortAnswer:se,setIsShortAnswer:je}),l.jsx(ww,{isOpen:In,onClose:()=>Rt(!1),region:N,language:U}),l.jsx(kw,{isOpen:pt,onClose:()=>Dt(!1),shareData:Fe}),ni&&l.jsx(Hp,{isOpen:ni,onLogin:()=>{Ia(!1),re(!0),L("login")},onSignup:()=>{Ia(!1),re(!0),L("signup")}}),qt&&l.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-50 animate-fade-in transition-all duration-300 pointer-events-none",children:l.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-floating border ${qt.type==="error"?"bg-red-50 border-red-100 text-red-800 dark:bg-red-900/90 dark:border-red-900 dark:text-white":"bg-slate-800 border-slate-700 text-white shadow-2xl"}`,children:[qt.type==="error"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-red-500 dark:text-red-300",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-medical-400",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"text-sm font-medium",children:qt.message}),l.jsx("button",{onClick:()=>ti(null),className:"ml-2 text-current opacity-60 hover:opacity-100",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:l.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})}),l.jsxs("main",{className:"flex-1 flex flex-col h-full w-full relative isolate",children:[l.jsxs("header",{className:"absolute top-0 left-0 right-0 h-16 flex items-center px-6 justify-between z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200/60 dark:border-slate-800/60",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>Ne(!ve),className:"p-2 -ml-2 text-slate-500 hover:text-slate-700 dark:hover:text-slate-200",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:"/logo_full.png",alt:"MDnexa",className:"hidden md:block h-5 w-auto object-contain"})}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("button",{onClick:()=>c(!0),className:"flex items-center gap-2 hover:opacity-80 transition-opacity"}),l.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:"/"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Guideline Protocol"}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 truncate max-w-[150px] sm:max-w-xs",children:M})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 dark:bg-slate-800 px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700 shadow-sm",children:[l.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-500 ${K?"bg-green-500 animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]":"bg-slate-300 dark:bg-slate-600"}`}),l.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300",children:K?"Processing AI...":"System Ready"})]}),l.jsx("button",{onClick:()=>Oe(_e==="dark"?"light":"dark"),className:"p-1.5 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors",title:"Toggle Theme",children:_e==="dark"?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})})]})]}),vr&&l.jsxs("div",{className:"absolute top-16 left-0 right-0 z-10 bg-blue-50/90 dark:bg-blue-900/20 backdrop-blur-sm border-b border-blue-100 dark:border-blue-900/30 px-4 py-1.5 flex items-center justify-center transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs font-medium text-blue-800 dark:text-blue-200/90",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 opacity-70",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsxs("span",{children:[l.jsx("span",{className:"font-bold opacity-90",children:"Educational Use Only:"})," Information provided is not a substitute for professional medical reasoning."]})]}),l.jsx("button",{onClick:()=>oa(!1),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-800/50 rounded-full transition-colors",title:"Dismiss",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5",children:l.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}),l.jsx("div",{className:`flex-1 overflow-y-auto ${vr?"pt-28":"pt-20"} pb-32 px-4 md:px-8 custom-scrollbar`,ref:fa,onScroll:vl,children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[un.map(X=>l.jsx(yw,{message:X,language:U,onShare:ma},X.id)),!K&&l.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 px-4 animate-fade-in pb-4 ${pr(U)?"rtl":"ltr"}`,dir:pr(U)?"rtl":"ltr",children:ri.map((X,ue)=>l.jsx("button",{onClick:()=>{la(X)},className:`p-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900/50 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all shadow-sm hover:shadow-md group ${pr(U)?"text-right":"text-left"}`,children:l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 group-hover:text-medical-600 dark:group-hover:text-medical-400 transition-colors",children:X})},ue))}),l.jsx("div",{ref:ha})]})}),Xr&&l.jsx("button",{onClick:ii,className:"absolute bottom-36 right-6 md:right-10 z-30 p-2.5 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 rounded-full shadow-lg border border-slate-200 dark:border-slate-700 hover:bg-medical-50 dark:hover:bg-slate-700 hover:text-medical-600 dark:hover:text-medical-400 transition-all duration-300 animate-fade-in",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}),K&&l.jsx("div",{className:"absolute bottom-32 left-0 right-0 z-30 flex justify-center pointer-events-none animate-fade-in",children:l.jsxs("button",{onClick:Sr,className:"pointer-events-auto flex items-center gap-2 px-4 py-2 bg-slate-800 dark:bg-slate-700 text-white text-sm font-medium rounded-full shadow-lg hover:bg-slate-700 dark:hover:bg-slate-600 transition-all hover:scale-105 active:scale-95 border border-slate-700/50",children:[l.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-[1px] animate-pulse"}),"Stop Generating"]})}),l.jsx("div",{className:"absolute bottom-16 left-0 right-0 p-6 pointer-events-none bg-gradient-to-t from-white via-white/90 to-transparent dark:from-[#0B1120] dark:via-[#0B1120]/90 h-32 flex items-end justify-center z-20",children:l.jsx("div",{className:"w-full max-w-4xl relative pointer-events-auto",children:l.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-xl shadow-floating border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-200 focus-within:ring-2 focus-within:ring-medical-500/20 focus-within:border-medical-500/50",children:[l.jsx("textarea",{ref:Jt,value:tt,onChange:X=>la(X.target.value),onKeyDown:lc,placeholder:se?`Ask for a concise summary (${M})...`:tt.trim()?"":r,rows:1,disabled:K,className:"w-full bg-transparent text-slate-800 dark:text-white text-base pl-5 pr-44 py-4 focus:outline-none resize-none max-h-48 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-60"}),l.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center gap-1.5",children:[l.jsxs("button",{onClick:()=>je(!se),disabled:K,className:`h-9 px-2 md:px-3 rounded-lg transition-all duration-200 flex items-center justify-center group/concise relative text-xs font-bold uppercase tracking-wider ${se?"bg-medical-50 dark:bg-medical-900/30 text-medical-600 dark:text-medical-400":"text-slate-400 hover:text-medical-600 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:["Short",l.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-1 rounded opacity-0 group-hover/concise:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-xl",children:se?"Short Answer: ON":"Short Answer: OFF"})]}),l.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),K?l.jsx("button",{onClick:Sr,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:l.jsx("div",{className:"w-3 h-3 bg-current rounded-[2px]"})}):l.jsx("button",{onClick:ts,disabled:!tt.trim(),className:`flex items-center justify-center w-9 h-9 rounded-lg transition-all duration-200 ${tt.trim()?"bg-medical-600 text-white hover:bg-medical-700 shadow-md":"bg-slate-100 dark:bg-slate-700 text-slate-300 dark:text-slate-600 cursor-not-allowed"}`,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:l.jsx("path",{d:"M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086l-1.414 4.926a.75.75 0 00.826.95 28.896 28.896 0 0015.293-7.154.75.75 0 000-1.115A28.897 28.897 0 003.105 2.289z"})})})]})]})})})]})]}),!i&&!le&&l.jsx("div",{className:"fixed bottom-0 left-0 w-full z-[9999]",children:l.jsx(iS,{currentView:b,onNavigate:X=>{X==="ai"?(d(!1),p(!1),x(!1),V("/ai"),w("ai")):X==="tools"?(d(!1),p(!0),x(!1),V("/tools"),w("tools")):X==="settings"?(d(!1),p(!1),x(!0),V("/settings"),w("settings")):(d(!0),p(!1),x(!1),w("dashboard"),V("/dashboard"))}})})]})},uS="modulepreload",dS=function(a){return"/"+a},$p={},hS=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=d(r.map(g=>{if(g=dS(g),g in $p)return;$p[g]=!0;const x=g.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=x?"stylesheet":uS,x||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),x)return new Promise((v,S)=>{w.addEventListener("load",v),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return c.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function fS(a={}){const{immediate:n=!1,onNeedRefresh:r,onOfflineReady:i,onRegistered:c,onRegisteredSW:u,onRegisterError:d}=a;let m,p;const g=async(b=!0)=>{await p};async function x(){if("serviceWorker"in navigator){if(m=await hS(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{d==null||d(b)}),!m)return;m.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),m.addEventListener("installed",b=>{b.isUpdate||i==null||i()}),m.register({immediate:n}).then(b=>{u?u("/sw.js",b):c==null||c(b)}).catch(b=>{d==null||d(b)})}}return p=x(),g}const kb=document.getElementById("root");if(!kb)throw new Error("Could not find root element to mount to");if("serviceWorker"in navigator){const a=fS({onNeedRefresh(){confirm("New content available. Reload?")&&a(!0)},onOfflineReady(){console.log("App ready to work offline")}})}const mS=Bv.createRoot(kb);mS.render(l.jsx(La.StrictMode,{children:l.jsx(cS,{})}));
